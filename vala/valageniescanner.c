/* valageniescanner.c generated by valac, the Vala compiler
 * generated from valageniescanner.vala, do not modify */

/* valageniescanner.vala
 *
 * Copyright (C) 2008  Jamie McCracken, Jürg Billeter
 * Based on code by Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jamie McCracken jamiemcc gnome org
 */

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gobject/gvaluecollector.h>


#define VALA_GENIE_TYPE_SCANNER (vala_genie_scanner_get_type ())
#define VALA_GENIE_SCANNER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_GENIE_TYPE_SCANNER, ValaGenieScanner))
#define VALA_GENIE_SCANNER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_GENIE_TYPE_SCANNER, ValaGenieScannerClass))
#define VALA_GENIE_IS_SCANNER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_GENIE_TYPE_SCANNER))
#define VALA_GENIE_IS_SCANNER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_GENIE_TYPE_SCANNER))
#define VALA_GENIE_SCANNER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_GENIE_TYPE_SCANNER, ValaGenieScannerClass))

typedef struct _ValaGenieScanner ValaGenieScanner;
typedef struct _ValaGenieScannerClass ValaGenieScannerClass;
typedef struct _ValaGenieScannerPrivate ValaGenieScannerPrivate;

#define VALA_TYPE_SOURCE_FILE (vala_source_file_get_type ())
#define VALA_SOURCE_FILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_SOURCE_FILE, ValaSourceFile))
#define VALA_SOURCE_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_SOURCE_FILE, ValaSourceFileClass))
#define VALA_IS_SOURCE_FILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_SOURCE_FILE))
#define VALA_IS_SOURCE_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_SOURCE_FILE))
#define VALA_SOURCE_FILE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_SOURCE_FILE, ValaSourceFileClass))

typedef struct _ValaSourceFile ValaSourceFile;
typedef struct _ValaSourceFileClass ValaSourceFileClass;

#define VALA_GENIE_TYPE_TOKEN_TYPE (vala_genie_token_type_get_type ())

#define VALA_TYPE_COMMENT (vala_comment_get_type ())
#define VALA_COMMENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_COMMENT, ValaComment))
#define VALA_COMMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_COMMENT, ValaCommentClass))
#define VALA_IS_COMMENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_COMMENT))
#define VALA_IS_COMMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_COMMENT))
#define VALA_COMMENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_COMMENT, ValaCommentClass))

typedef struct _ValaComment ValaComment;
typedef struct _ValaCommentClass ValaCommentClass;

#define VALA_GENIE_SCANNER_TYPE_CONDITIONAL (vala_genie_scanner_conditional_get_type ())
typedef struct _ValaGenieScannerConditional ValaGenieScannerConditional;

#define VALA_GENIE_SCANNER_TYPE_STATE (vala_genie_scanner_state_get_type ())
#define _vala_source_file_unref0(var) ((var == NULL) ? NULL : (var = (vala_source_file_unref (var), NULL)))
#define _vala_comment_unref0(var) ((var == NULL) ? NULL : (var = (vala_comment_unref (var), NULL)))

#define VALA_TYPE_SOURCE_LOCATION (vala_source_location_get_type ())
typedef struct _ValaSourceLocation ValaSourceLocation;

#define VALA_TYPE_SOURCE_REFERENCE (vala_source_reference_get_type ())
#define VALA_SOURCE_REFERENCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_SOURCE_REFERENCE, ValaSourceReference))
#define VALA_SOURCE_REFERENCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_SOURCE_REFERENCE, ValaSourceReferenceClass))
#define VALA_IS_SOURCE_REFERENCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_SOURCE_REFERENCE))
#define VALA_IS_SOURCE_REFERENCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_SOURCE_REFERENCE))
#define VALA_SOURCE_REFERENCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_SOURCE_REFERENCE, ValaSourceReferenceClass))

typedef struct _ValaSourceReference ValaSourceReference;
typedef struct _ValaSourceReferenceClass ValaSourceReferenceClass;
#define _vala_source_reference_unref0(var) ((var == NULL) ? NULL : (var = (vala_source_reference_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define VALA_TYPE_CODE_CONTEXT (vala_code_context_get_type ())
#define VALA_CODE_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_CODE_CONTEXT, ValaCodeContext))
#define VALA_CODE_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_CODE_CONTEXT, ValaCodeContextClass))
#define VALA_IS_CODE_CONTEXT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_CODE_CONTEXT))
#define VALA_IS_CODE_CONTEXT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_CODE_CONTEXT))
#define VALA_CODE_CONTEXT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_CODE_CONTEXT, ValaCodeContextClass))

typedef struct _ValaCodeContext ValaCodeContext;
typedef struct _ValaCodeContextClass ValaCodeContextClass;
typedef struct _ValaGenieParamSpecScanner ValaGenieParamSpecScanner;

struct _ValaGenieScanner {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ValaGenieScannerPrivate * priv;
};

struct _ValaGenieScannerClass {
	GTypeClass parent_class;
	void (*finalize) (ValaGenieScanner *self);
};

typedef enum  {
	VALA_GENIE_TOKEN_TYPE_NONE,
	VALA_GENIE_TOKEN_TYPE_ABSTRACT,
	VALA_GENIE_TOKEN_TYPE_ARRAY,
	VALA_GENIE_TOKEN_TYPE_AS,
	VALA_GENIE_TOKEN_TYPE_ASSERT,
	VALA_GENIE_TOKEN_TYPE_ASSIGN,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_ADD,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_BITWISE_AND,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_BITWISE_OR,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_BITWISE_XOR,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_DIV,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_MUL,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_PERCENT,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_SHIFT_LEFT,
	VALA_GENIE_TOKEN_TYPE_ASSIGN_SUB,
	VALA_GENIE_TOKEN_TYPE_ASYNC,
	VALA_GENIE_TOKEN_TYPE_BITWISE_AND,
	VALA_GENIE_TOKEN_TYPE_BITWISE_OR,
	VALA_GENIE_TOKEN_TYPE_BREAK,
	VALA_GENIE_TOKEN_TYPE_CARRET,
	VALA_GENIE_TOKEN_TYPE_CASE,
	VALA_GENIE_TOKEN_TYPE_CHARACTER_LITERAL,
	VALA_GENIE_TOKEN_TYPE_CLASS,
	VALA_GENIE_TOKEN_TYPE_CLOSE_BRACE,
	VALA_GENIE_TOKEN_TYPE_CLOSE_BRACKET,
	VALA_GENIE_TOKEN_TYPE_CLOSE_PARENS,
	VALA_GENIE_TOKEN_TYPE_CLOSE_REGEX_LITERAL,
	VALA_GENIE_TOKEN_TYPE_CLOSE_TEMPLATE,
	VALA_GENIE_TOKEN_TYPE_COLON,
	VALA_GENIE_TOKEN_TYPE_COMMA,
	VALA_GENIE_TOKEN_TYPE_CONST,
	VALA_GENIE_TOKEN_TYPE_CONSTRUCT,
	VALA_GENIE_TOKEN_TYPE_CONTINUE,
	VALA_GENIE_TOKEN_TYPE_DEDENT,
	VALA_GENIE_TOKEN_TYPE_DEF,
	VALA_GENIE_TOKEN_TYPE_DEFAULT,
	VALA_GENIE_TOKEN_TYPE_DELEGATE,
	VALA_GENIE_TOKEN_TYPE_DELETE,
	VALA_GENIE_TOKEN_TYPE_DICT,
	VALA_GENIE_TOKEN_TYPE_DIV,
	VALA_GENIE_TOKEN_TYPE_DO,
	VALA_GENIE_TOKEN_TYPE_DOT,
	VALA_GENIE_TOKEN_TYPE_DOWNTO,
	VALA_GENIE_TOKEN_TYPE_DYNAMIC,
	VALA_GENIE_TOKEN_TYPE_ELLIPSIS,
	VALA_GENIE_TOKEN_TYPE_ELSE,
	VALA_GENIE_TOKEN_TYPE_ENUM,
	VALA_GENIE_TOKEN_TYPE_ENSURES,
	VALA_GENIE_TOKEN_TYPE_ERRORDOMAIN,
	VALA_GENIE_TOKEN_TYPE_EOF,
	VALA_GENIE_TOKEN_TYPE_EOL,
	VALA_GENIE_TOKEN_TYPE_EVENT,
	VALA_GENIE_TOKEN_TYPE_EXCEPT,
	VALA_GENIE_TOKEN_TYPE_EXTERN,
	VALA_GENIE_TOKEN_TYPE_FALSE,
	VALA_GENIE_TOKEN_TYPE_FINAL,
	VALA_GENIE_TOKEN_TYPE_FINALLY,
	VALA_GENIE_TOKEN_TYPE_FOR,
	VALA_GENIE_TOKEN_TYPE_GET,
	VALA_GENIE_TOKEN_TYPE_HASH,
	VALA_GENIE_TOKEN_TYPE_IDENTIFIER,
	VALA_GENIE_TOKEN_TYPE_IF,
	VALA_GENIE_TOKEN_TYPE_IMPLEMENTS,
	VALA_GENIE_TOKEN_TYPE_IN,
	VALA_GENIE_TOKEN_TYPE_INDENT,
	VALA_GENIE_TOKEN_TYPE_INIT,
	VALA_GENIE_TOKEN_TYPE_INLINE,
	VALA_GENIE_TOKEN_TYPE_INTEGER_LITERAL,
	VALA_GENIE_TOKEN_TYPE_INTERFACE,
	VALA_GENIE_TOKEN_TYPE_INTERNAL,
	VALA_GENIE_TOKEN_TYPE_INTERR,
	VALA_GENIE_TOKEN_TYPE_IS,
	VALA_GENIE_TOKEN_TYPE_ISA,
	VALA_GENIE_TOKEN_TYPE_LAMBDA,
	VALA_GENIE_TOKEN_TYPE_LIST,
	VALA_GENIE_TOKEN_TYPE_LOCK,
	VALA_GENIE_TOKEN_TYPE_MINUS,
	VALA_GENIE_TOKEN_TYPE_NAMESPACE,
	VALA_GENIE_TOKEN_TYPE_NEW,
	VALA_GENIE_TOKEN_TYPE_NULL,
	VALA_GENIE_TOKEN_TYPE_OF,
	VALA_GENIE_TOKEN_TYPE_OUT,
	VALA_GENIE_TOKEN_TYPE_OP_AND,
	VALA_GENIE_TOKEN_TYPE_OP_DEC,
	VALA_GENIE_TOKEN_TYPE_OP_EQ,
	VALA_GENIE_TOKEN_TYPE_OP_GE,
	VALA_GENIE_TOKEN_TYPE_OP_GT,
	VALA_GENIE_TOKEN_TYPE_OP_INC,
	VALA_GENIE_TOKEN_TYPE_OP_LE,
	VALA_GENIE_TOKEN_TYPE_OP_LT,
	VALA_GENIE_TOKEN_TYPE_OP_NE,
	VALA_GENIE_TOKEN_TYPE_OP_NEG,
	VALA_GENIE_TOKEN_TYPE_OP_OR,
	VALA_GENIE_TOKEN_TYPE_OP_PTR,
	VALA_GENIE_TOKEN_TYPE_OP_SHIFT_LEFT,
	VALA_GENIE_TOKEN_TYPE_OPEN_BRACE,
	VALA_GENIE_TOKEN_TYPE_OPEN_BRACKET,
	VALA_GENIE_TOKEN_TYPE_OPEN_PARENS,
	VALA_GENIE_TOKEN_TYPE_OPEN_REGEX_LITERAL,
	VALA_GENIE_TOKEN_TYPE_OPEN_TEMPLATE,
	VALA_GENIE_TOKEN_TYPE_OVERRIDE,
	VALA_GENIE_TOKEN_TYPE_OWNED,
	VALA_GENIE_TOKEN_TYPE_PARAMS,
	VALA_GENIE_TOKEN_TYPE_PASS,
	VALA_GENIE_TOKEN_TYPE_PERCENT,
	VALA_GENIE_TOKEN_TYPE_PLUS,
	VALA_GENIE_TOKEN_TYPE_PRINT,
	VALA_GENIE_TOKEN_TYPE_PRIVATE,
	VALA_GENIE_TOKEN_TYPE_PROP,
	VALA_GENIE_TOKEN_TYPE_PROTECTED,
	VALA_GENIE_TOKEN_TYPE_PUBLIC,
	VALA_GENIE_TOKEN_TYPE_RAISE,
	VALA_GENIE_TOKEN_TYPE_RAISES,
	VALA_GENIE_TOKEN_TYPE_REAL_LITERAL,
	VALA_GENIE_TOKEN_TYPE_READONLY,
	VALA_GENIE_TOKEN_TYPE_REF,
	VALA_GENIE_TOKEN_TYPE_REGEX_LITERAL,
	VALA_GENIE_TOKEN_TYPE_REQUIRES,
	VALA_GENIE_TOKEN_TYPE_RETURN,
	VALA_GENIE_TOKEN_TYPE_SEMICOLON,
	VALA_GENIE_TOKEN_TYPE_SET,
	VALA_GENIE_TOKEN_TYPE_SIZEOF,
	VALA_GENIE_TOKEN_TYPE_STAR,
	VALA_GENIE_TOKEN_TYPE_STATIC,
	VALA_GENIE_TOKEN_TYPE_STRING_LITERAL,
	VALA_GENIE_TOKEN_TYPE_STRUCT,
	VALA_GENIE_TOKEN_TYPE_SUPER,
	VALA_GENIE_TOKEN_TYPE_TEMPLATE_STRING_LITERAL,
	VALA_GENIE_TOKEN_TYPE_THIS,
	VALA_GENIE_TOKEN_TYPE_TILDE,
	VALA_GENIE_TOKEN_TYPE_TO,
	VALA_GENIE_TOKEN_TYPE_TRUE,
	VALA_GENIE_TOKEN_TYPE_TRY,
	VALA_GENIE_TOKEN_TYPE_TYPEOF,
	VALA_GENIE_TOKEN_TYPE_UNOWNED,
	VALA_GENIE_TOKEN_TYPE_USES,
	VALA_GENIE_TOKEN_TYPE_VAR,
	VALA_GENIE_TOKEN_TYPE_VERBATIM_STRING_LITERAL,
	VALA_GENIE_TOKEN_TYPE_VIRTUAL,
	VALA_GENIE_TOKEN_TYPE_VOID,
	VALA_GENIE_TOKEN_TYPE_VOLATILE,
	VALA_GENIE_TOKEN_TYPE_WEAK,
	VALA_GENIE_TOKEN_TYPE_WHEN,
	VALA_GENIE_TOKEN_TYPE_WHILE,
	VALA_GENIE_TOKEN_TYPE_WRITEONLY,
	VALA_GENIE_TOKEN_TYPE_YIELD
} ValaGenieTokenType;

struct _ValaGenieScannerConditional {
	gboolean matched;
	gboolean else_found;
	gboolean skip_section;
};

typedef enum  {
	VALA_GENIE_SCANNER_STATE_PARENS,
	VALA_GENIE_SCANNER_STATE_BRACE,
	VALA_GENIE_SCANNER_STATE_BRACKET,
	VALA_GENIE_SCANNER_STATE_REGEX_LITERAL,
	VALA_GENIE_SCANNER_STATE_TEMPLATE,
	VALA_GENIE_SCANNER_STATE_TEMPLATE_PART
} ValaGenieScannerState;

struct _ValaGenieScannerPrivate {
	ValaSourceFile* _source_file;
	gint _indent_spaces;
	gchar* begin;
	gchar* current;
	gchar* end;
	gint line;
	gint column;
	gint current_indent_level;
	gint indent_level;
	gint pending_dedents;
	gint open_parens_count;
	gint open_brace_count;
	ValaGenieTokenType last_token;
	gboolean parse_started;
	ValaComment* _comment;
	ValaGenieScannerConditional* conditional_stack;
	gint conditional_stack_length1;
	gint _conditional_stack_size_;
	ValaGenieScannerState* state_stack;
	gint state_stack_length1;
	gint _state_stack_size_;
};

struct _ValaSourceLocation {
	gchar* pos;
	gint line;
	gint column;
};

struct _ValaGenieParamSpecScanner {
	GParamSpec parent_instance;
};


static gpointer vala_genie_scanner_parent_class = NULL;

gpointer vala_genie_scanner_ref (gpointer instance);
void vala_genie_scanner_unref (gpointer instance);
GParamSpec* vala_genie_param_spec_scanner (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_genie_value_set_scanner (GValue* value, gpointer v_object);
void vala_genie_value_take_scanner (GValue* value, gpointer v_object);
gpointer vala_genie_value_get_scanner (const GValue* value);
GType vala_genie_scanner_get_type (void) G_GNUC_CONST;
gpointer vala_source_file_ref (gpointer instance);
void vala_source_file_unref (gpointer instance);
GParamSpec* vala_param_spec_source_file (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_source_file (GValue* value, gpointer v_object);
void vala_value_take_source_file (GValue* value, gpointer v_object);
gpointer vala_value_get_source_file (const GValue* value);
GType vala_source_file_get_type (void) G_GNUC_CONST;
GType vala_genie_token_type_get_type (void) G_GNUC_CONST;
gpointer vala_comment_ref (gpointer instance);
void vala_comment_unref (gpointer instance);
GParamSpec* vala_param_spec_comment (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_comment (GValue* value, gpointer v_object);
void vala_value_take_comment (GValue* value, gpointer v_object);
gpointer vala_value_get_comment (const GValue* value);
GType vala_comment_get_type (void) G_GNUC_CONST;
static GType vala_genie_scanner_conditional_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
static ValaGenieScannerConditional* vala_genie_scanner_conditional_dup (const ValaGenieScannerConditional* self);
static void vala_genie_scanner_conditional_free (ValaGenieScannerConditional* self);
static GType vala_genie_scanner_state_get_type (void) G_GNUC_UNUSED;
#define VALA_GENIE_SCANNER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), VALA_GENIE_TYPE_SCANNER, ValaGenieScannerPrivate))
enum  {
	VALA_GENIE_SCANNER_DUMMY_PROPERTY
};
ValaGenieScanner* vala_genie_scanner_new (ValaSourceFile* source_file);
ValaGenieScanner* vala_genie_scanner_construct (GType object_type, ValaSourceFile* source_file);
static void vala_genie_scanner_set_source_file (ValaGenieScanner* self, ValaSourceFile* value);
gchar* vala_source_file_get_mapped_contents (ValaSourceFile* self);
gsize vala_source_file_get_mapped_length (ValaSourceFile* self);
static gboolean vala_genie_scanner_in_template (ValaGenieScanner* self);
static gboolean vala_genie_scanner_in_template_part (ValaGenieScanner* self);
static gboolean vala_genie_scanner_is_ident_char (ValaGenieScanner* self, gchar c);
static gboolean vala_genie_scanner_in_regex_literal (ValaGenieScanner* self);
GType vala_source_location_get_type (void) G_GNUC_CONST;
ValaSourceLocation* vala_source_location_dup (const ValaSourceLocation* self);
void vala_source_location_free (ValaSourceLocation* self);
ValaGenieTokenType vala_genie_scanner_read_regex_token (ValaGenieScanner* self, ValaSourceLocation* token_begin, ValaSourceLocation* token_end);
void vala_source_location_init (ValaSourceLocation *self, gchar* _pos, gint _line, gint _column);
gpointer vala_source_reference_ref (gpointer instance);
void vala_source_reference_unref (gpointer instance);
GParamSpec* vala_param_spec_source_reference (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_source_reference (GValue* value, gpointer v_object);
void vala_value_take_source_reference (GValue* value, gpointer v_object);
gpointer vala_value_get_source_reference (const GValue* value);
GType vala_source_reference_get_type (void) G_GNUC_CONST;
void vala_report_error (ValaSourceReference* source, const gchar* message);
ValaSourceFile* vala_genie_scanner_get_source_file (ValaGenieScanner* self);
ValaSourceReference* vala_source_reference_new (ValaSourceFile* _file, gint _first_line, gint _first_column, gint _last_line, gint _last_column);
ValaSourceReference* vala_source_reference_construct (GType object_type, ValaSourceFile* _file, gint _first_line, gint _first_column, gint _last_line, gint _last_column);
ValaGenieTokenType vala_genie_scanner_read_token (ValaGenieScanner* self, ValaSourceLocation* token_begin, ValaSourceLocation* token_end);
void vala_genie_scanner_seek (ValaGenieScanner* self, ValaSourceLocation* location);
static ValaGenieTokenType vala_genie_scanner_get_identifier_or_keyword (ValaGenieScanner* self, gchar* begin, gint len);
static gboolean vala_genie_scanner_matches (ValaGenieScanner* self, gchar* begin, const gchar* keyword);
ValaGenieTokenType vala_genie_scanner_read_template_token (ValaGenieScanner* self, ValaSourceLocation* token_begin, ValaSourceLocation* token_end);
static void _vala_array_add2 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add3 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add4 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add5 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void vala_genie_scanner_space (ValaGenieScanner* self);
static void vala_genie_scanner_skip_space_tabs (ValaGenieScanner* self);
static inline gboolean vala_genie_scanner_newline (ValaGenieScanner* self);
static gboolean vala_genie_scanner_skip_newlines (ValaGenieScanner* self);
static gint vala_genie_scanner_count_tabs (ValaGenieScanner* self);
static void _vala_array_add6 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add7 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add8 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add9 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static void _vala_array_add10 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value);
static gboolean vala_genie_scanner_whitespace (ValaGenieScanner* self);
static void vala_genie_scanner_pp_directive (ValaGenieScanner* self);
static gboolean vala_genie_scanner_comment (ValaGenieScanner* self, gboolean file_comment);
static void vala_genie_scanner_push_comment (ValaGenieScanner* self, const gchar* comment_item, ValaSourceReference* source_reference, gboolean file_comment);
static gboolean vala_genie_scanner_skip_tabs (ValaGenieScanner* self);
void vala_genie_scanner_parse_file_comments (ValaGenieScanner* self);
ValaComment* vala_comment_new (const gchar* comment, ValaSourceReference* _source_reference);
ValaComment* vala_comment_construct (GType object_type, const gchar* comment, ValaSourceReference* _source_reference);
void vala_source_file_add_comment (ValaSourceFile* self, ValaComment* comment);
ValaComment* vala_genie_scanner_pop_comment (ValaGenieScanner* self);
static gboolean vala_genie_scanner_pp_whitespace (ValaGenieScanner* self);
static void vala_genie_scanner_parse_pp_if (ValaGenieScanner* self);
static void vala_genie_scanner_parse_pp_elif (ValaGenieScanner* self);
static void vala_genie_scanner_parse_pp_else (ValaGenieScanner* self);
static void vala_genie_scanner_parse_pp_endif (ValaGenieScanner* self);
static void vala_genie_scanner_pp_eol (ValaGenieScanner* self);
static gboolean vala_genie_scanner_parse_pp_expression (ValaGenieScanner* self);
static void _vala_array_add11 (ValaGenieScannerConditional** array, int* length, int* size, const ValaGenieScannerConditional* value);
static gboolean vala_genie_scanner_parse_pp_symbol (ValaGenieScanner* self);
gpointer vala_code_context_ref (gpointer instance);
void vala_code_context_unref (gpointer instance);
GParamSpec* vala_param_spec_code_context (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_code_context (GValue* value, gpointer v_object);
void vala_value_take_code_context (GValue* value, gpointer v_object);
gpointer vala_value_get_code_context (const GValue* value);
GType vala_code_context_get_type (void) G_GNUC_CONST;
ValaCodeContext* vala_source_file_get_context (ValaSourceFile* self);
gboolean vala_code_context_is_defined (ValaCodeContext* self, const gchar* define);
static gboolean vala_genie_scanner_parse_pp_primary_expression (ValaGenieScanner* self);
static gboolean vala_genie_scanner_parse_pp_unary_expression (ValaGenieScanner* self);
static gboolean vala_genie_scanner_parse_pp_equality_expression (ValaGenieScanner* self);
static gboolean vala_genie_scanner_parse_pp_and_expression (ValaGenieScanner* self);
static gboolean vala_genie_scanner_parse_pp_or_expression (ValaGenieScanner* self);
gint vala_genie_scanner_get_indent_spaces (ValaGenieScanner* self);
void vala_genie_scanner_set_indent_spaces (ValaGenieScanner* self, gint value);
static void vala_genie_scanner_finalize (ValaGenieScanner* obj);


static GType vala_genie_scanner_state_get_type (void) {
	static volatile gsize vala_genie_scanner_state_type_id__volatile = 0;
	if (g_once_init_enter (&vala_genie_scanner_state_type_id__volatile)) {
		static const GEnumValue values[] = {{VALA_GENIE_SCANNER_STATE_PARENS, "VALA_GENIE_SCANNER_STATE_PARENS", "parens"}, {VALA_GENIE_SCANNER_STATE_BRACE, "VALA_GENIE_SCANNER_STATE_BRACE", "brace"}, {VALA_GENIE_SCANNER_STATE_BRACKET, "VALA_GENIE_SCANNER_STATE_BRACKET", "bracket"}, {VALA_GENIE_SCANNER_STATE_REGEX_LITERAL, "VALA_GENIE_SCANNER_STATE_REGEX_LITERAL", "regex-literal"}, {VALA_GENIE_SCANNER_STATE_TEMPLATE, "VALA_GENIE_SCANNER_STATE_TEMPLATE", "template"}, {VALA_GENIE_SCANNER_STATE_TEMPLATE_PART, "VALA_GENIE_SCANNER_STATE_TEMPLATE_PART", "template-part"}, {0, NULL, NULL}};
		GType vala_genie_scanner_state_type_id;
		vala_genie_scanner_state_type_id = g_enum_register_static ("ValaGenieScannerState", values);
		g_once_init_leave (&vala_genie_scanner_state_type_id__volatile, vala_genie_scanner_state_type_id);
	}
	return vala_genie_scanner_state_type_id__volatile;
}


ValaGenieScanner* vala_genie_scanner_construct (GType object_type, ValaSourceFile* source_file) {
	ValaGenieScanner* self = NULL;
	ValaSourceFile* _tmp0_;
	ValaSourceFile* _tmp1_;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_;
	ValaSourceFile* _tmp4_;
	gsize _tmp5_ = 0UL;
	gchar* _tmp6_;
	g_return_val_if_fail (source_file != NULL, NULL);
	self = (ValaGenieScanner*) g_type_create_instance (object_type);
	_tmp0_ = source_file;
	vala_genie_scanner_set_source_file (self, _tmp0_);
	_tmp1_ = source_file;
	_tmp2_ = vala_source_file_get_mapped_contents (_tmp1_);
	self->priv->begin = _tmp2_;
	_tmp3_ = self->priv->begin;
	_tmp4_ = source_file;
	_tmp5_ = vala_source_file_get_mapped_length (_tmp4_);
	self->priv->end = _tmp3_ + _tmp5_;
	_tmp6_ = self->priv->begin;
	self->priv->current = _tmp6_;
	self->priv->_indent_spaces = 0;
	self->priv->line = 1;
	self->priv->column = 1;
	self->priv->current_indent_level = 0;
	self->priv->indent_level = 0;
	self->priv->pending_dedents = 0;
	self->priv->open_parens_count = 0;
	self->priv->open_brace_count = 0;
	self->priv->parse_started = FALSE;
	self->priv->last_token = VALA_GENIE_TOKEN_TYPE_NONE;
	return self;
}


ValaGenieScanner* vala_genie_scanner_new (ValaSourceFile* source_file) {
	return vala_genie_scanner_construct (VALA_GENIE_TYPE_SCANNER, source_file);
}


static gboolean vala_genie_scanner_in_template (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	ValaGenieScannerState* _tmp1_;
	gint _tmp1__length1;
	gboolean _tmp5_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = self->priv->state_stack;
	_tmp1__length1 = self->priv->state_stack_length1;
	if (_tmp1__length1 > 0) {
		ValaGenieScannerState* _tmp2_;
		gint _tmp2__length1;
		ValaGenieScannerState* _tmp3_;
		gint _tmp3__length1;
		ValaGenieScannerState _tmp4_;
		_tmp2_ = self->priv->state_stack;
		_tmp2__length1 = self->priv->state_stack_length1;
		_tmp3_ = self->priv->state_stack;
		_tmp3__length1 = self->priv->state_stack_length1;
		_tmp4_ = _tmp2_[_tmp3__length1 - 1];
		_tmp0_ = _tmp4_ == VALA_GENIE_SCANNER_STATE_TEMPLATE;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = _tmp0_;
	result = _tmp5_;
	return result;
}


static gboolean vala_genie_scanner_in_template_part (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	ValaGenieScannerState* _tmp1_;
	gint _tmp1__length1;
	gboolean _tmp5_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = self->priv->state_stack;
	_tmp1__length1 = self->priv->state_stack_length1;
	if (_tmp1__length1 > 0) {
		ValaGenieScannerState* _tmp2_;
		gint _tmp2__length1;
		ValaGenieScannerState* _tmp3_;
		gint _tmp3__length1;
		ValaGenieScannerState _tmp4_;
		_tmp2_ = self->priv->state_stack;
		_tmp2__length1 = self->priv->state_stack_length1;
		_tmp3_ = self->priv->state_stack;
		_tmp3__length1 = self->priv->state_stack_length1;
		_tmp4_ = _tmp2_[_tmp3__length1 - 1];
		_tmp0_ = _tmp4_ == VALA_GENIE_SCANNER_STATE_TEMPLATE_PART;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = _tmp0_;
	result = _tmp5_;
	return result;
}


static gboolean vala_genie_scanner_is_ident_char (ValaGenieScanner* self, gchar c) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gchar _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp4_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = c;
	_tmp2_ = g_ascii_isalnum (_tmp1_);
	if (_tmp2_) {
		_tmp0_ = TRUE;
	} else {
		gchar _tmp3_;
		_tmp3_ = c;
		_tmp0_ = _tmp3_ == '_';
	}
	_tmp4_ = _tmp0_;
	result = _tmp4_;
	return result;
}


static gboolean vala_genie_scanner_in_regex_literal (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	ValaGenieScannerState* _tmp1_;
	gint _tmp1__length1;
	gboolean _tmp5_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = self->priv->state_stack;
	_tmp1__length1 = self->priv->state_stack_length1;
	if (_tmp1__length1 > 0) {
		ValaGenieScannerState* _tmp2_;
		gint _tmp2__length1;
		ValaGenieScannerState* _tmp3_;
		gint _tmp3__length1;
		ValaGenieScannerState _tmp4_;
		_tmp2_ = self->priv->state_stack;
		_tmp2__length1 = self->priv->state_stack_length1;
		_tmp3_ = self->priv->state_stack;
		_tmp3__length1 = self->priv->state_stack_length1;
		_tmp4_ = _tmp2_[_tmp3__length1 - 1];
		_tmp0_ = _tmp4_ == VALA_GENIE_SCANNER_STATE_REGEX_LITERAL;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = _tmp0_;
	result = _tmp5_;
	return result;
}


ValaGenieTokenType vala_genie_scanner_read_regex_token (ValaGenieScanner* self, ValaSourceLocation* token_begin, ValaSourceLocation* token_end) {
	ValaSourceLocation _vala_token_begin = {0};
	ValaSourceLocation _vala_token_end = {0};
	ValaGenieTokenType result = 0;
	ValaGenieTokenType type = 0;
	gchar* _tmp0_;
	gchar* begin;
	gchar* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	ValaSourceLocation _tmp4_ = {0};
	gint token_length_in_chars;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gint _tmp145_;
	gchar* _tmp151_;
	gint _tmp152_;
	gint _tmp153_;
	ValaSourceLocation _tmp154_ = {0};
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->current;
	begin = _tmp0_;
	_tmp1_ = begin;
	_tmp2_ = self->priv->line;
	_tmp3_ = self->priv->column;
	vala_source_location_init (&_tmp4_, _tmp1_, _tmp2_, _tmp3_);
	_vala_token_begin = _tmp4_;
	token_length_in_chars = -1;
	_tmp5_ = self->priv->current;
	_tmp6_ = self->priv->end;
	if (_tmp5_ >= _tmp6_) {
		type = VALA_GENIE_TOKEN_TYPE_EOF;
	} else {
		gchar* _tmp7_;
		gchar _tmp8_;
		_tmp7_ = self->priv->current;
		_tmp8_ = _tmp7_[0];
		switch (_tmp8_) {
			case '/':
			{
				gchar* _tmp9_;
				gint _tmp10_;
				gboolean fl_i;
				gboolean fl_s;
				gboolean fl_m;
				gboolean fl_x;
				type = VALA_GENIE_TOKEN_TYPE_CLOSE_REGEX_LITERAL;
				_tmp9_ = self->priv->current;
				self->priv->current = _tmp9_ + 1;
				_tmp10_ = self->priv->state_stack_length1;
				self->priv->state_stack_length1 = _tmp10_ - 1;
				fl_i = FALSE;
				fl_s = FALSE;
				fl_m = FALSE;
				fl_x = FALSE;
				while (TRUE) {
					gboolean _tmp11_ = FALSE;
					gboolean _tmp12_ = FALSE;
					gboolean _tmp13_ = FALSE;
					gchar* _tmp14_;
					gchar _tmp15_;
					gboolean _tmp18_;
					gboolean _tmp21_;
					gboolean _tmp24_;
					gchar* _tmp25_;
					gchar _tmp26_;
					gchar* _tmp67_;
					gint _tmp68_;
					_tmp14_ = self->priv->current;
					_tmp15_ = _tmp14_[0];
					if (_tmp15_ == 'i') {
						_tmp13_ = TRUE;
					} else {
						gchar* _tmp16_;
						gchar _tmp17_;
						_tmp16_ = self->priv->current;
						_tmp17_ = _tmp16_[0];
						_tmp13_ = _tmp17_ == 's';
					}
					_tmp18_ = _tmp13_;
					if (_tmp18_) {
						_tmp12_ = TRUE;
					} else {
						gchar* _tmp19_;
						gchar _tmp20_;
						_tmp19_ = self->priv->current;
						_tmp20_ = _tmp19_[0];
						_tmp12_ = _tmp20_ == 'm';
					}
					_tmp21_ = _tmp12_;
					if (_tmp21_) {
						_tmp11_ = TRUE;
					} else {
						gchar* _tmp22_;
						gchar _tmp23_;
						_tmp22_ = self->priv->current;
						_tmp23_ = _tmp22_[0];
						_tmp11_ = _tmp23_ == 'x';
					}
					_tmp24_ = _tmp11_;
					if (!_tmp24_) {
						break;
					}
					_tmp25_ = self->priv->current;
					_tmp26_ = _tmp25_[0];
					switch (_tmp26_) {
						case 'i':
						{
							gboolean _tmp27_;
							_tmp27_ = fl_i;
							if (_tmp27_) {
								ValaSourceFile* _tmp28_;
								gint _tmp29_;
								gint _tmp30_;
								gint _tmp31_;
								gint _tmp32_;
								gint _tmp33_;
								gint _tmp34_;
								ValaSourceReference* _tmp35_;
								ValaSourceReference* _tmp36_;
								_tmp28_ = self->priv->_source_file;
								_tmp29_ = self->priv->line;
								_tmp30_ = self->priv->column;
								_tmp31_ = token_length_in_chars;
								_tmp32_ = self->priv->line;
								_tmp33_ = self->priv->column;
								_tmp34_ = token_length_in_chars;
								_tmp35_ = vala_source_reference_new (_tmp28_, _tmp29_, _tmp30_ + _tmp31_, _tmp32_, _tmp33_ + _tmp34_);
								_tmp36_ = _tmp35_;
								vala_report_error (_tmp36_, "modifier 'i' used more than once");
								_vala_source_reference_unref0 (_tmp36_);
							}
							fl_i = TRUE;
							break;
						}
						case 's':
						{
							gboolean _tmp37_;
							_tmp37_ = fl_s;
							if (_tmp37_) {
								ValaSourceFile* _tmp38_;
								gint _tmp39_;
								gint _tmp40_;
								gint _tmp41_;
								gint _tmp42_;
								gint _tmp43_;
								gint _tmp44_;
								ValaSourceReference* _tmp45_;
								ValaSourceReference* _tmp46_;
								_tmp38_ = self->priv->_source_file;
								_tmp39_ = self->priv->line;
								_tmp40_ = self->priv->column;
								_tmp41_ = token_length_in_chars;
								_tmp42_ = self->priv->line;
								_tmp43_ = self->priv->column;
								_tmp44_ = token_length_in_chars;
								_tmp45_ = vala_source_reference_new (_tmp38_, _tmp39_, _tmp40_ + _tmp41_, _tmp42_, _tmp43_ + _tmp44_);
								_tmp46_ = _tmp45_;
								vala_report_error (_tmp46_, "modifier 's' used more than once");
								_vala_source_reference_unref0 (_tmp46_);
							}
							fl_s = TRUE;
							break;
						}
						case 'm':
						{
							gboolean _tmp47_;
							_tmp47_ = fl_m;
							if (_tmp47_) {
								ValaSourceFile* _tmp48_;
								gint _tmp49_;
								gint _tmp50_;
								gint _tmp51_;
								gint _tmp52_;
								gint _tmp53_;
								gint _tmp54_;
								ValaSourceReference* _tmp55_;
								ValaSourceReference* _tmp56_;
								_tmp48_ = self->priv->_source_file;
								_tmp49_ = self->priv->line;
								_tmp50_ = self->priv->column;
								_tmp51_ = token_length_in_chars;
								_tmp52_ = self->priv->line;
								_tmp53_ = self->priv->column;
								_tmp54_ = token_length_in_chars;
								_tmp55_ = vala_source_reference_new (_tmp48_, _tmp49_, _tmp50_ + _tmp51_, _tmp52_, _tmp53_ + _tmp54_);
								_tmp56_ = _tmp55_;
								vala_report_error (_tmp56_, "modifier 'm' used more than once");
								_vala_source_reference_unref0 (_tmp56_);
							}
							fl_m = TRUE;
							break;
						}
						case 'x':
						{
							gboolean _tmp57_;
							_tmp57_ = fl_x;
							if (_tmp57_) {
								ValaSourceFile* _tmp58_;
								gint _tmp59_;
								gint _tmp60_;
								gint _tmp61_;
								gint _tmp62_;
								gint _tmp63_;
								gint _tmp64_;
								ValaSourceReference* _tmp65_;
								ValaSourceReference* _tmp66_;
								_tmp58_ = self->priv->_source_file;
								_tmp59_ = self->priv->line;
								_tmp60_ = self->priv->column;
								_tmp61_ = token_length_in_chars;
								_tmp62_ = self->priv->line;
								_tmp63_ = self->priv->column;
								_tmp64_ = token_length_in_chars;
								_tmp65_ = vala_source_reference_new (_tmp58_, _tmp59_, _tmp60_ + _tmp61_, _tmp62_, _tmp63_ + _tmp64_);
								_tmp66_ = _tmp65_;
								vala_report_error (_tmp66_, "modifier 'x' used more than once");
								_vala_source_reference_unref0 (_tmp66_);
							}
							fl_x = TRUE;
							break;
						}
						default:
						break;
					}
					_tmp67_ = self->priv->current;
					self->priv->current = _tmp67_ + 1;
					_tmp68_ = token_length_in_chars;
					token_length_in_chars = _tmp68_ + 1;
				}
				break;
			}
			default:
			{
				gboolean _tmp126_ = FALSE;
				gchar* _tmp127_;
				gchar* _tmp128_;
				gboolean _tmp131_;
				type = VALA_GENIE_TOKEN_TYPE_REGEX_LITERAL;
				token_length_in_chars = 0;
				while (TRUE) {
					gboolean _tmp69_ = FALSE;
					gchar* _tmp70_;
					gchar* _tmp71_;
					gboolean _tmp74_;
					gchar* _tmp75_;
					gchar _tmp76_;
					_tmp70_ = self->priv->current;
					_tmp71_ = self->priv->end;
					if (_tmp70_ < _tmp71_) {
						gchar* _tmp72_;
						gchar _tmp73_;
						_tmp72_ = self->priv->current;
						_tmp73_ = _tmp72_[0];
						_tmp69_ = _tmp73_ != '/';
					} else {
						_tmp69_ = FALSE;
					}
					_tmp74_ = _tmp69_;
					if (!_tmp74_) {
						break;
					}
					_tmp75_ = self->priv->current;
					_tmp76_ = _tmp75_[0];
					if (_tmp76_ == '\\') {
						gchar* _tmp77_;
						gint _tmp78_;
						gchar* _tmp79_;
						gchar* _tmp80_;
						gchar* _tmp81_;
						gchar _tmp82_;
						_tmp77_ = self->priv->current;
						self->priv->current = _tmp77_ + 1;
						_tmp78_ = token_length_in_chars;
						token_length_in_chars = _tmp78_ + 1;
						_tmp79_ = self->priv->current;
						_tmp80_ = self->priv->end;
						if (_tmp79_ >= _tmp80_) {
							break;
						}
						_tmp81_ = self->priv->current;
						_tmp82_ = _tmp81_[0];
						switch (_tmp82_) {
							case '\'':
							case '"':
							case '\\':
							case '/':
							case '^':
							case '$':
							case '.':
							case '[':
							case ']':
							case '{':
							case '}':
							case '(':
							case ')':
							case '?':
							case '*':
							case '+':
							case '-':
							case '#':
							case '&':
							case '~':
							case ':':
							case ';':
							case '<':
							case '>':
							case '|':
							case '%':
							case '=':
							case '@':
							case '0':
							case 'b':
							case 'B':
							case 'f':
							case 'n':
							case 'r':
							case 't':
							case 'a':
							case 'A':
							case 'p':
							case 'P':
							case 'e':
							case 'd':
							case 'D':
							case 's':
							case 'S':
							case 'w':
							case 'W':
							case 'G':
							case 'z':
							case 'Z':
							{
								gchar* _tmp83_;
								gint _tmp84_;
								_tmp83_ = self->priv->current;
								self->priv->current = _tmp83_ + 1;
								_tmp84_ = token_length_in_chars;
								token_length_in_chars = _tmp84_ + 1;
								break;
							}
							case 'x':
							{
								gchar* _tmp85_;
								gint _tmp86_;
								_tmp85_ = self->priv->current;
								self->priv->current = _tmp85_ + 1;
								_tmp86_ = token_length_in_chars;
								token_length_in_chars = _tmp86_ + 1;
								while (TRUE) {
									gboolean _tmp87_ = FALSE;
									gchar* _tmp88_;
									gchar* _tmp89_;
									gboolean _tmp93_;
									gchar* _tmp94_;
									gint _tmp95_;
									_tmp88_ = self->priv->current;
									_tmp89_ = self->priv->end;
									if (_tmp88_ < _tmp89_) {
										gchar* _tmp90_;
										gchar _tmp91_;
										gboolean _tmp92_ = FALSE;
										_tmp90_ = self->priv->current;
										_tmp91_ = _tmp90_[0];
										_tmp92_ = g_ascii_isxdigit (_tmp91_);
										_tmp87_ = _tmp92_;
									} else {
										_tmp87_ = FALSE;
									}
									_tmp93_ = _tmp87_;
									if (!_tmp93_) {
										break;
									}
									_tmp94_ = self->priv->current;
									self->priv->current = _tmp94_ + 1;
									_tmp95_ = token_length_in_chars;
									token_length_in_chars = _tmp95_ + 1;
								}
								break;
							}
							default:
							{
								ValaSourceFile* _tmp96_;
								gint _tmp97_;
								gint _tmp98_;
								gint _tmp99_;
								gint _tmp100_;
								gint _tmp101_;
								gint _tmp102_;
								ValaSourceReference* _tmp103_;
								ValaSourceReference* _tmp104_;
								_tmp96_ = self->priv->_source_file;
								_tmp97_ = self->priv->line;
								_tmp98_ = self->priv->column;
								_tmp99_ = token_length_in_chars;
								_tmp100_ = self->priv->line;
								_tmp101_ = self->priv->column;
								_tmp102_ = token_length_in_chars;
								_tmp103_ = vala_source_reference_new (_tmp96_, _tmp97_, _tmp98_ + _tmp99_, _tmp100_, _tmp101_ + _tmp102_);
								_tmp104_ = _tmp103_;
								vala_report_error (_tmp104_, "invalid escape sequence");
								_vala_source_reference_unref0 (_tmp104_);
								break;
							}
						}
					} else {
						gchar* _tmp105_;
						gchar _tmp106_;
						_tmp105_ = self->priv->current;
						_tmp106_ = _tmp105_[0];
						if (_tmp106_ == '\n') {
							break;
						} else {
							gchar* _tmp107_;
							gchar* _tmp108_;
							gchar* _tmp109_;
							gunichar _tmp110_ = 0U;
							gunichar u;
							gunichar _tmp111_;
							_tmp107_ = self->priv->current;
							_tmp108_ = self->priv->end;
							_tmp109_ = self->priv->current;
							_tmp110_ = g_utf8_get_char_validated ((const gchar*) _tmp107_, (gssize) ((glong) (_tmp108_ - _tmp109_)));
							u = _tmp110_;
							_tmp111_ = u;
							if (_tmp111_ != ((gunichar) (-1))) {
								gchar* _tmp112_;
								gunichar _tmp113_;
								gint _tmp114_ = 0;
								gint _tmp115_;
								_tmp112_ = self->priv->current;
								_tmp113_ = u;
								_tmp114_ = g_unichar_to_utf8 (_tmp113_, NULL);
								self->priv->current = _tmp112_ + _tmp114_;
								_tmp115_ = token_length_in_chars;
								token_length_in_chars = _tmp115_ + 1;
							} else {
								gchar* _tmp116_;
								ValaSourceFile* _tmp117_;
								gint _tmp118_;
								gint _tmp119_;
								gint _tmp120_;
								gint _tmp121_;
								gint _tmp122_;
								gint _tmp123_;
								ValaSourceReference* _tmp124_;
								ValaSourceReference* _tmp125_;
								_tmp116_ = self->priv->current;
								self->priv->current = _tmp116_ + 1;
								_tmp117_ = self->priv->_source_file;
								_tmp118_ = self->priv->line;
								_tmp119_ = self->priv->column;
								_tmp120_ = token_length_in_chars;
								_tmp121_ = self->priv->line;
								_tmp122_ = self->priv->column;
								_tmp123_ = token_length_in_chars;
								_tmp124_ = vala_source_reference_new (_tmp117_, _tmp118_, _tmp119_ + _tmp120_, _tmp121_, _tmp122_ + _tmp123_);
								_tmp125_ = _tmp124_;
								vala_report_error (_tmp125_, "invalid UTF-8 character");
								_vala_source_reference_unref0 (_tmp125_);
							}
						}
					}
				}
				_tmp127_ = self->priv->current;
				_tmp128_ = self->priv->end;
				if (_tmp127_ >= _tmp128_) {
					_tmp126_ = TRUE;
				} else {
					gchar* _tmp129_;
					gchar _tmp130_;
					_tmp129_ = self->priv->current;
					_tmp130_ = _tmp129_[0];
					_tmp126_ = _tmp130_ == '\n';
				}
				_tmp131_ = _tmp126_;
				if (_tmp131_) {
					ValaSourceFile* _tmp132_;
					gint _tmp133_;
					gint _tmp134_;
					gint _tmp135_;
					gint _tmp136_;
					gint _tmp137_;
					gint _tmp138_;
					ValaSourceReference* _tmp139_;
					ValaSourceReference* _tmp140_;
					gint _tmp141_;
					ValaSourceLocation _tmp142_ = {0};
					ValaSourceLocation _tmp143_ = {0};
					ValaGenieTokenType _tmp144_ = 0;
					_tmp132_ = self->priv->_source_file;
					_tmp133_ = self->priv->line;
					_tmp134_ = self->priv->column;
					_tmp135_ = token_length_in_chars;
					_tmp136_ = self->priv->line;
					_tmp137_ = self->priv->column;
					_tmp138_ = token_length_in_chars;
					_tmp139_ = vala_source_reference_new (_tmp132_, _tmp133_, _tmp134_ + _tmp135_, _tmp136_, _tmp137_ + _tmp138_);
					_tmp140_ = _tmp139_;
					vala_report_error (_tmp140_, "syntax error, expected \"");
					_vala_source_reference_unref0 (_tmp140_);
					_tmp141_ = self->priv->state_stack_length1;
					self->priv->state_stack_length1 = _tmp141_ - 1;
					_tmp144_ = vala_genie_scanner_read_token (self, &_tmp142_, &_tmp143_);
					_vala_token_begin = _tmp142_;
					_vala_token_end = _tmp143_;
					result = _tmp144_;
					if (token_begin) {
						*token_begin = _vala_token_begin;
					}
					if (token_end) {
						*token_end = _vala_token_end;
					}
					return result;
				}
				break;
			}
		}
	}
	_tmp145_ = token_length_in_chars;
	if (_tmp145_ < 0) {
		gint _tmp146_;
		gchar* _tmp147_;
		gchar* _tmp148_;
		_tmp146_ = self->priv->column;
		_tmp147_ = self->priv->current;
		_tmp148_ = begin;
		self->priv->column = _tmp146_ + ((gint) (_tmp147_ - _tmp148_));
	} else {
		gint _tmp149_;
		gint _tmp150_;
		_tmp149_ = self->priv->column;
		_tmp150_ = token_length_in_chars;
		self->priv->column = _tmp149_ + _tmp150_;
	}
	_tmp151_ = self->priv->current;
	_tmp152_ = self->priv->line;
	_tmp153_ = self->priv->column;
	vala_source_location_init (&_tmp154_, _tmp151_, _tmp152_, _tmp153_ - 1);
	_vala_token_end = _tmp154_;
	result = type;
	if (token_begin) {
		*token_begin = _vala_token_begin;
	}
	if (token_end) {
		*token_end = _vala_token_end;
	}
	return result;
}


void vala_genie_scanner_seek (ValaGenieScanner* self, ValaSourceLocation* location) {
	ValaSourceLocation _tmp0_;
	gchar* _tmp1_;
	ValaSourceLocation _tmp2_;
	gint _tmp3_;
	ValaSourceLocation _tmp4_;
	gint _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (location != NULL);
	_tmp0_ = *location;
	_tmp1_ = _tmp0_.pos;
	self->priv->current = _tmp1_;
	_tmp2_ = *location;
	_tmp3_ = _tmp2_.line;
	self->priv->line = _tmp3_;
	_tmp4_ = *location;
	_tmp5_ = _tmp4_.column;
	self->priv->column = _tmp5_;
	self->priv->conditional_stack = (g_free (self->priv->conditional_stack), NULL);
	self->priv->conditional_stack = NULL;
	self->priv->conditional_stack_length1 = 0;
	self->priv->_conditional_stack_size_ = self->priv->conditional_stack_length1;
	self->priv->state_stack = (g_free (self->priv->state_stack), NULL);
	self->priv->state_stack = NULL;
	self->priv->state_stack_length1 = 0;
	self->priv->_state_stack_size_ = self->priv->state_stack_length1;
}


static ValaGenieTokenType vala_genie_scanner_get_identifier_or_keyword (ValaGenieScanner* self, gchar* begin, gint len) {
	ValaGenieTokenType result = 0;
	gint _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = len;
	switch (_tmp0_) {
		case 2:
		{
			gchar* _tmp1_;
			gchar _tmp2_;
			_tmp1_ = begin;
			_tmp2_ = _tmp1_[0];
			switch (_tmp2_) {
				case 'a':
				{
					gchar* _tmp3_;
					gboolean _tmp4_ = FALSE;
					_tmp3_ = begin;
					_tmp4_ = vala_genie_scanner_matches (self, _tmp3_, "as");
					if (_tmp4_) {
						result = VALA_GENIE_TOKEN_TYPE_AS;
						return result;
					}
					break;
				}
				case 'd':
				{
					gchar* _tmp5_;
					gboolean _tmp6_ = FALSE;
					_tmp5_ = begin;
					_tmp6_ = vala_genie_scanner_matches (self, _tmp5_, "do");
					if (_tmp6_) {
						result = VALA_GENIE_TOKEN_TYPE_DO;
						return result;
					}
					break;
				}
				case 'i':
				{
					gchar* _tmp7_;
					gchar _tmp8_;
					_tmp7_ = begin;
					_tmp8_ = _tmp7_[1];
					switch (_tmp8_) {
						case 'f':
						{
							result = VALA_GENIE_TOKEN_TYPE_IF;
							return result;
						}
						case 'n':
						{
							result = VALA_GENIE_TOKEN_TYPE_IN;
							return result;
						}
						case 's':
						{
							result = VALA_GENIE_TOKEN_TYPE_IS;
							return result;
						}
						default:
						break;
					}
					break;
				}
				case 'o':
				{
					gchar* _tmp9_;
					gboolean _tmp10_ = FALSE;
					gchar* _tmp11_;
					gboolean _tmp12_ = FALSE;
					_tmp9_ = begin;
					_tmp10_ = vala_genie_scanner_matches (self, _tmp9_, "of");
					if (_tmp10_) {
						result = VALA_GENIE_TOKEN_TYPE_OF;
						return result;
					}
					_tmp11_ = begin;
					_tmp12_ = vala_genie_scanner_matches (self, _tmp11_, "or");
					if (_tmp12_) {
						result = VALA_GENIE_TOKEN_TYPE_OP_OR;
						return result;
					}
					break;
				}
				case 't':
				{
					gchar* _tmp13_;
					gboolean _tmp14_ = FALSE;
					_tmp13_ = begin;
					_tmp14_ = vala_genie_scanner_matches (self, _tmp13_, "to");
					if (_tmp14_) {
						result = VALA_GENIE_TOKEN_TYPE_TO;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 3:
		{
			gchar* _tmp15_;
			gchar _tmp16_;
			_tmp15_ = begin;
			_tmp16_ = _tmp15_[0];
			switch (_tmp16_) {
				case 'a':
				{
					gchar* _tmp17_;
					gboolean _tmp18_ = FALSE;
					_tmp17_ = begin;
					_tmp18_ = vala_genie_scanner_matches (self, _tmp17_, "and");
					if (_tmp18_) {
						result = VALA_GENIE_TOKEN_TYPE_OP_AND;
						return result;
					}
					break;
				}
				case 'd':
				{
					gchar* _tmp19_;
					gboolean _tmp20_ = FALSE;
					_tmp19_ = begin;
					_tmp20_ = vala_genie_scanner_matches (self, _tmp19_, "def");
					if (_tmp20_) {
						result = VALA_GENIE_TOKEN_TYPE_DEF;
						return result;
					}
					break;
				}
				case 'f':
				{
					gchar* _tmp21_;
					gboolean _tmp22_ = FALSE;
					_tmp21_ = begin;
					_tmp22_ = vala_genie_scanner_matches (self, _tmp21_, "for");
					if (_tmp22_) {
						result = VALA_GENIE_TOKEN_TYPE_FOR;
						return result;
					}
					break;
				}
				case 'g':
				{
					gchar* _tmp23_;
					gboolean _tmp24_ = FALSE;
					_tmp23_ = begin;
					_tmp24_ = vala_genie_scanner_matches (self, _tmp23_, "get");
					if (_tmp24_) {
						result = VALA_GENIE_TOKEN_TYPE_GET;
						return result;
					}
					break;
				}
				case 'i':
				{
					gchar* _tmp25_;
					gboolean _tmp26_ = FALSE;
					_tmp25_ = begin;
					_tmp26_ = vala_genie_scanner_matches (self, _tmp25_, "isa");
					if (_tmp26_) {
						result = VALA_GENIE_TOKEN_TYPE_ISA;
						return result;
					}
					break;
				}
				case 'n':
				{
					gchar* _tmp27_;
					gchar _tmp28_;
					_tmp27_ = begin;
					_tmp28_ = _tmp27_[1];
					switch (_tmp28_) {
						case 'e':
						{
							gchar* _tmp29_;
							gboolean _tmp30_ = FALSE;
							_tmp29_ = begin;
							_tmp30_ = vala_genie_scanner_matches (self, _tmp29_, "new");
							if (_tmp30_) {
								result = VALA_GENIE_TOKEN_TYPE_NEW;
								return result;
							}
							break;
						}
						case 'o':
						{
							gchar* _tmp31_;
							gboolean _tmp32_ = FALSE;
							_tmp31_ = begin;
							_tmp32_ = vala_genie_scanner_matches (self, _tmp31_, "not");
							if (_tmp32_) {
								result = VALA_GENIE_TOKEN_TYPE_OP_NEG;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'o':
				{
					gchar* _tmp33_;
					gboolean _tmp34_ = FALSE;
					_tmp33_ = begin;
					_tmp34_ = vala_genie_scanner_matches (self, _tmp33_, "out");
					if (_tmp34_) {
						result = VALA_GENIE_TOKEN_TYPE_OUT;
						return result;
					}
					break;
				}
				case 'r':
				{
					gchar* _tmp35_;
					gboolean _tmp36_ = FALSE;
					_tmp35_ = begin;
					_tmp36_ = vala_genie_scanner_matches (self, _tmp35_, "ref");
					if (_tmp36_) {
						result = VALA_GENIE_TOKEN_TYPE_REF;
						return result;
					}
					break;
				}
				case 's':
				{
					gchar* _tmp37_;
					gboolean _tmp38_ = FALSE;
					_tmp37_ = begin;
					_tmp38_ = vala_genie_scanner_matches (self, _tmp37_, "set");
					if (_tmp38_) {
						result = VALA_GENIE_TOKEN_TYPE_SET;
						return result;
					}
					break;
				}
				case 't':
				{
					gchar* _tmp39_;
					gboolean _tmp40_ = FALSE;
					_tmp39_ = begin;
					_tmp40_ = vala_genie_scanner_matches (self, _tmp39_, "try");
					if (_tmp40_) {
						result = VALA_GENIE_TOKEN_TYPE_TRY;
						return result;
					}
					break;
				}
				case 'v':
				{
					gchar* _tmp41_;
					gboolean _tmp42_ = FALSE;
					_tmp41_ = begin;
					_tmp42_ = vala_genie_scanner_matches (self, _tmp41_, "var");
					if (_tmp42_) {
						result = VALA_GENIE_TOKEN_TYPE_VAR;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 4:
		{
			gchar* _tmp43_;
			gchar _tmp44_;
			_tmp43_ = begin;
			_tmp44_ = _tmp43_[0];
			switch (_tmp44_) {
				case 'c':
				{
					gchar* _tmp45_;
					gboolean _tmp46_ = FALSE;
					_tmp45_ = begin;
					_tmp46_ = vala_genie_scanner_matches (self, _tmp45_, "case");
					if (_tmp46_) {
						result = VALA_GENIE_TOKEN_TYPE_CASE;
						return result;
					}
					break;
				}
				case 'd':
				{
					gchar* _tmp47_;
					gboolean _tmp48_ = FALSE;
					_tmp47_ = begin;
					_tmp48_ = vala_genie_scanner_matches (self, _tmp47_, "dict");
					if (_tmp48_) {
						result = VALA_GENIE_TOKEN_TYPE_DICT;
						return result;
					}
					break;
				}
				case 'e':
				{
					gchar* _tmp49_;
					gchar _tmp50_;
					_tmp49_ = begin;
					_tmp50_ = _tmp49_[1];
					switch (_tmp50_) {
						case 'l':
						{
							gchar* _tmp51_;
							gboolean _tmp52_ = FALSE;
							_tmp51_ = begin;
							_tmp52_ = vala_genie_scanner_matches (self, _tmp51_, "else");
							if (_tmp52_) {
								result = VALA_GENIE_TOKEN_TYPE_ELSE;
								return result;
							}
							break;
						}
						case 'n':
						{
							gchar* _tmp53_;
							gboolean _tmp54_ = FALSE;
							_tmp53_ = begin;
							_tmp54_ = vala_genie_scanner_matches (self, _tmp53_, "enum");
							if (_tmp54_) {
								result = VALA_GENIE_TOKEN_TYPE_ENUM;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'i':
				{
					gchar* _tmp55_;
					gboolean _tmp56_ = FALSE;
					_tmp55_ = begin;
					_tmp56_ = vala_genie_scanner_matches (self, _tmp55_, "init");
					if (_tmp56_) {
						result = VALA_GENIE_TOKEN_TYPE_INIT;
						return result;
					}
					break;
				}
				case 'l':
				{
					gchar* _tmp57_;
					gchar _tmp58_;
					_tmp57_ = begin;
					_tmp58_ = _tmp57_[1];
					switch (_tmp58_) {
						case 'i':
						{
							gchar* _tmp59_;
							gboolean _tmp60_ = FALSE;
							_tmp59_ = begin;
							_tmp60_ = vala_genie_scanner_matches (self, _tmp59_, "list");
							if (_tmp60_) {
								result = VALA_GENIE_TOKEN_TYPE_LIST;
								return result;
							}
							break;
						}
						case 'o':
						{
							gchar* _tmp61_;
							gboolean _tmp62_ = FALSE;
							_tmp61_ = begin;
							_tmp62_ = vala_genie_scanner_matches (self, _tmp61_, "lock");
							if (_tmp62_) {
								result = VALA_GENIE_TOKEN_TYPE_LOCK;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'n':
				{
					gchar* _tmp63_;
					gboolean _tmp64_ = FALSE;
					_tmp63_ = begin;
					_tmp64_ = vala_genie_scanner_matches (self, _tmp63_, "null");
					if (_tmp64_) {
						result = VALA_GENIE_TOKEN_TYPE_NULL;
						return result;
					}
					break;
				}
				case 'p':
				{
					gchar* _tmp65_;
					gchar _tmp66_;
					_tmp65_ = begin;
					_tmp66_ = _tmp65_[1];
					switch (_tmp66_) {
						case 'a':
						{
							gchar* _tmp67_;
							gboolean _tmp68_ = FALSE;
							_tmp67_ = begin;
							_tmp68_ = vala_genie_scanner_matches (self, _tmp67_, "pass");
							if (_tmp68_) {
								result = VALA_GENIE_TOKEN_TYPE_PASS;
								return result;
							}
							break;
						}
						case 'r':
						{
							gchar* _tmp69_;
							gboolean _tmp70_ = FALSE;
							_tmp69_ = begin;
							_tmp70_ = vala_genie_scanner_matches (self, _tmp69_, "prop");
							if (_tmp70_) {
								result = VALA_GENIE_TOKEN_TYPE_PROP;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 's':
				{
					gchar* _tmp71_;
					gboolean _tmp72_ = FALSE;
					_tmp71_ = begin;
					_tmp72_ = vala_genie_scanner_matches (self, _tmp71_, "self");
					if (_tmp72_) {
						result = VALA_GENIE_TOKEN_TYPE_THIS;
						return result;
					}
					break;
				}
				case 't':
				{
					gchar* _tmp73_;
					gboolean _tmp74_ = FALSE;
					_tmp73_ = begin;
					_tmp74_ = vala_genie_scanner_matches (self, _tmp73_, "true");
					if (_tmp74_) {
						result = VALA_GENIE_TOKEN_TYPE_TRUE;
						return result;
					}
					break;
				}
				case 'u':
				{
					gchar* _tmp75_;
					gboolean _tmp76_ = FALSE;
					_tmp75_ = begin;
					_tmp76_ = vala_genie_scanner_matches (self, _tmp75_, "uses");
					if (_tmp76_) {
						result = VALA_GENIE_TOKEN_TYPE_USES;
						return result;
					}
					break;
				}
				case 'v':
				{
					gchar* _tmp77_;
					gboolean _tmp78_ = FALSE;
					_tmp77_ = begin;
					_tmp78_ = vala_genie_scanner_matches (self, _tmp77_, "void");
					if (_tmp78_) {
						result = VALA_GENIE_TOKEN_TYPE_VOID;
						return result;
					}
					break;
				}
				case 'w':
				{
					gchar* _tmp79_;
					gchar _tmp80_;
					_tmp79_ = begin;
					_tmp80_ = _tmp79_[1];
					switch (_tmp80_) {
						case 'e':
						{
							gchar* _tmp81_;
							gboolean _tmp82_ = FALSE;
							_tmp81_ = begin;
							_tmp82_ = vala_genie_scanner_matches (self, _tmp81_, "weak");
							if (_tmp82_) {
								result = VALA_GENIE_TOKEN_TYPE_WEAK;
								return result;
							}
							break;
						}
						case 'h':
						{
							gchar* _tmp83_;
							gboolean _tmp84_ = FALSE;
							_tmp83_ = begin;
							_tmp84_ = vala_genie_scanner_matches (self, _tmp83_, "when");
							if (_tmp84_) {
								result = VALA_GENIE_TOKEN_TYPE_WHEN;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 5:
		{
			gchar* _tmp85_;
			gchar _tmp86_;
			_tmp85_ = begin;
			_tmp86_ = _tmp85_[0];
			switch (_tmp86_) {
				case 'a':
				{
					gchar* _tmp87_;
					gchar _tmp88_;
					_tmp87_ = begin;
					_tmp88_ = _tmp87_[1];
					switch (_tmp88_) {
						case 'r':
						{
							gchar* _tmp89_;
							gboolean _tmp90_ = FALSE;
							_tmp89_ = begin;
							_tmp90_ = vala_genie_scanner_matches (self, _tmp89_, "array");
							if (_tmp90_) {
								result = VALA_GENIE_TOKEN_TYPE_ARRAY;
								return result;
							}
							break;
						}
						case 's':
						{
							gchar* _tmp91_;
							gboolean _tmp92_ = FALSE;
							_tmp91_ = begin;
							_tmp92_ = vala_genie_scanner_matches (self, _tmp91_, "async");
							if (_tmp92_) {
								result = VALA_GENIE_TOKEN_TYPE_ASYNC;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'b':
				{
					gchar* _tmp93_;
					gboolean _tmp94_ = FALSE;
					_tmp93_ = begin;
					_tmp94_ = vala_genie_scanner_matches (self, _tmp93_, "break");
					if (_tmp94_) {
						result = VALA_GENIE_TOKEN_TYPE_BREAK;
						return result;
					}
					break;
				}
				case 'c':
				{
					gchar* _tmp95_;
					gchar _tmp96_;
					_tmp95_ = begin;
					_tmp96_ = _tmp95_[1];
					switch (_tmp96_) {
						case 'l':
						{
							gchar* _tmp97_;
							gboolean _tmp98_ = FALSE;
							_tmp97_ = begin;
							_tmp98_ = vala_genie_scanner_matches (self, _tmp97_, "class");
							if (_tmp98_) {
								result = VALA_GENIE_TOKEN_TYPE_CLASS;
								return result;
							}
							break;
						}
						case 'o':
						{
							gchar* _tmp99_;
							gboolean _tmp100_ = FALSE;
							_tmp99_ = begin;
							_tmp100_ = vala_genie_scanner_matches (self, _tmp99_, "const");
							if (_tmp100_) {
								result = VALA_GENIE_TOKEN_TYPE_CONST;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'e':
				{
					gchar* _tmp101_;
					gboolean _tmp102_ = FALSE;
					_tmp101_ = begin;
					_tmp102_ = vala_genie_scanner_matches (self, _tmp101_, "event");
					if (_tmp102_) {
						result = VALA_GENIE_TOKEN_TYPE_EVENT;
						return result;
					}
					break;
				}
				case 'f':
				{
					gchar* _tmp103_;
					gchar _tmp104_;
					_tmp103_ = begin;
					_tmp104_ = _tmp103_[1];
					switch (_tmp104_) {
						case 'a':
						{
							gchar* _tmp105_;
							gboolean _tmp106_ = FALSE;
							_tmp105_ = begin;
							_tmp106_ = vala_genie_scanner_matches (self, _tmp105_, "false");
							if (_tmp106_) {
								result = VALA_GENIE_TOKEN_TYPE_FALSE;
								return result;
							}
							break;
						}
						case 'i':
						{
							gchar* _tmp107_;
							gboolean _tmp108_ = FALSE;
							_tmp107_ = begin;
							_tmp108_ = vala_genie_scanner_matches (self, _tmp107_, "final");
							if (_tmp108_) {
								result = VALA_GENIE_TOKEN_TYPE_FINAL;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'o':
				{
					gchar* _tmp109_;
					gboolean _tmp110_ = FALSE;
					_tmp109_ = begin;
					_tmp110_ = vala_genie_scanner_matches (self, _tmp109_, "owned");
					if (_tmp110_) {
						result = VALA_GENIE_TOKEN_TYPE_OWNED;
						return result;
					}
					break;
				}
				case 'p':
				{
					gchar* _tmp111_;
					gboolean _tmp112_ = FALSE;
					_tmp111_ = begin;
					_tmp112_ = vala_genie_scanner_matches (self, _tmp111_, "print");
					if (_tmp112_) {
						result = VALA_GENIE_TOKEN_TYPE_PRINT;
						return result;
					}
					break;
				}
				case 's':
				{
					gchar* _tmp113_;
					gboolean _tmp114_ = FALSE;
					_tmp113_ = begin;
					_tmp114_ = vala_genie_scanner_matches (self, _tmp113_, "super");
					if (_tmp114_) {
						result = VALA_GENIE_TOKEN_TYPE_SUPER;
						return result;
					}
					break;
				}
				case 'r':
				{
					gchar* _tmp115_;
					gboolean _tmp116_ = FALSE;
					_tmp115_ = begin;
					_tmp116_ = vala_genie_scanner_matches (self, _tmp115_, "raise");
					if (_tmp116_) {
						result = VALA_GENIE_TOKEN_TYPE_RAISE;
						return result;
					}
					break;
				}
				case 'w':
				{
					gchar* _tmp117_;
					gboolean _tmp118_ = FALSE;
					_tmp117_ = begin;
					_tmp118_ = vala_genie_scanner_matches (self, _tmp117_, "while");
					if (_tmp118_) {
						result = VALA_GENIE_TOKEN_TYPE_WHILE;
						return result;
					}
					break;
				}
				case 'y':
				{
					gchar* _tmp119_;
					gboolean _tmp120_ = FALSE;
					_tmp119_ = begin;
					_tmp120_ = vala_genie_scanner_matches (self, _tmp119_, "yield");
					if (_tmp120_) {
						result = VALA_GENIE_TOKEN_TYPE_YIELD;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 6:
		{
			gchar* _tmp121_;
			gchar _tmp122_;
			_tmp121_ = begin;
			_tmp122_ = _tmp121_[0];
			switch (_tmp122_) {
				case 'a':
				{
					gchar* _tmp123_;
					gboolean _tmp124_ = FALSE;
					_tmp123_ = begin;
					_tmp124_ = vala_genie_scanner_matches (self, _tmp123_, "assert");
					if (_tmp124_) {
						result = VALA_GENIE_TOKEN_TYPE_ASSERT;
						return result;
					}
					break;
				}
				case 'd':
				{
					gchar* _tmp125_;
					gchar _tmp126_;
					_tmp125_ = begin;
					_tmp126_ = _tmp125_[1];
					switch (_tmp126_) {
						case 'e':
						{
							gchar* _tmp127_;
							gboolean _tmp128_ = FALSE;
							_tmp127_ = begin;
							_tmp128_ = vala_genie_scanner_matches (self, _tmp127_, "delete");
							if (_tmp128_) {
								result = VALA_GENIE_TOKEN_TYPE_DELETE;
								return result;
							}
							break;
						}
						case 'o':
						{
							gchar* _tmp129_;
							gboolean _tmp130_ = FALSE;
							_tmp129_ = begin;
							_tmp130_ = vala_genie_scanner_matches (self, _tmp129_, "downto");
							if (_tmp130_) {
								result = VALA_GENIE_TOKEN_TYPE_DOWNTO;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'e':
				{
					gchar* _tmp131_;
					gchar _tmp132_;
					_tmp131_ = begin;
					_tmp132_ = _tmp131_[1];
					switch (_tmp132_) {
						case 'x':
						{
							gchar* _tmp133_;
							gchar _tmp134_;
							_tmp133_ = begin;
							_tmp134_ = _tmp133_[2];
							switch (_tmp134_) {
								case 'c':
								{
									gchar* _tmp135_;
									gboolean _tmp136_ = FALSE;
									_tmp135_ = begin;
									_tmp136_ = vala_genie_scanner_matches (self, _tmp135_, "except");
									if (_tmp136_) {
										result = VALA_GENIE_TOKEN_TYPE_EXCEPT;
										return result;
									}
									break;
								}
								case 't':
								{
									gchar* _tmp137_;
									gboolean _tmp138_ = FALSE;
									_tmp137_ = begin;
									_tmp138_ = vala_genie_scanner_matches (self, _tmp137_, "extern");
									if (_tmp138_) {
										result = VALA_GENIE_TOKEN_TYPE_EXTERN;
										return result;
									}
									break;
								}
								default:
								break;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'i':
				{
					gchar* _tmp139_;
					gboolean _tmp140_ = FALSE;
					_tmp139_ = begin;
					_tmp140_ = vala_genie_scanner_matches (self, _tmp139_, "inline");
					if (_tmp140_) {
						result = VALA_GENIE_TOKEN_TYPE_INLINE;
						return result;
					}
					break;
				}
				case 'p':
				{
					gchar* _tmp141_;
					gchar _tmp142_;
					_tmp141_ = begin;
					_tmp142_ = _tmp141_[1];
					switch (_tmp142_) {
						case 'a':
						{
							gchar* _tmp143_;
							gboolean _tmp144_ = FALSE;
							_tmp143_ = begin;
							_tmp144_ = vala_genie_scanner_matches (self, _tmp143_, "params");
							if (_tmp144_) {
								result = VALA_GENIE_TOKEN_TYPE_PARAMS;
								return result;
							}
							break;
						}
						case 'u':
						{
							gchar* _tmp145_;
							gboolean _tmp146_ = FALSE;
							_tmp145_ = begin;
							_tmp146_ = vala_genie_scanner_matches (self, _tmp145_, "public");
							if (_tmp146_) {
								result = VALA_GENIE_TOKEN_TYPE_PUBLIC;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'r':
				{
					gchar* _tmp147_;
					gchar _tmp148_;
					_tmp147_ = begin;
					_tmp148_ = _tmp147_[1];
					switch (_tmp148_) {
						case 'a':
						{
							gchar* _tmp149_;
							gboolean _tmp150_ = FALSE;
							_tmp149_ = begin;
							_tmp150_ = vala_genie_scanner_matches (self, _tmp149_, "raises");
							if (_tmp150_) {
								result = VALA_GENIE_TOKEN_TYPE_RAISES;
								return result;
							}
							break;
						}
						case 'e':
						{
							gchar* _tmp151_;
							gboolean _tmp152_ = FALSE;
							_tmp151_ = begin;
							_tmp152_ = vala_genie_scanner_matches (self, _tmp151_, "return");
							if (_tmp152_) {
								result = VALA_GENIE_TOKEN_TYPE_RETURN;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 's':
				{
					gchar* _tmp153_;
					gchar _tmp154_;
					_tmp153_ = begin;
					_tmp154_ = _tmp153_[1];
					switch (_tmp154_) {
						case 'i':
						{
							gchar* _tmp155_;
							gboolean _tmp156_ = FALSE;
							_tmp155_ = begin;
							_tmp156_ = vala_genie_scanner_matches (self, _tmp155_, "sizeof");
							if (_tmp156_) {
								result = VALA_GENIE_TOKEN_TYPE_SIZEOF;
								return result;
							}
							break;
						}
						case 't':
						{
							gchar* _tmp157_;
							gchar _tmp158_;
							_tmp157_ = begin;
							_tmp158_ = _tmp157_[2];
							switch (_tmp158_) {
								case 'a':
								{
									gchar* _tmp159_;
									gboolean _tmp160_ = FALSE;
									_tmp159_ = begin;
									_tmp160_ = vala_genie_scanner_matches (self, _tmp159_, "static");
									if (_tmp160_) {
										result = VALA_GENIE_TOKEN_TYPE_STATIC;
										return result;
									}
									break;
								}
								case 'r':
								{
									gchar* _tmp161_;
									gboolean _tmp162_ = FALSE;
									_tmp161_ = begin;
									_tmp162_ = vala_genie_scanner_matches (self, _tmp161_, "struct");
									if (_tmp162_) {
										result = VALA_GENIE_TOKEN_TYPE_STRUCT;
										return result;
									}
									break;
								}
								default:
								break;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 't':
				{
					gchar* _tmp163_;
					gboolean _tmp164_ = FALSE;
					_tmp163_ = begin;
					_tmp164_ = vala_genie_scanner_matches (self, _tmp163_, "typeof");
					if (_tmp164_) {
						result = VALA_GENIE_TOKEN_TYPE_TYPEOF;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 7:
		{
			gchar* _tmp165_;
			gchar _tmp166_;
			_tmp165_ = begin;
			_tmp166_ = _tmp165_[0];
			switch (_tmp166_) {
				case 'd':
				{
					gchar* _tmp167_;
					gchar _tmp168_;
					_tmp167_ = begin;
					_tmp168_ = _tmp167_[1];
					switch (_tmp168_) {
						case 'e':
						{
							gchar* _tmp169_;
							gboolean _tmp170_ = FALSE;
							_tmp169_ = begin;
							_tmp170_ = vala_genie_scanner_matches (self, _tmp169_, "default");
							if (_tmp170_) {
								result = VALA_GENIE_TOKEN_TYPE_DEFAULT;
								return result;
							}
							break;
						}
						case 'y':
						{
							gchar* _tmp171_;
							gboolean _tmp172_ = FALSE;
							_tmp171_ = begin;
							_tmp172_ = vala_genie_scanner_matches (self, _tmp171_, "dynamic");
							if (_tmp172_) {
								result = VALA_GENIE_TOKEN_TYPE_DYNAMIC;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'e':
				{
					gchar* _tmp173_;
					gboolean _tmp174_ = FALSE;
					_tmp173_ = begin;
					_tmp174_ = vala_genie_scanner_matches (self, _tmp173_, "ensures");
					if (_tmp174_) {
						result = VALA_GENIE_TOKEN_TYPE_ENSURES;
						return result;
					}
					break;
				}
				case 'f':
				{
					gchar* _tmp175_;
					gchar _tmp176_;
					_tmp175_ = begin;
					_tmp176_ = _tmp175_[1];
					switch (_tmp176_) {
						case 'i':
						{
							gchar* _tmp177_;
							gboolean _tmp178_ = FALSE;
							_tmp177_ = begin;
							_tmp178_ = vala_genie_scanner_matches (self, _tmp177_, "finally");
							if (_tmp178_) {
								result = VALA_GENIE_TOKEN_TYPE_FINALLY;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'p':
				{
					gchar* _tmp179_;
					gboolean _tmp180_ = FALSE;
					_tmp179_ = begin;
					_tmp180_ = vala_genie_scanner_matches (self, _tmp179_, "private");
					if (_tmp180_) {
						result = VALA_GENIE_TOKEN_TYPE_PRIVATE;
						return result;
					}
					break;
				}
				case 'u':
				{
					gchar* _tmp181_;
					gboolean _tmp182_ = FALSE;
					_tmp181_ = begin;
					_tmp182_ = vala_genie_scanner_matches (self, _tmp181_, "unowned");
					if (_tmp182_) {
						result = VALA_GENIE_TOKEN_TYPE_UNOWNED;
						return result;
					}
					break;
				}
				case 'v':
				{
					gchar* _tmp183_;
					gboolean _tmp184_ = FALSE;
					_tmp183_ = begin;
					_tmp184_ = vala_genie_scanner_matches (self, _tmp183_, "virtual");
					if (_tmp184_) {
						result = VALA_GENIE_TOKEN_TYPE_VIRTUAL;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 8:
		{
			gchar* _tmp185_;
			gchar _tmp186_;
			_tmp185_ = begin;
			_tmp186_ = _tmp185_[0];
			switch (_tmp186_) {
				case 'a':
				{
					gchar* _tmp187_;
					gboolean _tmp188_ = FALSE;
					_tmp187_ = begin;
					_tmp188_ = vala_genie_scanner_matches (self, _tmp187_, "abstract");
					if (_tmp188_) {
						result = VALA_GENIE_TOKEN_TYPE_ABSTRACT;
						return result;
					}
					break;
				}
				case 'c':
				{
					gchar* _tmp189_;
					gboolean _tmp190_ = FALSE;
					_tmp189_ = begin;
					_tmp190_ = vala_genie_scanner_matches (self, _tmp189_, "continue");
					if (_tmp190_) {
						result = VALA_GENIE_TOKEN_TYPE_CONTINUE;
						return result;
					}
					break;
				}
				case 'd':
				{
					gchar* _tmp191_;
					gboolean _tmp192_ = FALSE;
					_tmp191_ = begin;
					_tmp192_ = vala_genie_scanner_matches (self, _tmp191_, "delegate");
					if (_tmp192_) {
						result = VALA_GENIE_TOKEN_TYPE_DELEGATE;
						return result;
					}
					break;
				}
				case 'i':
				{
					gchar* _tmp193_;
					gboolean _tmp194_ = FALSE;
					_tmp193_ = begin;
					_tmp194_ = vala_genie_scanner_matches (self, _tmp193_, "internal");
					if (_tmp194_) {
						result = VALA_GENIE_TOKEN_TYPE_INTERNAL;
						return result;
					}
					break;
				}
				case 'o':
				{
					gchar* _tmp195_;
					gboolean _tmp196_ = FALSE;
					_tmp195_ = begin;
					_tmp196_ = vala_genie_scanner_matches (self, _tmp195_, "override");
					if (_tmp196_) {
						result = VALA_GENIE_TOKEN_TYPE_OVERRIDE;
						return result;
					}
					break;
				}
				case 'r':
				{
					gchar* _tmp197_;
					gchar _tmp198_;
					_tmp197_ = begin;
					_tmp198_ = _tmp197_[2];
					switch (_tmp198_) {
						case 'a':
						{
							gchar* _tmp199_;
							gboolean _tmp200_ = FALSE;
							_tmp199_ = begin;
							_tmp200_ = vala_genie_scanner_matches (self, _tmp199_, "readonly");
							if (_tmp200_) {
								result = VALA_GENIE_TOKEN_TYPE_READONLY;
								return result;
							}
							break;
						}
						case 'q':
						{
							gchar* _tmp201_;
							gboolean _tmp202_ = FALSE;
							_tmp201_ = begin;
							_tmp202_ = vala_genie_scanner_matches (self, _tmp201_, "requires");
							if (_tmp202_) {
								result = VALA_GENIE_TOKEN_TYPE_REQUIRES;
								return result;
							}
							break;
						}
						default:
						break;
					}
					break;
				}
				case 'v':
				{
					gchar* _tmp203_;
					gboolean _tmp204_ = FALSE;
					_tmp203_ = begin;
					_tmp204_ = vala_genie_scanner_matches (self, _tmp203_, "volatile");
					if (_tmp204_) {
						result = VALA_GENIE_TOKEN_TYPE_VOLATILE;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 9:
		{
			gchar* _tmp205_;
			gchar _tmp206_;
			_tmp205_ = begin;
			_tmp206_ = _tmp205_[0];
			switch (_tmp206_) {
				case 'c':
				{
					gchar* _tmp207_;
					gboolean _tmp208_ = FALSE;
					_tmp207_ = begin;
					_tmp208_ = vala_genie_scanner_matches (self, _tmp207_, "construct");
					if (_tmp208_) {
						result = VALA_GENIE_TOKEN_TYPE_CONSTRUCT;
						return result;
					}
					break;
				}
				case 'e':
				{
					gchar* _tmp209_;
					gboolean _tmp210_ = FALSE;
					_tmp209_ = begin;
					_tmp210_ = vala_genie_scanner_matches (self, _tmp209_, "exception");
					if (_tmp210_) {
						result = VALA_GENIE_TOKEN_TYPE_ERRORDOMAIN;
						return result;
					}
					break;
				}
				case 'i':
				{
					gchar* _tmp211_;
					gboolean _tmp212_ = FALSE;
					_tmp211_ = begin;
					_tmp212_ = vala_genie_scanner_matches (self, _tmp211_, "interface");
					if (_tmp212_) {
						result = VALA_GENIE_TOKEN_TYPE_INTERFACE;
						return result;
					}
					break;
				}
				case 'n':
				{
					gchar* _tmp213_;
					gboolean _tmp214_ = FALSE;
					_tmp213_ = begin;
					_tmp214_ = vala_genie_scanner_matches (self, _tmp213_, "namespace");
					if (_tmp214_) {
						result = VALA_GENIE_TOKEN_TYPE_NAMESPACE;
						return result;
					}
					break;
				}
				case 'p':
				{
					gchar* _tmp215_;
					gboolean _tmp216_ = FALSE;
					_tmp215_ = begin;
					_tmp216_ = vala_genie_scanner_matches (self, _tmp215_, "protected");
					if (_tmp216_) {
						result = VALA_GENIE_TOKEN_TYPE_PROTECTED;
						return result;
					}
					break;
				}
				case 'w':
				{
					gchar* _tmp217_;
					gboolean _tmp218_ = FALSE;
					_tmp217_ = begin;
					_tmp218_ = vala_genie_scanner_matches (self, _tmp217_, "writeonly");
					if (_tmp218_) {
						result = VALA_GENIE_TOKEN_TYPE_WRITEONLY;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		case 10:
		{
			gchar* _tmp219_;
			gchar _tmp220_;
			_tmp219_ = begin;
			_tmp220_ = _tmp219_[0];
			switch (_tmp220_) {
				case 'i':
				{
					gchar* _tmp221_;
					gboolean _tmp222_ = FALSE;
					_tmp221_ = begin;
					_tmp222_ = vala_genie_scanner_matches (self, _tmp221_, "implements");
					if (_tmp222_) {
						result = VALA_GENIE_TOKEN_TYPE_IMPLEMENTS;
						return result;
					}
					break;
				}
				default:
				break;
			}
			break;
		}
		default:
		break;
	}
	result = VALA_GENIE_TOKEN_TYPE_IDENTIFIER;
	return result;
}


static void _vala_array_add2 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add3 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add4 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add5 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


ValaGenieTokenType vala_genie_scanner_read_template_token (ValaGenieScanner* self, ValaSourceLocation* token_begin, ValaSourceLocation* token_end) {
	ValaSourceLocation _vala_token_begin = {0};
	ValaSourceLocation _vala_token_end = {0};
	ValaGenieTokenType result = 0;
	ValaGenieTokenType type = 0;
	gchar* _tmp0_;
	gchar* begin;
	gchar* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	ValaSourceLocation _tmp4_ = {0};
	gint token_length_in_chars;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gint _tmp133_;
	gchar* _tmp139_;
	gint _tmp140_;
	gint _tmp141_;
	ValaSourceLocation _tmp142_ = {0};
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->current;
	begin = _tmp0_;
	_tmp1_ = begin;
	_tmp2_ = self->priv->line;
	_tmp3_ = self->priv->column;
	vala_source_location_init (&_tmp4_, _tmp1_, _tmp2_, _tmp3_);
	_vala_token_begin = _tmp4_;
	token_length_in_chars = -1;
	_tmp5_ = self->priv->current;
	_tmp6_ = self->priv->end;
	if (_tmp5_ >= _tmp6_) {
		type = VALA_GENIE_TOKEN_TYPE_EOF;
	} else {
		gchar* _tmp7_;
		gchar _tmp8_;
		_tmp7_ = self->priv->current;
		_tmp8_ = _tmp7_[0];
		switch (_tmp8_) {
			case '"':
			{
				gchar* _tmp9_;
				gint _tmp10_;
				type = VALA_GENIE_TOKEN_TYPE_CLOSE_TEMPLATE;
				_tmp9_ = self->priv->current;
				self->priv->current = _tmp9_ + 1;
				_tmp10_ = self->priv->state_stack_length1;
				self->priv->state_stack_length1 = _tmp10_ - 1;
				break;
			}
			case '$':
			{
				gchar* _tmp11_;
				gchar* _tmp12_;
				gboolean _tmp13_ = FALSE;
				gchar* _tmp14_;
				gchar _tmp15_;
				gboolean _tmp16_ = FALSE;
				gboolean _tmp19_;
				_tmp11_ = _vala_token_begin.pos;
				_vala_token_begin.pos = _tmp11_ + 1;
				_tmp12_ = self->priv->current;
				self->priv->current = _tmp12_ + 1;
				_tmp14_ = self->priv->current;
				_tmp15_ = _tmp14_[0];
				_tmp16_ = g_ascii_isalpha (_tmp15_);
				if (_tmp16_) {
					_tmp13_ = TRUE;
				} else {
					gchar* _tmp17_;
					gchar _tmp18_;
					_tmp17_ = self->priv->current;
					_tmp18_ = _tmp17_[0];
					_tmp13_ = _tmp18_ == '_';
				}
				_tmp19_ = _tmp13_;
				if (_tmp19_) {
					gint len;
					ValaGenieScannerState* _tmp29_;
					gint _tmp29__length1;
					len = 0;
					while (TRUE) {
						gboolean _tmp20_ = FALSE;
						gchar* _tmp21_;
						gchar* _tmp22_;
						gboolean _tmp26_;
						gchar* _tmp27_;
						gint _tmp28_;
						_tmp21_ = self->priv->current;
						_tmp22_ = self->priv->end;
						if (_tmp21_ < _tmp22_) {
							gchar* _tmp23_;
							gchar _tmp24_;
							gboolean _tmp25_ = FALSE;
							_tmp23_ = self->priv->current;
							_tmp24_ = _tmp23_[0];
							_tmp25_ = vala_genie_scanner_is_ident_char (self, _tmp24_);
							_tmp20_ = _tmp25_;
						} else {
							_tmp20_ = FALSE;
						}
						_tmp26_ = _tmp20_;
						if (!_tmp26_) {
							break;
						}
						_tmp27_ = self->priv->current;
						self->priv->current = _tmp27_ + 1;
						_tmp28_ = len;
						len = _tmp28_ + 1;
					}
					type = VALA_GENIE_TOKEN_TYPE_IDENTIFIER;
					_tmp29_ = self->priv->state_stack;
					_tmp29__length1 = self->priv->state_stack_length1;
					_vala_array_add2 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_TEMPLATE_PART);
				} else {
					gchar* _tmp30_;
					gchar _tmp31_;
					_tmp30_ = self->priv->current;
					_tmp31_ = _tmp30_[0];
					if (_tmp31_ == '(') {
						gchar* _tmp32_;
						gint _tmp33_;
						ValaGenieScannerState* _tmp34_;
						gint _tmp34__length1;
						ValaSourceLocation _tmp35_ = {0};
						ValaSourceLocation _tmp36_ = {0};
						ValaGenieTokenType _tmp37_ = 0;
						_tmp32_ = self->priv->current;
						self->priv->current = _tmp32_ + 1;
						_tmp33_ = self->priv->column;
						self->priv->column = _tmp33_ + 2;
						_tmp34_ = self->priv->state_stack;
						_tmp34__length1 = self->priv->state_stack_length1;
						_vala_array_add3 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_PARENS);
						_tmp37_ = vala_genie_scanner_read_token (self, &_tmp35_, &_tmp36_);
						_vala_token_begin = _tmp35_;
						_vala_token_end = _tmp36_;
						result = _tmp37_;
						if (token_begin) {
							*token_begin = _vala_token_begin;
						}
						if (token_end) {
							*token_end = _vala_token_end;
						}
						return result;
					} else {
						gchar* _tmp38_;
						gchar _tmp39_;
						_tmp38_ = self->priv->current;
						_tmp39_ = _tmp38_[0];
						if (_tmp39_ == '$') {
							gchar* _tmp40_;
							ValaGenieScannerState* _tmp41_;
							gint _tmp41__length1;
							type = VALA_GENIE_TOKEN_TYPE_TEMPLATE_STRING_LITERAL;
							_tmp40_ = self->priv->current;
							self->priv->current = _tmp40_ + 1;
							_tmp41_ = self->priv->state_stack;
							_tmp41__length1 = self->priv->state_stack_length1;
							_vala_array_add4 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_TEMPLATE_PART);
						} else {
							ValaSourceFile* _tmp42_;
							gint _tmp43_;
							gint _tmp44_;
							gint _tmp45_;
							gint _tmp46_;
							ValaSourceReference* _tmp47_;
							ValaSourceReference* _tmp48_;
							ValaSourceLocation _tmp49_ = {0};
							ValaSourceLocation _tmp50_ = {0};
							ValaGenieTokenType _tmp51_ = 0;
							_tmp42_ = self->priv->_source_file;
							_tmp43_ = self->priv->line;
							_tmp44_ = self->priv->column;
							_tmp45_ = self->priv->line;
							_tmp46_ = self->priv->column;
							_tmp47_ = vala_source_reference_new (_tmp42_, _tmp43_, _tmp44_ + 1, _tmp45_, _tmp46_ + 1);
							_tmp48_ = _tmp47_;
							vala_report_error (_tmp48_, "unexpected character");
							_vala_source_reference_unref0 (_tmp48_);
							_tmp51_ = vala_genie_scanner_read_template_token (self, &_tmp49_, &_tmp50_);
							_vala_token_begin = _tmp49_;
							_vala_token_end = _tmp50_;
							result = _tmp51_;
							if (token_begin) {
								*token_begin = _vala_token_begin;
							}
							if (token_end) {
								*token_end = _vala_token_end;
							}
							return result;
						}
					}
				}
				break;
			}
			default:
			{
				gboolean _tmp113_ = FALSE;
				gchar* _tmp114_;
				gchar* _tmp115_;
				gboolean _tmp118_;
				ValaGenieScannerState* _tmp132_;
				gint _tmp132__length1;
				type = VALA_GENIE_TOKEN_TYPE_TEMPLATE_STRING_LITERAL;
				token_length_in_chars = 0;
				while (TRUE) {
					gboolean _tmp52_ = FALSE;
					gboolean _tmp53_ = FALSE;
					gchar* _tmp54_;
					gchar* _tmp55_;
					gboolean _tmp58_;
					gboolean _tmp61_;
					gchar* _tmp62_;
					gchar _tmp63_;
					_tmp54_ = self->priv->current;
					_tmp55_ = self->priv->end;
					if (_tmp54_ < _tmp55_) {
						gchar* _tmp56_;
						gchar _tmp57_;
						_tmp56_ = self->priv->current;
						_tmp57_ = _tmp56_[0];
						_tmp53_ = _tmp57_ != '"';
					} else {
						_tmp53_ = FALSE;
					}
					_tmp58_ = _tmp53_;
					if (_tmp58_) {
						gchar* _tmp59_;
						gchar _tmp60_;
						_tmp59_ = self->priv->current;
						_tmp60_ = _tmp59_[0];
						_tmp52_ = _tmp60_ != '$';
					} else {
						_tmp52_ = FALSE;
					}
					_tmp61_ = _tmp52_;
					if (!_tmp61_) {
						break;
					}
					_tmp62_ = self->priv->current;
					_tmp63_ = _tmp62_[0];
					if (_tmp63_ == '\\') {
						gchar* _tmp64_;
						gint _tmp65_;
						gchar* _tmp66_;
						gchar* _tmp67_;
						gchar* _tmp68_;
						gchar _tmp69_;
						_tmp64_ = self->priv->current;
						self->priv->current = _tmp64_ + 1;
						_tmp65_ = token_length_in_chars;
						token_length_in_chars = _tmp65_ + 1;
						_tmp66_ = self->priv->current;
						_tmp67_ = self->priv->end;
						if (_tmp66_ >= _tmp67_) {
							break;
						}
						_tmp68_ = self->priv->current;
						_tmp69_ = _tmp68_[0];
						switch (_tmp69_) {
							case '\'':
							case '"':
							case '\\':
							case '0':
							case 'b':
							case 'f':
							case 'n':
							case 'r':
							case 't':
							{
								gchar* _tmp70_;
								gint _tmp71_;
								_tmp70_ = self->priv->current;
								self->priv->current = _tmp70_ + 1;
								_tmp71_ = token_length_in_chars;
								token_length_in_chars = _tmp71_ + 1;
								break;
							}
							case 'x':
							{
								gchar* _tmp72_;
								gint _tmp73_;
								_tmp72_ = self->priv->current;
								self->priv->current = _tmp72_ + 1;
								_tmp73_ = token_length_in_chars;
								token_length_in_chars = _tmp73_ + 1;
								while (TRUE) {
									gboolean _tmp74_ = FALSE;
									gchar* _tmp75_;
									gchar* _tmp76_;
									gboolean _tmp80_;
									gchar* _tmp81_;
									gint _tmp82_;
									_tmp75_ = self->priv->current;
									_tmp76_ = self->priv->end;
									if (_tmp75_ < _tmp76_) {
										gchar* _tmp77_;
										gchar _tmp78_;
										gboolean _tmp79_ = FALSE;
										_tmp77_ = self->priv->current;
										_tmp78_ = _tmp77_[0];
										_tmp79_ = g_ascii_isxdigit (_tmp78_);
										_tmp74_ = _tmp79_;
									} else {
										_tmp74_ = FALSE;
									}
									_tmp80_ = _tmp74_;
									if (!_tmp80_) {
										break;
									}
									_tmp81_ = self->priv->current;
									self->priv->current = _tmp81_ + 1;
									_tmp82_ = token_length_in_chars;
									token_length_in_chars = _tmp82_ + 1;
								}
								break;
							}
							default:
							{
								ValaSourceFile* _tmp83_;
								gint _tmp84_;
								gint _tmp85_;
								gint _tmp86_;
								gint _tmp87_;
								gint _tmp88_;
								gint _tmp89_;
								ValaSourceReference* _tmp90_;
								ValaSourceReference* _tmp91_;
								_tmp83_ = self->priv->_source_file;
								_tmp84_ = self->priv->line;
								_tmp85_ = self->priv->column;
								_tmp86_ = token_length_in_chars;
								_tmp87_ = self->priv->line;
								_tmp88_ = self->priv->column;
								_tmp89_ = token_length_in_chars;
								_tmp90_ = vala_source_reference_new (_tmp83_, _tmp84_, _tmp85_ + _tmp86_, _tmp87_, _tmp88_ + _tmp89_);
								_tmp91_ = _tmp90_;
								vala_report_error (_tmp91_, "invalid escape sequence");
								_vala_source_reference_unref0 (_tmp91_);
								break;
							}
						}
					} else {
						gchar* _tmp92_;
						gchar _tmp93_;
						_tmp92_ = self->priv->current;
						_tmp93_ = _tmp92_[0];
						if (_tmp93_ == '\n') {
							break;
						} else {
							gchar* _tmp94_;
							gchar* _tmp95_;
							gchar* _tmp96_;
							gunichar _tmp97_ = 0U;
							gunichar u;
							gunichar _tmp98_;
							_tmp94_ = self->priv->current;
							_tmp95_ = self->priv->end;
							_tmp96_ = self->priv->current;
							_tmp97_ = g_utf8_get_char_validated ((const gchar*) _tmp94_, (gssize) ((glong) (_tmp95_ - _tmp96_)));
							u = _tmp97_;
							_tmp98_ = u;
							if (_tmp98_ != ((gunichar) (-1))) {
								gchar* _tmp99_;
								gunichar _tmp100_;
								gint _tmp101_ = 0;
								gint _tmp102_;
								_tmp99_ = self->priv->current;
								_tmp100_ = u;
								_tmp101_ = g_unichar_to_utf8 (_tmp100_, NULL);
								self->priv->current = _tmp99_ + _tmp101_;
								_tmp102_ = token_length_in_chars;
								token_length_in_chars = _tmp102_ + 1;
							} else {
								gchar* _tmp103_;
								ValaSourceFile* _tmp104_;
								gint _tmp105_;
								gint _tmp106_;
								gint _tmp107_;
								gint _tmp108_;
								gint _tmp109_;
								gint _tmp110_;
								ValaSourceReference* _tmp111_;
								ValaSourceReference* _tmp112_;
								_tmp103_ = self->priv->current;
								self->priv->current = _tmp103_ + 1;
								_tmp104_ = self->priv->_source_file;
								_tmp105_ = self->priv->line;
								_tmp106_ = self->priv->column;
								_tmp107_ = token_length_in_chars;
								_tmp108_ = self->priv->line;
								_tmp109_ = self->priv->column;
								_tmp110_ = token_length_in_chars;
								_tmp111_ = vala_source_reference_new (_tmp104_, _tmp105_, _tmp106_ + _tmp107_, _tmp108_, _tmp109_ + _tmp110_);
								_tmp112_ = _tmp111_;
								vala_report_error (_tmp112_, "invalid UTF-8 character");
								_vala_source_reference_unref0 (_tmp112_);
							}
						}
					}
				}
				_tmp114_ = self->priv->current;
				_tmp115_ = self->priv->end;
				if (_tmp114_ >= _tmp115_) {
					_tmp113_ = TRUE;
				} else {
					gchar* _tmp116_;
					gchar _tmp117_;
					_tmp116_ = self->priv->current;
					_tmp117_ = _tmp116_[0];
					_tmp113_ = _tmp117_ == '\n';
				}
				_tmp118_ = _tmp113_;
				if (_tmp118_) {
					ValaSourceFile* _tmp119_;
					gint _tmp120_;
					gint _tmp121_;
					gint _tmp122_;
					gint _tmp123_;
					gint _tmp124_;
					gint _tmp125_;
					ValaSourceReference* _tmp126_;
					ValaSourceReference* _tmp127_;
					gint _tmp128_;
					ValaSourceLocation _tmp129_ = {0};
					ValaSourceLocation _tmp130_ = {0};
					ValaGenieTokenType _tmp131_ = 0;
					_tmp119_ = self->priv->_source_file;
					_tmp120_ = self->priv->line;
					_tmp121_ = self->priv->column;
					_tmp122_ = token_length_in_chars;
					_tmp123_ = self->priv->line;
					_tmp124_ = self->priv->column;
					_tmp125_ = token_length_in_chars;
					_tmp126_ = vala_source_reference_new (_tmp119_, _tmp120_, _tmp121_ + _tmp122_, _tmp123_, _tmp124_ + _tmp125_);
					_tmp127_ = _tmp126_;
					vala_report_error (_tmp127_, "syntax error, expected \"");
					_vala_source_reference_unref0 (_tmp127_);
					_tmp128_ = self->priv->state_stack_length1;
					self->priv->state_stack_length1 = _tmp128_ - 1;
					_tmp131_ = vala_genie_scanner_read_token (self, &_tmp129_, &_tmp130_);
					_vala_token_begin = _tmp129_;
					_vala_token_end = _tmp130_;
					result = _tmp131_;
					if (token_begin) {
						*token_begin = _vala_token_begin;
					}
					if (token_end) {
						*token_end = _vala_token_end;
					}
					return result;
				}
				_tmp132_ = self->priv->state_stack;
				_tmp132__length1 = self->priv->state_stack_length1;
				_vala_array_add5 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_TEMPLATE_PART);
				break;
			}
		}
	}
	_tmp133_ = token_length_in_chars;
	if (_tmp133_ < 0) {
		gint _tmp134_;
		gchar* _tmp135_;
		gchar* _tmp136_;
		_tmp134_ = self->priv->column;
		_tmp135_ = self->priv->current;
		_tmp136_ = begin;
		self->priv->column = _tmp134_ + ((gint) (_tmp135_ - _tmp136_));
	} else {
		gint _tmp137_;
		gint _tmp138_;
		_tmp137_ = self->priv->column;
		_tmp138_ = token_length_in_chars;
		self->priv->column = _tmp137_ + _tmp138_;
	}
	_tmp139_ = self->priv->current;
	_tmp140_ = self->priv->line;
	_tmp141_ = self->priv->column;
	vala_source_location_init (&_tmp142_, _tmp139_, _tmp140_, _tmp141_ - 1);
	_vala_token_end = _tmp142_;
	result = type;
	if (token_begin) {
		*token_begin = _vala_token_begin;
	}
	if (token_end) {
		*token_end = _vala_token_end;
	}
	return result;
}


static void _vala_array_add6 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add7 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add8 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add9 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


static void _vala_array_add10 (ValaGenieScannerState** array, int* length, int* size, ValaGenieScannerState value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerState, *array, *size);
	}
	(*array)[(*length)++] = value;
}


ValaGenieTokenType vala_genie_scanner_read_token (ValaGenieScanner* self, ValaSourceLocation* token_begin, ValaSourceLocation* token_end) {
	ValaSourceLocation _vala_token_begin = {0};
	ValaSourceLocation _vala_token_end = {0};
	ValaGenieTokenType result = 0;
	gboolean _tmp0_ = FALSE;
	gint _tmp18_;
	gboolean _tmp29_ = FALSE;
	gint _tmp30_;
	gboolean _tmp32_;
	gboolean _tmp59_ = FALSE;
	gboolean _tmp60_ = FALSE;
	gboolean _tmp61_ = FALSE;
	gboolean _tmp62_ = FALSE;
	gboolean _tmp64_;
	gboolean _tmp66_;
	gboolean _tmp68_;
	ValaGenieTokenType type = 0;
	gchar* _tmp100_;
	gchar* begin;
	gchar* _tmp101_;
	gint _tmp102_;
	gint _tmp103_;
	ValaSourceLocation _tmp104_ = {0};
	gint token_length_in_chars;
	gchar* _tmp105_;
	gchar* _tmp106_;
	gint _tmp612_;
	gchar* _tmp618_;
	gint _tmp619_;
	gint _tmp620_;
	ValaSourceLocation _tmp621_ = {0};
	ValaGenieTokenType _tmp622_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = vala_genie_scanner_in_template (self);
	if (_tmp0_) {
		ValaSourceLocation _tmp1_ = {0};
		ValaSourceLocation _tmp2_ = {0};
		ValaGenieTokenType _tmp3_ = 0;
		_tmp3_ = vala_genie_scanner_read_template_token (self, &_tmp1_, &_tmp2_);
		_vala_token_begin = _tmp1_;
		_vala_token_end = _tmp2_;
		result = _tmp3_;
		if (token_begin) {
			*token_begin = _vala_token_begin;
		}
		if (token_end) {
			*token_end = _vala_token_end;
		}
		return result;
	} else {
		gboolean _tmp4_ = FALSE;
		_tmp4_ = vala_genie_scanner_in_template_part (self);
		if (_tmp4_) {
			gint _tmp5_;
			gchar* _tmp6_;
			gint _tmp7_;
			gint _tmp8_;
			ValaSourceLocation _tmp9_ = {0};
			gchar* _tmp10_;
			gint _tmp11_;
			gint _tmp12_;
			ValaSourceLocation _tmp13_ = {0};
			_tmp5_ = self->priv->state_stack_length1;
			self->priv->state_stack_length1 = _tmp5_ - 1;
			_tmp6_ = self->priv->current;
			_tmp7_ = self->priv->line;
			_tmp8_ = self->priv->column;
			vala_source_location_init (&_tmp9_, _tmp6_, _tmp7_, _tmp8_);
			_vala_token_begin = _tmp9_;
			_tmp10_ = self->priv->current;
			_tmp11_ = self->priv->line;
			_tmp12_ = self->priv->column;
			vala_source_location_init (&_tmp13_, _tmp10_, _tmp11_, _tmp12_ - 1);
			_vala_token_end = _tmp13_;
			result = VALA_GENIE_TOKEN_TYPE_COMMA;
			if (token_begin) {
				*token_begin = _vala_token_begin;
			}
			if (token_end) {
				*token_end = _vala_token_end;
			}
			return result;
		} else {
			gboolean _tmp14_ = FALSE;
			_tmp14_ = vala_genie_scanner_in_regex_literal (self);
			if (_tmp14_) {
				ValaSourceLocation _tmp15_ = {0};
				ValaSourceLocation _tmp16_ = {0};
				ValaGenieTokenType _tmp17_ = 0;
				_tmp17_ = vala_genie_scanner_read_regex_token (self, &_tmp15_, &_tmp16_);
				_vala_token_begin = _tmp15_;
				_vala_token_end = _tmp16_;
				result = _tmp17_;
				if (token_begin) {
					*token_begin = _vala_token_begin;
				}
				if (token_end) {
					*token_end = _vala_token_end;
				}
				return result;
			}
		}
	}
	_tmp18_ = self->priv->pending_dedents;
	if (_tmp18_ > 0) {
		gint _tmp19_;
		gint _tmp20_;
		gchar* _tmp21_;
		gint _tmp22_;
		gint _tmp23_;
		ValaSourceLocation _tmp24_ = {0};
		gchar* _tmp25_;
		gint _tmp26_;
		gint _tmp27_;
		ValaSourceLocation _tmp28_ = {0};
		_tmp19_ = self->priv->pending_dedents;
		self->priv->pending_dedents = _tmp19_ - 1;
		_tmp20_ = self->priv->indent_level;
		self->priv->indent_level = _tmp20_ - 1;
		_tmp21_ = self->priv->current;
		_tmp22_ = self->priv->line;
		_tmp23_ = self->priv->column;
		vala_source_location_init (&_tmp24_, _tmp21_, _tmp22_, _tmp23_);
		_vala_token_begin = _tmp24_;
		_tmp25_ = self->priv->current;
		_tmp26_ = self->priv->line;
		_tmp27_ = self->priv->column;
		vala_source_location_init (&_tmp28_, _tmp25_, _tmp26_, _tmp27_);
		_vala_token_end = _tmp28_;
		self->priv->last_token = VALA_GENIE_TOKEN_TYPE_DEDENT;
		result = VALA_GENIE_TOKEN_TYPE_DEDENT;
		if (token_begin) {
			*token_begin = _vala_token_begin;
		}
		if (token_end) {
			*token_end = _vala_token_end;
		}
		return result;
	}
	_tmp30_ = self->priv->_indent_spaces;
	if (_tmp30_ == 0) {
		_tmp29_ = TRUE;
	} else {
		ValaGenieTokenType _tmp31_;
		_tmp31_ = self->priv->last_token;
		_tmp29_ = _tmp31_ != VALA_GENIE_TOKEN_TYPE_EOL;
	}
	_tmp32_ = _tmp29_;
	if (_tmp32_) {
		vala_genie_scanner_space (self);
	}
	while (TRUE) {
		gboolean _tmp33_ = FALSE;
		gboolean _tmp34_ = FALSE;
		gchar* _tmp35_;
		gchar* _tmp36_;
		gboolean _tmp39_;
		gboolean _tmp42_;
		gchar* _tmp43_;
		gint _tmp44_;
		_tmp35_ = self->priv->current;
		_tmp36_ = self->priv->end;
		if (_tmp35_ < _tmp36_) {
			gchar* _tmp37_;
			gchar _tmp38_;
			_tmp37_ = self->priv->current;
			_tmp38_ = _tmp37_[0];
			_tmp34_ = _tmp38_ == '\\';
		} else {
			_tmp34_ = FALSE;
		}
		_tmp39_ = _tmp34_;
		if (_tmp39_) {
			gchar* _tmp40_;
			gchar _tmp41_;
			_tmp40_ = self->priv->current;
			_tmp41_ = _tmp40_[1];
			_tmp33_ = _tmp41_ == '\n';
		} else {
			_tmp33_ = FALSE;
		}
		_tmp42_ = _tmp33_;
		if (!_tmp42_) {
			break;
		}
		_tmp43_ = self->priv->current;
		self->priv->current = _tmp43_ + 2;
		_tmp44_ = self->priv->line;
		self->priv->line = _tmp44_ + 1;
		vala_genie_scanner_skip_space_tabs (self);
	}
	while (TRUE) {
		gboolean _tmp45_ = FALSE;
		gboolean _tmp46_ = FALSE;
		gchar* _tmp47_;
		gchar* _tmp48_;
		gboolean _tmp51_;
		gboolean _tmp56_;
		gchar* _tmp57_;
		gint _tmp58_;
		_tmp47_ = self->priv->current;
		_tmp48_ = self->priv->end;
		if (_tmp47_ < _tmp48_) {
			gchar* _tmp49_;
			gchar _tmp50_;
			_tmp49_ = self->priv->current;
			_tmp50_ = _tmp49_[0];
			_tmp46_ = _tmp50_ == '\n';
		} else {
			_tmp46_ = FALSE;
		}
		_tmp51_ = _tmp46_;
		if (_tmp51_) {
			gboolean _tmp52_ = FALSE;
			gint _tmp53_;
			gboolean _tmp55_;
			_tmp53_ = self->priv->open_parens_count;
			if (_tmp53_ > 0) {
				_tmp52_ = TRUE;
			} else {
				gint _tmp54_;
				_tmp54_ = self->priv->open_brace_count;
				_tmp52_ = _tmp54_ > 0;
			}
			_tmp55_ = _tmp52_;
			_tmp45_ = _tmp55_;
		} else {
			_tmp45_ = FALSE;
		}
		_tmp56_ = _tmp45_;
		if (!_tmp56_) {
			break;
		}
		_tmp57_ = self->priv->current;
		self->priv->current = _tmp57_ + 1;
		_tmp58_ = self->priv->line;
		self->priv->line = _tmp58_ + 1;
		vala_genie_scanner_skip_space_tabs (self);
	}
	_tmp62_ = vala_genie_scanner_newline (self);
	if (_tmp62_) {
		gboolean _tmp63_;
		_tmp63_ = self->priv->parse_started;
		_tmp61_ = _tmp63_;
	} else {
		_tmp61_ = FALSE;
	}
	_tmp64_ = _tmp61_;
	if (_tmp64_) {
		ValaGenieTokenType _tmp65_;
		_tmp65_ = self->priv->last_token;
		_tmp60_ = _tmp65_ != VALA_GENIE_TOKEN_TYPE_EOL;
	} else {
		_tmp60_ = FALSE;
	}
	_tmp66_ = _tmp60_;
	if (_tmp66_) {
		ValaGenieTokenType _tmp67_;
		_tmp67_ = self->priv->last_token;
		_tmp59_ = _tmp67_ != VALA_GENIE_TOKEN_TYPE_SEMICOLON;
	} else {
		_tmp59_ = FALSE;
	}
	_tmp68_ = _tmp59_;
	if (_tmp68_) {
		gchar* _tmp69_;
		gint _tmp70_;
		gint _tmp71_;
		ValaSourceLocation _tmp72_ = {0};
		gchar* _tmp73_;
		gint _tmp74_;
		gint _tmp75_;
		ValaSourceLocation _tmp76_ = {0};
		_tmp69_ = self->priv->current;
		_tmp70_ = self->priv->line;
		_tmp71_ = self->priv->column;
		vala_source_location_init (&_tmp72_, _tmp69_, _tmp70_, _tmp71_);
		_vala_token_begin = _tmp72_;
		_tmp73_ = self->priv->current;
		_tmp74_ = self->priv->line;
		_tmp75_ = self->priv->column;
		vala_source_location_init (&_tmp76_, _tmp73_, _tmp74_, _tmp75_);
		_vala_token_end = _tmp76_;
		self->priv->last_token = VALA_GENIE_TOKEN_TYPE_EOL;
		result = VALA_GENIE_TOKEN_TYPE_EOL;
		if (token_begin) {
			*token_begin = _vala_token_begin;
		}
		if (token_end) {
			*token_end = _vala_token_end;
		}
		return result;
	}
	while (TRUE) {
		gboolean _tmp77_ = FALSE;
		gchar* _tmp78_;
		gint _tmp79_;
		gint _tmp80_;
		ValaSourceLocation _tmp81_ = {0};
		gint _tmp82_ = 0;
		gint _tmp83_;
		gint _tmp84_;
		gint _tmp85_;
		_tmp77_ = vala_genie_scanner_skip_newlines (self);
		if (!_tmp77_) {
			break;
		}
		_tmp78_ = self->priv->current;
		_tmp79_ = self->priv->line;
		_tmp80_ = self->priv->column;
		vala_source_location_init (&_tmp81_, _tmp78_, _tmp79_, _tmp80_);
		_vala_token_begin = _tmp81_;
		_tmp82_ = vala_genie_scanner_count_tabs (self);
		self->priv->current_indent_level = _tmp82_;
		_tmp83_ = self->priv->current_indent_level;
		if (_tmp83_ == (-1)) {
			continue;
		}
		_tmp84_ = self->priv->current_indent_level;
		_tmp85_ = self->priv->indent_level;
		if (_tmp84_ > _tmp85_) {
			gint _tmp86_;
			gchar* _tmp87_;
			gint _tmp88_;
			gint _tmp89_;
			ValaSourceLocation _tmp90_ = {0};
			_tmp86_ = self->priv->current_indent_level;
			self->priv->indent_level = _tmp86_;
			_tmp87_ = self->priv->current;
			_tmp88_ = self->priv->line;
			_tmp89_ = self->priv->column;
			vala_source_location_init (&_tmp90_, _tmp87_, _tmp88_, _tmp89_);
			_vala_token_end = _tmp90_;
			self->priv->last_token = VALA_GENIE_TOKEN_TYPE_INDENT;
			result = VALA_GENIE_TOKEN_TYPE_INDENT;
			if (token_begin) {
				*token_begin = _vala_token_begin;
			}
			if (token_end) {
				*token_end = _vala_token_end;
			}
			return result;
		} else {
			gint _tmp91_;
			gint _tmp92_;
			_tmp91_ = self->priv->current_indent_level;
			_tmp92_ = self->priv->indent_level;
			if (_tmp91_ < _tmp92_) {
				gint _tmp93_;
				gint _tmp94_;
				gint _tmp95_;
				gchar* _tmp96_;
				gint _tmp97_;
				gint _tmp98_;
				ValaSourceLocation _tmp99_ = {0};
				_tmp93_ = self->priv->indent_level;
				self->priv->indent_level = _tmp93_ - 1;
				_tmp94_ = self->priv->indent_level;
				_tmp95_ = self->priv->current_indent_level;
				self->priv->pending_dedents = _tmp94_ - _tmp95_;
				_tmp96_ = self->priv->current;
				_tmp97_ = self->priv->line;
				_tmp98_ = self->priv->column;
				vala_source_location_init (&_tmp99_, _tmp96_, _tmp97_, _tmp98_);
				_vala_token_end = _tmp99_;
				self->priv->last_token = VALA_GENIE_TOKEN_TYPE_DEDENT;
				result = VALA_GENIE_TOKEN_TYPE_DEDENT;
				if (token_begin) {
					*token_begin = _vala_token_begin;
				}
				if (token_end) {
					*token_end = _vala_token_end;
				}
				return result;
			}
		}
	}
	_tmp100_ = self->priv->current;
	begin = _tmp100_;
	_tmp101_ = begin;
	_tmp102_ = self->priv->line;
	_tmp103_ = self->priv->column;
	vala_source_location_init (&_tmp104_, _tmp101_, _tmp102_, _tmp103_);
	_vala_token_begin = _tmp104_;
	token_length_in_chars = -1;
	self->priv->parse_started = TRUE;
	_tmp105_ = self->priv->current;
	_tmp106_ = self->priv->end;
	if (_tmp105_ >= _tmp106_) {
		gint _tmp107_;
		_tmp107_ = self->priv->indent_level;
		if (_tmp107_ > 0) {
			gint _tmp108_;
			gint _tmp109_;
			_tmp108_ = self->priv->indent_level;
			self->priv->indent_level = _tmp108_ - 1;
			_tmp109_ = self->priv->indent_level;
			self->priv->pending_dedents = _tmp109_;
			type = VALA_GENIE_TOKEN_TYPE_DEDENT;
		} else {
			type = VALA_GENIE_TOKEN_TYPE_EOF;
		}
	} else {
		gboolean _tmp110_ = FALSE;
		gchar* _tmp111_;
		gchar _tmp112_;
		gboolean _tmp113_ = FALSE;
		gboolean _tmp116_;
		_tmp111_ = self->priv->current;
		_tmp112_ = _tmp111_[0];
		_tmp113_ = g_ascii_isalpha (_tmp112_);
		if (_tmp113_) {
			_tmp110_ = TRUE;
		} else {
			gchar* _tmp114_;
			gchar _tmp115_;
			_tmp114_ = self->priv->current;
			_tmp115_ = _tmp114_[0];
			_tmp110_ = _tmp115_ == '_';
		}
		_tmp116_ = _tmp110_;
		if (_tmp116_) {
			gint len;
			gchar* _tmp126_;
			gint _tmp127_;
			ValaGenieTokenType _tmp128_ = 0;
			len = 0;
			while (TRUE) {
				gboolean _tmp117_ = FALSE;
				gchar* _tmp118_;
				gchar* _tmp119_;
				gboolean _tmp123_;
				gchar* _tmp124_;
				gint _tmp125_;
				_tmp118_ = self->priv->current;
				_tmp119_ = self->priv->end;
				if (_tmp118_ < _tmp119_) {
					gchar* _tmp120_;
					gchar _tmp121_;
					gboolean _tmp122_ = FALSE;
					_tmp120_ = self->priv->current;
					_tmp121_ = _tmp120_[0];
					_tmp122_ = vala_genie_scanner_is_ident_char (self, _tmp121_);
					_tmp117_ = _tmp122_;
				} else {
					_tmp117_ = FALSE;
				}
				_tmp123_ = _tmp117_;
				if (!_tmp123_) {
					break;
				}
				_tmp124_ = self->priv->current;
				self->priv->current = _tmp124_ + 1;
				_tmp125_ = len;
				len = _tmp125_ + 1;
			}
			_tmp126_ = begin;
			_tmp127_ = len;
			_tmp128_ = vala_genie_scanner_get_identifier_or_keyword (self, _tmp126_, _tmp127_);
			type = _tmp128_;
		} else {
			gchar* _tmp129_;
			gchar _tmp130_;
			_tmp129_ = self->priv->current;
			_tmp130_ = _tmp129_[0];
			if (_tmp130_ == '@') {
				gboolean _tmp131_ = FALSE;
				gchar* _tmp132_;
				gchar* _tmp133_;
				gboolean _tmp136_;
				_tmp132_ = self->priv->current;
				_tmp133_ = self->priv->end;
				if (_tmp132_ < (_tmp133_ - 1)) {
					gchar* _tmp134_;
					gchar _tmp135_;
					_tmp134_ = self->priv->current;
					_tmp135_ = _tmp134_[1];
					_tmp131_ = _tmp135_ == '"';
				} else {
					_tmp131_ = FALSE;
				}
				_tmp136_ = _tmp131_;
				if (_tmp136_) {
					gchar* _tmp137_;
					ValaGenieScannerState* _tmp138_;
					gint _tmp138__length1;
					type = VALA_GENIE_TOKEN_TYPE_OPEN_TEMPLATE;
					_tmp137_ = self->priv->current;
					self->priv->current = _tmp137_ + 2;
					_tmp138_ = self->priv->state_stack;
					_tmp138__length1 = self->priv->state_stack_length1;
					_vala_array_add6 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_TEMPLATE);
				} else {
					gchar* _tmp139_;
					gchar* _tmp140_;
					gint len;
					_tmp139_ = _vala_token_begin.pos;
					_vala_token_begin.pos = _tmp139_ + 1;
					_tmp140_ = self->priv->current;
					self->priv->current = _tmp140_ + 1;
					len = 0;
					while (TRUE) {
						gboolean _tmp141_ = FALSE;
						gchar* _tmp142_;
						gchar* _tmp143_;
						gboolean _tmp147_;
						gchar* _tmp148_;
						gint _tmp149_;
						_tmp142_ = self->priv->current;
						_tmp143_ = self->priv->end;
						if (_tmp142_ < _tmp143_) {
							gchar* _tmp144_;
							gchar _tmp145_;
							gboolean _tmp146_ = FALSE;
							_tmp144_ = self->priv->current;
							_tmp145_ = _tmp144_[0];
							_tmp146_ = vala_genie_scanner_is_ident_char (self, _tmp145_);
							_tmp141_ = _tmp146_;
						} else {
							_tmp141_ = FALSE;
						}
						_tmp147_ = _tmp141_;
						if (!_tmp147_) {
							break;
						}
						_tmp148_ = self->priv->current;
						self->priv->current = _tmp148_ + 1;
						_tmp149_ = len;
						len = _tmp149_ + 1;
					}
					type = VALA_GENIE_TOKEN_TYPE_IDENTIFIER;
				}
			} else {
				gchar* _tmp150_;
				gchar _tmp151_;
				gboolean _tmp152_ = FALSE;
				_tmp150_ = self->priv->current;
				_tmp151_ = _tmp150_[0];
				_tmp152_ = g_ascii_isdigit (_tmp151_);
				if (_tmp152_) {
					gboolean _tmp161_ = FALSE;
					gchar* _tmp162_;
					gchar* _tmp163_;
					gboolean _tmp167_;
					while (TRUE) {
						gboolean _tmp153_ = FALSE;
						gchar* _tmp154_;
						gchar* _tmp155_;
						gboolean _tmp159_;
						gchar* _tmp160_;
						_tmp154_ = self->priv->current;
						_tmp155_ = self->priv->end;
						if (_tmp154_ < _tmp155_) {
							gchar* _tmp156_;
							gchar _tmp157_;
							gboolean _tmp158_ = FALSE;
							_tmp156_ = self->priv->current;
							_tmp157_ = _tmp156_[0];
							_tmp158_ = g_ascii_isdigit (_tmp157_);
							_tmp153_ = _tmp158_;
						} else {
							_tmp153_ = FALSE;
						}
						_tmp159_ = _tmp153_;
						if (!_tmp159_) {
							break;
						}
						_tmp160_ = self->priv->current;
						self->priv->current = _tmp160_ + 1;
					}
					type = VALA_GENIE_TOKEN_TYPE_INTEGER_LITERAL;
					_tmp162_ = self->priv->current;
					_tmp163_ = self->priv->end;
					if (_tmp162_ < _tmp163_) {
						gchar* _tmp164_;
						gchar _tmp165_;
						gchar _tmp166_ = '\0';
						_tmp164_ = self->priv->current;
						_tmp165_ = _tmp164_[0];
						_tmp166_ = g_ascii_tolower (_tmp165_);
						_tmp161_ = _tmp166_ == 'l';
					} else {
						_tmp161_ = FALSE;
					}
					_tmp167_ = _tmp161_;
					if (_tmp167_) {
						gchar* _tmp168_;
						gboolean _tmp169_ = FALSE;
						gchar* _tmp170_;
						gchar* _tmp171_;
						gboolean _tmp175_;
						_tmp168_ = self->priv->current;
						self->priv->current = _tmp168_ + 1;
						_tmp170_ = self->priv->current;
						_tmp171_ = self->priv->end;
						if (_tmp170_ < _tmp171_) {
							gchar* _tmp172_;
							gchar _tmp173_;
							gchar _tmp174_ = '\0';
							_tmp172_ = self->priv->current;
							_tmp173_ = _tmp172_[0];
							_tmp174_ = g_ascii_tolower (_tmp173_);
							_tmp169_ = _tmp174_ == 'l';
						} else {
							_tmp169_ = FALSE;
						}
						_tmp175_ = _tmp169_;
						if (_tmp175_) {
							gchar* _tmp176_;
							_tmp176_ = self->priv->current;
							self->priv->current = _tmp176_ + 1;
						}
					} else {
						gboolean _tmp177_ = FALSE;
						gchar* _tmp178_;
						gchar* _tmp179_;
						gboolean _tmp183_;
						_tmp178_ = self->priv->current;
						_tmp179_ = self->priv->end;
						if (_tmp178_ < _tmp179_) {
							gchar* _tmp180_;
							gchar _tmp181_;
							gchar _tmp182_ = '\0';
							_tmp180_ = self->priv->current;
							_tmp181_ = _tmp180_[0];
							_tmp182_ = g_ascii_tolower (_tmp181_);
							_tmp177_ = _tmp182_ == 'u';
						} else {
							_tmp177_ = FALSE;
						}
						_tmp183_ = _tmp177_;
						if (_tmp183_) {
							gchar* _tmp184_;
							gboolean _tmp185_ = FALSE;
							gchar* _tmp186_;
							gchar* _tmp187_;
							gboolean _tmp191_;
							_tmp184_ = self->priv->current;
							self->priv->current = _tmp184_ + 1;
							_tmp186_ = self->priv->current;
							_tmp187_ = self->priv->end;
							if (_tmp186_ < _tmp187_) {
								gchar* _tmp188_;
								gchar _tmp189_;
								gchar _tmp190_ = '\0';
								_tmp188_ = self->priv->current;
								_tmp189_ = _tmp188_[0];
								_tmp190_ = g_ascii_tolower (_tmp189_);
								_tmp185_ = _tmp190_ == 'l';
							} else {
								_tmp185_ = FALSE;
							}
							_tmp191_ = _tmp185_;
							if (_tmp191_) {
								gchar* _tmp192_;
								gboolean _tmp193_ = FALSE;
								gchar* _tmp194_;
								gchar* _tmp195_;
								gboolean _tmp199_;
								_tmp192_ = self->priv->current;
								self->priv->current = _tmp192_ + 1;
								_tmp194_ = self->priv->current;
								_tmp195_ = self->priv->end;
								if (_tmp194_ < _tmp195_) {
									gchar* _tmp196_;
									gchar _tmp197_;
									gchar _tmp198_ = '\0';
									_tmp196_ = self->priv->current;
									_tmp197_ = _tmp196_[0];
									_tmp198_ = g_ascii_tolower (_tmp197_);
									_tmp193_ = _tmp198_ == 'l';
								} else {
									_tmp193_ = FALSE;
								}
								_tmp199_ = _tmp193_;
								if (_tmp199_) {
									gchar* _tmp200_;
									_tmp200_ = self->priv->current;
									self->priv->current = _tmp200_ + 1;
								}
							}
						} else {
							gboolean _tmp201_ = FALSE;
							gboolean _tmp202_ = FALSE;
							gchar* _tmp203_;
							gchar* _tmp204_;
							gboolean _tmp207_;
							gboolean _tmp211_;
							_tmp203_ = self->priv->current;
							_tmp204_ = self->priv->end;
							if (_tmp203_ < (_tmp204_ - 1)) {
								gchar* _tmp205_;
								gchar _tmp206_;
								_tmp205_ = self->priv->current;
								_tmp206_ = _tmp205_[0];
								_tmp202_ = _tmp206_ == '.';
							} else {
								_tmp202_ = FALSE;
							}
							_tmp207_ = _tmp202_;
							if (_tmp207_) {
								gchar* _tmp208_;
								gchar _tmp209_;
								gboolean _tmp210_ = FALSE;
								_tmp208_ = self->priv->current;
								_tmp209_ = _tmp208_[1];
								_tmp210_ = g_ascii_isdigit (_tmp209_);
								_tmp201_ = _tmp210_;
							} else {
								_tmp201_ = FALSE;
							}
							_tmp211_ = _tmp201_;
							if (_tmp211_) {
								gchar* _tmp212_;
								gboolean _tmp221_ = FALSE;
								gchar* _tmp222_;
								gchar* _tmp223_;
								gboolean _tmp227_;
								gboolean _tmp248_ = FALSE;
								gchar* _tmp249_;
								gchar* _tmp250_;
								gboolean _tmp254_;
								_tmp212_ = self->priv->current;
								self->priv->current = _tmp212_ + 1;
								while (TRUE) {
									gboolean _tmp213_ = FALSE;
									gchar* _tmp214_;
									gchar* _tmp215_;
									gboolean _tmp219_;
									gchar* _tmp220_;
									_tmp214_ = self->priv->current;
									_tmp215_ = self->priv->end;
									if (_tmp214_ < _tmp215_) {
										gchar* _tmp216_;
										gchar _tmp217_;
										gboolean _tmp218_ = FALSE;
										_tmp216_ = self->priv->current;
										_tmp217_ = _tmp216_[0];
										_tmp218_ = g_ascii_isdigit (_tmp217_);
										_tmp213_ = _tmp218_;
									} else {
										_tmp213_ = FALSE;
									}
									_tmp219_ = _tmp213_;
									if (!_tmp219_) {
										break;
									}
									_tmp220_ = self->priv->current;
									self->priv->current = _tmp220_ + 1;
								}
								_tmp222_ = self->priv->current;
								_tmp223_ = self->priv->end;
								if (_tmp222_ < _tmp223_) {
									gchar* _tmp224_;
									gchar _tmp225_;
									gchar _tmp226_ = '\0';
									_tmp224_ = self->priv->current;
									_tmp225_ = _tmp224_[0];
									_tmp226_ = g_ascii_tolower (_tmp225_);
									_tmp221_ = _tmp226_ == 'e';
								} else {
									_tmp221_ = FALSE;
								}
								_tmp227_ = _tmp221_;
								if (_tmp227_) {
									gchar* _tmp228_;
									gboolean _tmp229_ = FALSE;
									gchar* _tmp230_;
									gchar* _tmp231_;
									gboolean _tmp238_;
									_tmp228_ = self->priv->current;
									self->priv->current = _tmp228_ + 1;
									_tmp230_ = self->priv->current;
									_tmp231_ = self->priv->end;
									if (_tmp230_ < _tmp231_) {
										gboolean _tmp232_ = FALSE;
										gchar* _tmp233_;
										gchar _tmp234_;
										gboolean _tmp237_;
										_tmp233_ = self->priv->current;
										_tmp234_ = _tmp233_[0];
										if (_tmp234_ == '+') {
											_tmp232_ = TRUE;
										} else {
											gchar* _tmp235_;
											gchar _tmp236_;
											_tmp235_ = self->priv->current;
											_tmp236_ = _tmp235_[0];
											_tmp232_ = _tmp236_ == '-';
										}
										_tmp237_ = _tmp232_;
										_tmp229_ = _tmp237_;
									} else {
										_tmp229_ = FALSE;
									}
									_tmp238_ = _tmp229_;
									if (_tmp238_) {
										gchar* _tmp239_;
										_tmp239_ = self->priv->current;
										self->priv->current = _tmp239_ + 1;
									}
									while (TRUE) {
										gboolean _tmp240_ = FALSE;
										gchar* _tmp241_;
										gchar* _tmp242_;
										gboolean _tmp246_;
										gchar* _tmp247_;
										_tmp241_ = self->priv->current;
										_tmp242_ = self->priv->end;
										if (_tmp241_ < _tmp242_) {
											gchar* _tmp243_;
											gchar _tmp244_;
											gboolean _tmp245_ = FALSE;
											_tmp243_ = self->priv->current;
											_tmp244_ = _tmp243_[0];
											_tmp245_ = g_ascii_isdigit (_tmp244_);
											_tmp240_ = _tmp245_;
										} else {
											_tmp240_ = FALSE;
										}
										_tmp246_ = _tmp240_;
										if (!_tmp246_) {
											break;
										}
										_tmp247_ = self->priv->current;
										self->priv->current = _tmp247_ + 1;
									}
								}
								_tmp249_ = self->priv->current;
								_tmp250_ = self->priv->end;
								if (_tmp249_ < _tmp250_) {
									gchar* _tmp251_;
									gchar _tmp252_;
									gchar _tmp253_ = '\0';
									_tmp251_ = self->priv->current;
									_tmp252_ = _tmp251_[0];
									_tmp253_ = g_ascii_tolower (_tmp252_);
									_tmp248_ = _tmp253_ == 'f';
								} else {
									_tmp248_ = FALSE;
								}
								_tmp254_ = _tmp248_;
								if (_tmp254_) {
									gchar* _tmp255_;
									_tmp255_ = self->priv->current;
									self->priv->current = _tmp255_ + 1;
								}
								type = VALA_GENIE_TOKEN_TYPE_REAL_LITERAL;
							} else {
								gboolean _tmp256_ = FALSE;
								gboolean _tmp257_ = FALSE;
								gboolean _tmp258_ = FALSE;
								gboolean _tmp259_ = FALSE;
								gchar* _tmp260_;
								gchar* _tmp261_;
								gboolean _tmp264_;
								gboolean _tmp267_;
								gboolean _tmp270_;
								gboolean _tmp274_;
								_tmp260_ = self->priv->current;
								_tmp261_ = self->priv->end;
								if (_tmp260_ < _tmp261_) {
									gchar* _tmp262_;
									gchar* _tmp263_;
									_tmp262_ = self->priv->current;
									_tmp263_ = begin;
									_tmp259_ = _tmp262_ == (_tmp263_ + 1);
								} else {
									_tmp259_ = FALSE;
								}
								_tmp264_ = _tmp259_;
								if (_tmp264_) {
									gchar* _tmp265_;
									gchar _tmp266_;
									_tmp265_ = begin;
									_tmp266_ = _tmp265_[0];
									_tmp258_ = _tmp266_ == '0';
								} else {
									_tmp258_ = FALSE;
								}
								_tmp267_ = _tmp258_;
								if (_tmp267_) {
									gchar* _tmp268_;
									gchar _tmp269_;
									_tmp268_ = begin;
									_tmp269_ = _tmp268_[1];
									_tmp257_ = _tmp269_ == 'x';
								} else {
									_tmp257_ = FALSE;
								}
								_tmp270_ = _tmp257_;
								if (_tmp270_) {
									gchar* _tmp271_;
									gchar _tmp272_;
									gboolean _tmp273_ = FALSE;
									_tmp271_ = begin;
									_tmp272_ = _tmp271_[2];
									_tmp273_ = g_ascii_isxdigit (_tmp272_);
									_tmp256_ = _tmp273_;
								} else {
									_tmp256_ = FALSE;
								}
								_tmp274_ = _tmp256_;
								if (_tmp274_) {
									gchar* _tmp275_;
									_tmp275_ = self->priv->current;
									self->priv->current = _tmp275_ + 1;
									while (TRUE) {
										gboolean _tmp276_ = FALSE;
										gchar* _tmp277_;
										gchar* _tmp278_;
										gboolean _tmp282_;
										gchar* _tmp283_;
										_tmp277_ = self->priv->current;
										_tmp278_ = self->priv->end;
										if (_tmp277_ < _tmp278_) {
											gchar* _tmp279_;
											gchar _tmp280_;
											gboolean _tmp281_ = FALSE;
											_tmp279_ = self->priv->current;
											_tmp280_ = _tmp279_[0];
											_tmp281_ = g_ascii_isxdigit (_tmp280_);
											_tmp276_ = _tmp281_;
										} else {
											_tmp276_ = FALSE;
										}
										_tmp282_ = _tmp276_;
										if (!_tmp282_) {
											break;
										}
										_tmp283_ = self->priv->current;
										self->priv->current = _tmp283_ + 1;
									}
								} else {
									gboolean _tmp284_ = FALSE;
									gchar* _tmp285_;
									gchar* _tmp286_;
									gboolean _tmp290_;
									_tmp285_ = self->priv->current;
									_tmp286_ = self->priv->end;
									if (_tmp285_ < _tmp286_) {
										gchar* _tmp287_;
										gchar _tmp288_;
										gboolean _tmp289_ = FALSE;
										_tmp287_ = self->priv->current;
										_tmp288_ = _tmp287_[0];
										_tmp289_ = vala_genie_scanner_is_ident_char (self, _tmp288_);
										_tmp284_ = _tmp289_;
									} else {
										_tmp284_ = FALSE;
									}
									_tmp290_ = _tmp284_;
									if (_tmp290_) {
										while (TRUE) {
											gboolean _tmp291_ = FALSE;
											gchar* _tmp292_;
											gchar* _tmp293_;
											gboolean _tmp297_;
											gchar* _tmp298_;
											_tmp292_ = self->priv->current;
											_tmp293_ = self->priv->end;
											if (_tmp292_ < _tmp293_) {
												gchar* _tmp294_;
												gchar _tmp295_;
												gboolean _tmp296_ = FALSE;
												_tmp294_ = self->priv->current;
												_tmp295_ = _tmp294_[0];
												_tmp296_ = vala_genie_scanner_is_ident_char (self, _tmp295_);
												_tmp291_ = _tmp296_;
											} else {
												_tmp291_ = FALSE;
											}
											_tmp297_ = _tmp291_;
											if (!_tmp297_) {
												break;
											}
											_tmp298_ = self->priv->current;
											self->priv->current = _tmp298_ + 1;
										}
										type = VALA_GENIE_TOKEN_TYPE_IDENTIFIER;
									}
								}
							}
						}
					}
				} else {
					gchar* _tmp299_;
					gchar _tmp300_;
					_tmp299_ = self->priv->current;
					_tmp300_ = _tmp299_[0];
					switch (_tmp300_) {
						case '{':
						{
							gint _tmp301_;
							ValaGenieScannerState* _tmp302_;
							gint _tmp302__length1;
							gchar* _tmp303_;
							type = VALA_GENIE_TOKEN_TYPE_OPEN_BRACE;
							_tmp301_ = self->priv->open_brace_count;
							self->priv->open_brace_count = _tmp301_ + 1;
							_tmp302_ = self->priv->state_stack;
							_tmp302__length1 = self->priv->state_stack_length1;
							_vala_array_add7 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_BRACE);
							_tmp303_ = self->priv->current;
							self->priv->current = _tmp303_ + 1;
							break;
						}
						case '}':
						{
							gint _tmp304_;
							ValaGenieScannerState* _tmp305_;
							gint _tmp305__length1;
							gchar* _tmp307_;
							type = VALA_GENIE_TOKEN_TYPE_CLOSE_BRACE;
							_tmp304_ = self->priv->open_brace_count;
							self->priv->open_brace_count = _tmp304_ - 1;
							_tmp305_ = self->priv->state_stack;
							_tmp305__length1 = self->priv->state_stack_length1;
							if (_tmp305__length1 > 0) {
								gint _tmp306_;
								_tmp306_ = self->priv->state_stack_length1;
								self->priv->state_stack_length1 = _tmp306_ - 1;
							}
							_tmp307_ = self->priv->current;
							self->priv->current = _tmp307_ + 1;
							break;
						}
						case '(':
						{
							gint _tmp308_;
							ValaGenieScannerState* _tmp309_;
							gint _tmp309__length1;
							gchar* _tmp310_;
							type = VALA_GENIE_TOKEN_TYPE_OPEN_PARENS;
							_tmp308_ = self->priv->open_parens_count;
							self->priv->open_parens_count = _tmp308_ + 1;
							_tmp309_ = self->priv->state_stack;
							_tmp309__length1 = self->priv->state_stack_length1;
							_vala_array_add8 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_PARENS);
							_tmp310_ = self->priv->current;
							self->priv->current = _tmp310_ + 1;
							break;
						}
						case ')':
						{
							gint _tmp311_;
							gchar* _tmp312_;
							ValaGenieScannerState* _tmp313_;
							gint _tmp313__length1;
							gboolean _tmp315_ = FALSE;
							type = VALA_GENIE_TOKEN_TYPE_CLOSE_PARENS;
							_tmp311_ = self->priv->open_parens_count;
							self->priv->open_parens_count = _tmp311_ - 1;
							_tmp312_ = self->priv->current;
							self->priv->current = _tmp312_ + 1;
							_tmp313_ = self->priv->state_stack;
							_tmp313__length1 = self->priv->state_stack_length1;
							if (_tmp313__length1 > 0) {
								gint _tmp314_;
								_tmp314_ = self->priv->state_stack_length1;
								self->priv->state_stack_length1 = _tmp314_ - 1;
							}
							_tmp315_ = vala_genie_scanner_in_template (self);
							if (_tmp315_) {
								type = VALA_GENIE_TOKEN_TYPE_COMMA;
							}
							break;
						}
						case '[':
						{
							ValaGenieScannerState* _tmp316_;
							gint _tmp316__length1;
							gchar* _tmp317_;
							type = VALA_GENIE_TOKEN_TYPE_OPEN_BRACKET;
							_tmp316_ = self->priv->state_stack;
							_tmp316__length1 = self->priv->state_stack_length1;
							_vala_array_add9 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_BRACKET);
							_tmp317_ = self->priv->current;
							self->priv->current = _tmp317_ + 1;
							break;
						}
						case ']':
						{
							ValaGenieScannerState* _tmp318_;
							gint _tmp318__length1;
							gchar* _tmp320_;
							type = VALA_GENIE_TOKEN_TYPE_CLOSE_BRACKET;
							_tmp318_ = self->priv->state_stack;
							_tmp318__length1 = self->priv->state_stack_length1;
							if (_tmp318__length1 > 0) {
								gint _tmp319_;
								_tmp319_ = self->priv->state_stack_length1;
								self->priv->state_stack_length1 = _tmp319_ - 1;
							}
							_tmp320_ = self->priv->current;
							self->priv->current = _tmp320_ + 1;
							break;
						}
						case '.':
						{
							gchar* _tmp321_;
							gchar* _tmp322_;
							gchar* _tmp323_;
							type = VALA_GENIE_TOKEN_TYPE_DOT;
							_tmp321_ = self->priv->current;
							self->priv->current = _tmp321_ + 1;
							_tmp322_ = self->priv->current;
							_tmp323_ = self->priv->end;
							if (_tmp322_ < (_tmp323_ - 1)) {
								gboolean _tmp324_ = FALSE;
								gchar* _tmp325_;
								gchar _tmp326_;
								gboolean _tmp329_;
								_tmp325_ = self->priv->current;
								_tmp326_ = _tmp325_[0];
								if (_tmp326_ == '.') {
									gchar* _tmp327_;
									gchar _tmp328_;
									_tmp327_ = self->priv->current;
									_tmp328_ = _tmp327_[1];
									_tmp324_ = _tmp328_ == '.';
								} else {
									_tmp324_ = FALSE;
								}
								_tmp329_ = _tmp324_;
								if (_tmp329_) {
									gchar* _tmp330_;
									type = VALA_GENIE_TOKEN_TYPE_ELLIPSIS;
									_tmp330_ = self->priv->current;
									self->priv->current = _tmp330_ + 2;
								}
							}
							break;
						}
						case ':':
						{
							gchar* _tmp331_;
							type = VALA_GENIE_TOKEN_TYPE_COLON;
							_tmp331_ = self->priv->current;
							self->priv->current = _tmp331_ + 1;
							break;
						}
						case ',':
						{
							gchar* _tmp332_;
							type = VALA_GENIE_TOKEN_TYPE_COMMA;
							_tmp332_ = self->priv->current;
							self->priv->current = _tmp332_ + 1;
							break;
						}
						case ';':
						{
							gchar* _tmp333_;
							type = VALA_GENIE_TOKEN_TYPE_SEMICOLON;
							_tmp333_ = self->priv->current;
							self->priv->current = _tmp333_ + 1;
							break;
						}
						case '#':
						{
							gchar* _tmp334_;
							type = VALA_GENIE_TOKEN_TYPE_HASH;
							_tmp334_ = self->priv->current;
							self->priv->current = _tmp334_ + 1;
							break;
						}
						case '?':
						{
							gchar* _tmp335_;
							type = VALA_GENIE_TOKEN_TYPE_INTERR;
							_tmp335_ = self->priv->current;
							self->priv->current = _tmp335_ + 1;
							break;
						}
						case '|':
						{
							gchar* _tmp336_;
							gchar* _tmp337_;
							gchar* _tmp338_;
							type = VALA_GENIE_TOKEN_TYPE_BITWISE_OR;
							_tmp336_ = self->priv->current;
							self->priv->current = _tmp336_ + 1;
							_tmp337_ = self->priv->current;
							_tmp338_ = self->priv->end;
							if (_tmp337_ < _tmp338_) {
								gchar* _tmp339_;
								gchar _tmp340_;
								_tmp339_ = self->priv->current;
								_tmp340_ = _tmp339_[0];
								switch (_tmp340_) {
									case '=':
									{
										gchar* _tmp341_;
										type = VALA_GENIE_TOKEN_TYPE_ASSIGN_BITWISE_OR;
										_tmp341_ = self->priv->current;
										self->priv->current = _tmp341_ + 1;
										break;
									}
									case '|':
									{
										gchar* _tmp342_;
										type = VALA_GENIE_TOKEN_TYPE_OP_OR;
										_tmp342_ = self->priv->current;
										self->priv->current = _tmp342_ + 1;
										break;
									}
									default:
									break;
								}
							}
							break;
						}
						case '&':
						{
							gchar* _tmp343_;
							gchar* _tmp344_;
							gchar* _tmp345_;
							type = VALA_GENIE_TOKEN_TYPE_BITWISE_AND;
							_tmp343_ = self->priv->current;
							self->priv->current = _tmp343_ + 1;
							_tmp344_ = self->priv->current;
							_tmp345_ = self->priv->end;
							if (_tmp344_ < _tmp345_) {
								gchar* _tmp346_;
								gchar _tmp347_;
								_tmp346_ = self->priv->current;
								_tmp347_ = _tmp346_[0];
								switch (_tmp347_) {
									case '=':
									{
										gchar* _tmp348_;
										type = VALA_GENIE_TOKEN_TYPE_ASSIGN_BITWISE_AND;
										_tmp348_ = self->priv->current;
										self->priv->current = _tmp348_ + 1;
										break;
									}
									case '&':
									{
										gchar* _tmp349_;
										type = VALA_GENIE_TOKEN_TYPE_OP_AND;
										_tmp349_ = self->priv->current;
										self->priv->current = _tmp349_ + 1;
										break;
									}
									default:
									break;
								}
							}
							break;
						}
						case '^':
						{
							gchar* _tmp350_;
							gboolean _tmp351_ = FALSE;
							gchar* _tmp352_;
							gchar* _tmp353_;
							gboolean _tmp356_;
							type = VALA_GENIE_TOKEN_TYPE_CARRET;
							_tmp350_ = self->priv->current;
							self->priv->current = _tmp350_ + 1;
							_tmp352_ = self->priv->current;
							_tmp353_ = self->priv->end;
							if (_tmp352_ < _tmp353_) {
								gchar* _tmp354_;
								gchar _tmp355_;
								_tmp354_ = self->priv->current;
								_tmp355_ = _tmp354_[0];
								_tmp351_ = _tmp355_ == '=';
							} else {
								_tmp351_ = FALSE;
							}
							_tmp356_ = _tmp351_;
							if (_tmp356_) {
								gchar* _tmp357_;
								type = VALA_GENIE_TOKEN_TYPE_ASSIGN_BITWISE_XOR;
								_tmp357_ = self->priv->current;
								self->priv->current = _tmp357_ + 1;
							}
							break;
						}
						case '~':
						{
							gchar* _tmp358_;
							type = VALA_GENIE_TOKEN_TYPE_TILDE;
							_tmp358_ = self->priv->current;
							self->priv->current = _tmp358_ + 1;
							break;
						}
						case '=':
						{
							gchar* _tmp359_;
							gchar* _tmp360_;
							gchar* _tmp361_;
							type = VALA_GENIE_TOKEN_TYPE_ASSIGN;
							_tmp359_ = self->priv->current;
							self->priv->current = _tmp359_ + 1;
							_tmp360_ = self->priv->current;
							_tmp361_ = self->priv->end;
							if (_tmp360_ < _tmp361_) {
								gchar* _tmp362_;
								gchar _tmp363_;
								_tmp362_ = self->priv->current;
								_tmp363_ = _tmp362_[0];
								switch (_tmp363_) {
									case '=':
									{
										gchar* _tmp364_;
										type = VALA_GENIE_TOKEN_TYPE_OP_EQ;
										_tmp364_ = self->priv->current;
										self->priv->current = _tmp364_ + 1;
										break;
									}
									case '>':
									{
										gchar* _tmp365_;
										type = VALA_GENIE_TOKEN_TYPE_LAMBDA;
										_tmp365_ = self->priv->current;
										self->priv->current = _tmp365_ + 1;
										break;
									}
									default:
									break;
								}
							}
							break;
						}
						case '<':
						{
							gchar* _tmp366_;
							gchar* _tmp367_;
							gchar* _tmp368_;
							type = VALA_GENIE_TOKEN_TYPE_OP_LT;
							_tmp366_ = self->priv->current;
							self->priv->current = _tmp366_ + 1;
							_tmp367_ = self->priv->current;
							_tmp368_ = self->priv->end;
							if (_tmp367_ < _tmp368_) {
								gchar* _tmp369_;
								gchar _tmp370_;
								_tmp369_ = self->priv->current;
								_tmp370_ = _tmp369_[0];
								switch (_tmp370_) {
									case '=':
									{
										gchar* _tmp371_;
										type = VALA_GENIE_TOKEN_TYPE_OP_LE;
										_tmp371_ = self->priv->current;
										self->priv->current = _tmp371_ + 1;
										break;
									}
									case '<':
									{
										gchar* _tmp372_;
										gboolean _tmp373_ = FALSE;
										gchar* _tmp374_;
										gchar* _tmp375_;
										gboolean _tmp378_;
										type = VALA_GENIE_TOKEN_TYPE_OP_SHIFT_LEFT;
										_tmp372_ = self->priv->current;
										self->priv->current = _tmp372_ + 1;
										_tmp374_ = self->priv->current;
										_tmp375_ = self->priv->end;
										if (_tmp374_ < _tmp375_) {
											gchar* _tmp376_;
											gchar _tmp377_;
											_tmp376_ = self->priv->current;
											_tmp377_ = _tmp376_[0];
											_tmp373_ = _tmp377_ == '=';
										} else {
											_tmp373_ = FALSE;
										}
										_tmp378_ = _tmp373_;
										if (_tmp378_) {
											gchar* _tmp379_;
											type = VALA_GENIE_TOKEN_TYPE_ASSIGN_SHIFT_LEFT;
											_tmp379_ = self->priv->current;
											self->priv->current = _tmp379_ + 1;
										}
										break;
									}
									default:
									break;
								}
							}
							break;
						}
						case '>':
						{
							gchar* _tmp380_;
							gboolean _tmp381_ = FALSE;
							gchar* _tmp382_;
							gchar* _tmp383_;
							gboolean _tmp386_;
							type = VALA_GENIE_TOKEN_TYPE_OP_GT;
							_tmp380_ = self->priv->current;
							self->priv->current = _tmp380_ + 1;
							_tmp382_ = self->priv->current;
							_tmp383_ = self->priv->end;
							if (_tmp382_ < _tmp383_) {
								gchar* _tmp384_;
								gchar _tmp385_;
								_tmp384_ = self->priv->current;
								_tmp385_ = _tmp384_[0];
								_tmp381_ = _tmp385_ == '=';
							} else {
								_tmp381_ = FALSE;
							}
							_tmp386_ = _tmp381_;
							if (_tmp386_) {
								gchar* _tmp387_;
								type = VALA_GENIE_TOKEN_TYPE_OP_GE;
								_tmp387_ = self->priv->current;
								self->priv->current = _tmp387_ + 1;
							}
							break;
						}
						case '!':
						{
							gchar* _tmp388_;
							gboolean _tmp389_ = FALSE;
							gchar* _tmp390_;
							gchar* _tmp391_;
							gboolean _tmp394_;
							type = VALA_GENIE_TOKEN_TYPE_OP_NEG;
							_tmp388_ = self->priv->current;
							self->priv->current = _tmp388_ + 1;
							_tmp390_ = self->priv->current;
							_tmp391_ = self->priv->end;
							if (_tmp390_ < _tmp391_) {
								gchar* _tmp392_;
								gchar _tmp393_;
								_tmp392_ = self->priv->current;
								_tmp393_ = _tmp392_[0];
								_tmp389_ = _tmp393_ == '=';
							} else {
								_tmp389_ = FALSE;
							}
							_tmp394_ = _tmp389_;
							if (_tmp394_) {
								gchar* _tmp395_;
								type = VALA_GENIE_TOKEN_TYPE_OP_NE;
								_tmp395_ = self->priv->current;
								self->priv->current = _tmp395_ + 1;
							}
							break;
						}
						case '+':
						{
							gchar* _tmp396_;
							gchar* _tmp397_;
							gchar* _tmp398_;
							type = VALA_GENIE_TOKEN_TYPE_PLUS;
							_tmp396_ = self->priv->current;
							self->priv->current = _tmp396_ + 1;
							_tmp397_ = self->priv->current;
							_tmp398_ = self->priv->end;
							if (_tmp397_ < _tmp398_) {
								gchar* _tmp399_;
								gchar _tmp400_;
								_tmp399_ = self->priv->current;
								_tmp400_ = _tmp399_[0];
								switch (_tmp400_) {
									case '=':
									{
										gchar* _tmp401_;
										type = VALA_GENIE_TOKEN_TYPE_ASSIGN_ADD;
										_tmp401_ = self->priv->current;
										self->priv->current = _tmp401_ + 1;
										break;
									}
									case '+':
									{
										gchar* _tmp402_;
										type = VALA_GENIE_TOKEN_TYPE_OP_INC;
										_tmp402_ = self->priv->current;
										self->priv->current = _tmp402_ + 1;
										break;
									}
									default:
									break;
								}
							}
							break;
						}
						case '-':
						{
							gchar* _tmp403_;
							gchar* _tmp404_;
							gchar* _tmp405_;
							type = VALA_GENIE_TOKEN_TYPE_MINUS;
							_tmp403_ = self->priv->current;
							self->priv->current = _tmp403_ + 1;
							_tmp404_ = self->priv->current;
							_tmp405_ = self->priv->end;
							if (_tmp404_ < _tmp405_) {
								gchar* _tmp406_;
								gchar _tmp407_;
								_tmp406_ = self->priv->current;
								_tmp407_ = _tmp406_[0];
								switch (_tmp407_) {
									case '=':
									{
										gchar* _tmp408_;
										type = VALA_GENIE_TOKEN_TYPE_ASSIGN_SUB;
										_tmp408_ = self->priv->current;
										self->priv->current = _tmp408_ + 1;
										break;
									}
									case '-':
									{
										gchar* _tmp409_;
										type = VALA_GENIE_TOKEN_TYPE_OP_DEC;
										_tmp409_ = self->priv->current;
										self->priv->current = _tmp409_ + 1;
										break;
									}
									case '>':
									{
										gchar* _tmp410_;
										type = VALA_GENIE_TOKEN_TYPE_OP_PTR;
										_tmp410_ = self->priv->current;
										self->priv->current = _tmp410_ + 1;
										break;
									}
									default:
									break;
								}
							}
							break;
						}
						case '*':
						{
							gchar* _tmp411_;
							gboolean _tmp412_ = FALSE;
							gchar* _tmp413_;
							gchar* _tmp414_;
							gboolean _tmp417_;
							type = VALA_GENIE_TOKEN_TYPE_STAR;
							_tmp411_ = self->priv->current;
							self->priv->current = _tmp411_ + 1;
							_tmp413_ = self->priv->current;
							_tmp414_ = self->priv->end;
							if (_tmp413_ < _tmp414_) {
								gchar* _tmp415_;
								gchar _tmp416_;
								_tmp415_ = self->priv->current;
								_tmp416_ = _tmp415_[0];
								_tmp412_ = _tmp416_ == '=';
							} else {
								_tmp412_ = FALSE;
							}
							_tmp417_ = _tmp412_;
							if (_tmp417_) {
								gchar* _tmp418_;
								type = VALA_GENIE_TOKEN_TYPE_ASSIGN_MUL;
								_tmp418_ = self->priv->current;
								self->priv->current = _tmp418_ + 1;
							}
							break;
						}
						case '/':
						{
							ValaGenieTokenType _tmp419_;
							_tmp419_ = self->priv->last_token;
							switch (_tmp419_) {
								case VALA_GENIE_TOKEN_TYPE_ASSIGN:
								case VALA_GENIE_TOKEN_TYPE_COMMA:
								case VALA_GENIE_TOKEN_TYPE_MINUS:
								case VALA_GENIE_TOKEN_TYPE_OP_AND:
								case VALA_GENIE_TOKEN_TYPE_OP_DEC:
								case VALA_GENIE_TOKEN_TYPE_OP_EQ:
								case VALA_GENIE_TOKEN_TYPE_OP_GE:
								case VALA_GENIE_TOKEN_TYPE_OP_GT:
								case VALA_GENIE_TOKEN_TYPE_OP_INC:
								case VALA_GENIE_TOKEN_TYPE_OP_LE:
								case VALA_GENIE_TOKEN_TYPE_OP_LT:
								case VALA_GENIE_TOKEN_TYPE_OP_NE:
								case VALA_GENIE_TOKEN_TYPE_OP_NEG:
								case VALA_GENIE_TOKEN_TYPE_OP_OR:
								case VALA_GENIE_TOKEN_TYPE_OPEN_BRACE:
								case VALA_GENIE_TOKEN_TYPE_OPEN_PARENS:
								case VALA_GENIE_TOKEN_TYPE_PLUS:
								case VALA_GENIE_TOKEN_TYPE_RETURN:
								{
									ValaGenieScannerState* _tmp420_;
									gint _tmp420__length1;
									gchar* _tmp421_;
									type = VALA_GENIE_TOKEN_TYPE_OPEN_REGEX_LITERAL;
									_tmp420_ = self->priv->state_stack;
									_tmp420__length1 = self->priv->state_stack_length1;
									_vala_array_add10 (&self->priv->state_stack, &self->priv->state_stack_length1, &self->priv->_state_stack_size_, VALA_GENIE_SCANNER_STATE_REGEX_LITERAL);
									_tmp421_ = self->priv->current;
									self->priv->current = _tmp421_ + 1;
									break;
								}
								default:
								{
									gchar* _tmp422_;
									gboolean _tmp423_ = FALSE;
									gchar* _tmp424_;
									gchar* _tmp425_;
									gboolean _tmp428_;
									type = VALA_GENIE_TOKEN_TYPE_DIV;
									_tmp422_ = self->priv->current;
									self->priv->current = _tmp422_ + 1;
									_tmp424_ = self->priv->current;
									_tmp425_ = self->priv->end;
									if (_tmp424_ < _tmp425_) {
										gchar* _tmp426_;
										gchar _tmp427_;
										_tmp426_ = self->priv->current;
										_tmp427_ = _tmp426_[0];
										_tmp423_ = _tmp427_ == '=';
									} else {
										_tmp423_ = FALSE;
									}
									_tmp428_ = _tmp423_;
									if (_tmp428_) {
										gchar* _tmp429_;
										type = VALA_GENIE_TOKEN_TYPE_ASSIGN_DIV;
										_tmp429_ = self->priv->current;
										self->priv->current = _tmp429_ + 1;
									}
									break;
								}
							}
							break;
						}
						case '%':
						{
							gchar* _tmp430_;
							gboolean _tmp431_ = FALSE;
							gchar* _tmp432_;
							gchar* _tmp433_;
							gboolean _tmp436_;
							type = VALA_GENIE_TOKEN_TYPE_PERCENT;
							_tmp430_ = self->priv->current;
							self->priv->current = _tmp430_ + 1;
							_tmp432_ = self->priv->current;
							_tmp433_ = self->priv->end;
							if (_tmp432_ < _tmp433_) {
								gchar* _tmp434_;
								gchar _tmp435_;
								_tmp434_ = self->priv->current;
								_tmp435_ = _tmp434_[0];
								_tmp431_ = _tmp435_ == '=';
							} else {
								_tmp431_ = FALSE;
							}
							_tmp436_ = _tmp431_;
							if (_tmp436_) {
								gchar* _tmp437_;
								type = VALA_GENIE_TOKEN_TYPE_ASSIGN_PERCENT;
								_tmp437_ = self->priv->current;
								self->priv->current = _tmp437_ + 1;
							}
							break;
						}
						case '\'':
						case '"':
						{
							gchar* _tmp438_;
							gchar _tmp439_;
							gchar* _tmp505_;
							gboolean _tmp565_ = FALSE;
							gchar* _tmp566_;
							gchar* _tmp567_;
							gboolean _tmp570_;
							_tmp438_ = begin;
							_tmp439_ = _tmp438_[0];
							if (_tmp439_ == '\'') {
								type = VALA_GENIE_TOKEN_TYPE_CHARACTER_LITERAL;
							} else {
								gboolean _tmp440_ = FALSE;
								gboolean _tmp441_ = FALSE;
								gchar* _tmp442_;
								gchar* _tmp443_;
								gboolean _tmp446_;
								gboolean _tmp449_;
								_tmp442_ = self->priv->current;
								_tmp443_ = self->priv->end;
								if (_tmp442_ < (_tmp443_ - 6)) {
									gchar* _tmp444_;
									gchar _tmp445_;
									_tmp444_ = begin;
									_tmp445_ = _tmp444_[1];
									_tmp441_ = _tmp445_ == '"';
								} else {
									_tmp441_ = FALSE;
								}
								_tmp446_ = _tmp441_;
								if (_tmp446_) {
									gchar* _tmp447_;
									gchar _tmp448_;
									_tmp447_ = begin;
									_tmp448_ = _tmp447_[2];
									_tmp440_ = _tmp448_ == '"';
								} else {
									_tmp440_ = FALSE;
								}
								_tmp449_ = _tmp440_;
								if (_tmp449_) {
									gchar* _tmp450_;
									gboolean _tmp485_ = FALSE;
									gboolean _tmp486_ = FALSE;
									gchar* _tmp487_;
									gchar _tmp488_;
									gboolean _tmp491_;
									gboolean _tmp494_;
									type = VALA_GENIE_TOKEN_TYPE_VERBATIM_STRING_LITERAL;
									token_length_in_chars = 6;
									_tmp450_ = self->priv->current;
									self->priv->current = _tmp450_ + 3;
									while (TRUE) {
										gchar* _tmp451_;
										gchar* _tmp452_;
										gboolean _tmp453_ = FALSE;
										gboolean _tmp454_ = FALSE;
										gchar* _tmp455_;
										gchar _tmp456_;
										gboolean _tmp459_;
										gboolean _tmp462_;
										_tmp451_ = self->priv->current;
										_tmp452_ = self->priv->end;
										if (!(_tmp451_ < (_tmp452_ - 4))) {
											break;
										}
										_tmp455_ = self->priv->current;
										_tmp456_ = _tmp455_[0];
										if (_tmp456_ == '"') {
											gchar* _tmp457_;
											gchar _tmp458_;
											_tmp457_ = self->priv->current;
											_tmp458_ = _tmp457_[1];
											_tmp454_ = _tmp458_ == '"';
										} else {
											_tmp454_ = FALSE;
										}
										_tmp459_ = _tmp454_;
										if (_tmp459_) {
											gchar* _tmp460_;
											gchar _tmp461_;
											_tmp460_ = self->priv->current;
											_tmp461_ = _tmp460_[2];
											_tmp453_ = _tmp461_ == '"';
										} else {
											_tmp453_ = FALSE;
										}
										_tmp462_ = _tmp453_;
										if (_tmp462_) {
											break;
										} else {
											gchar* _tmp463_;
											gchar _tmp464_;
											_tmp463_ = self->priv->current;
											_tmp464_ = _tmp463_[0];
											if (_tmp464_ == '\n') {
												gchar* _tmp465_;
												gint _tmp466_;
												_tmp465_ = self->priv->current;
												self->priv->current = _tmp465_ + 1;
												_tmp466_ = self->priv->line;
												self->priv->line = _tmp466_ + 1;
												self->priv->column = 1;
												token_length_in_chars = 3;
											} else {
												gchar* _tmp467_;
												gchar* _tmp468_;
												gchar* _tmp469_;
												gunichar _tmp470_ = 0U;
												gunichar u;
												gunichar _tmp471_;
												_tmp467_ = self->priv->current;
												_tmp468_ = self->priv->end;
												_tmp469_ = self->priv->current;
												_tmp470_ = g_utf8_get_char_validated ((const gchar*) _tmp467_, (gssize) ((glong) (_tmp468_ - _tmp469_)));
												u = _tmp470_;
												_tmp471_ = u;
												if (_tmp471_ != ((gunichar) (-1))) {
													gchar* _tmp472_;
													gunichar _tmp473_;
													gint _tmp474_ = 0;
													gint _tmp475_;
													_tmp472_ = self->priv->current;
													_tmp473_ = u;
													_tmp474_ = g_unichar_to_utf8 (_tmp473_, NULL);
													self->priv->current = _tmp472_ + _tmp474_;
													_tmp475_ = token_length_in_chars;
													token_length_in_chars = _tmp475_ + 1;
												} else {
													ValaSourceFile* _tmp476_;
													gint _tmp477_;
													gint _tmp478_;
													gint _tmp479_;
													gint _tmp480_;
													gint _tmp481_;
													gint _tmp482_;
													ValaSourceReference* _tmp483_;
													ValaSourceReference* _tmp484_;
													_tmp476_ = self->priv->_source_file;
													_tmp477_ = self->priv->line;
													_tmp478_ = self->priv->column;
													_tmp479_ = token_length_in_chars;
													_tmp480_ = self->priv->line;
													_tmp481_ = self->priv->column;
													_tmp482_ = token_length_in_chars;
													_tmp483_ = vala_source_reference_new (_tmp476_, _tmp477_, _tmp478_ + _tmp479_, _tmp480_, _tmp481_ + _tmp482_);
													_tmp484_ = _tmp483_;
													vala_report_error (_tmp484_, "invalid UTF-8 character");
													_vala_source_reference_unref0 (_tmp484_);
												}
											}
										}
									}
									_tmp487_ = self->priv->current;
									_tmp488_ = _tmp487_[0];
									if (_tmp488_ == '"') {
										gchar* _tmp489_;
										gchar _tmp490_;
										_tmp489_ = self->priv->current;
										_tmp490_ = _tmp489_[1];
										_tmp486_ = _tmp490_ == '"';
									} else {
										_tmp486_ = FALSE;
									}
									_tmp491_ = _tmp486_;
									if (_tmp491_) {
										gchar* _tmp492_;
										gchar _tmp493_;
										_tmp492_ = self->priv->current;
										_tmp493_ = _tmp492_[2];
										_tmp485_ = _tmp493_ == '"';
									} else {
										_tmp485_ = FALSE;
									}
									_tmp494_ = _tmp485_;
									if (_tmp494_) {
										gchar* _tmp495_;
										_tmp495_ = self->priv->current;
										self->priv->current = _tmp495_ + 3;
									} else {
										ValaSourceFile* _tmp496_;
										gint _tmp497_;
										gint _tmp498_;
										gint _tmp499_;
										gint _tmp500_;
										gint _tmp501_;
										gint _tmp502_;
										ValaSourceReference* _tmp503_;
										ValaSourceReference* _tmp504_;
										_tmp496_ = self->priv->_source_file;
										_tmp497_ = self->priv->line;
										_tmp498_ = self->priv->column;
										_tmp499_ = token_length_in_chars;
										_tmp500_ = self->priv->line;
										_tmp501_ = self->priv->column;
										_tmp502_ = token_length_in_chars;
										_tmp503_ = vala_source_reference_new (_tmp496_, _tmp497_, _tmp498_ + _tmp499_, _tmp500_, _tmp501_ + _tmp502_);
										_tmp504_ = _tmp503_;
										vala_report_error (_tmp504_, "syntax error, expected \"\"\"");
										_vala_source_reference_unref0 (_tmp504_);
									}
									break;
								} else {
									type = VALA_GENIE_TOKEN_TYPE_STRING_LITERAL;
								}
							}
							token_length_in_chars = 2;
							_tmp505_ = self->priv->current;
							self->priv->current = _tmp505_ + 1;
							while (TRUE) {
								gboolean _tmp506_ = FALSE;
								gchar* _tmp507_;
								gchar* _tmp508_;
								gboolean _tmp513_;
								gchar* _tmp514_;
								gchar _tmp515_;
								_tmp507_ = self->priv->current;
								_tmp508_ = self->priv->end;
								if (_tmp507_ < _tmp508_) {
									gchar* _tmp509_;
									gchar _tmp510_;
									gchar* _tmp511_;
									gchar _tmp512_;
									_tmp509_ = self->priv->current;
									_tmp510_ = _tmp509_[0];
									_tmp511_ = begin;
									_tmp512_ = _tmp511_[0];
									_tmp506_ = _tmp510_ != _tmp512_;
								} else {
									_tmp506_ = FALSE;
								}
								_tmp513_ = _tmp506_;
								if (!_tmp513_) {
									break;
								}
								_tmp514_ = self->priv->current;
								_tmp515_ = _tmp514_[0];
								if (_tmp515_ == '\\') {
									gchar* _tmp516_;
									gint _tmp517_;
									gchar* _tmp518_;
									gchar* _tmp519_;
									gchar* _tmp520_;
									gchar _tmp521_;
									_tmp516_ = self->priv->current;
									self->priv->current = _tmp516_ + 1;
									_tmp517_ = token_length_in_chars;
									token_length_in_chars = _tmp517_ + 1;
									_tmp518_ = self->priv->current;
									_tmp519_ = self->priv->end;
									if (_tmp518_ >= _tmp519_) {
										break;
									}
									_tmp520_ = self->priv->current;
									_tmp521_ = _tmp520_[0];
									switch (_tmp521_) {
										case '\'':
										case '"':
										case '\\':
										case '0':
										case 'b':
										case 'f':
										case 'n':
										case 'r':
										case 't':
										{
											gchar* _tmp522_;
											gint _tmp523_;
											_tmp522_ = self->priv->current;
											self->priv->current = _tmp522_ + 1;
											_tmp523_ = token_length_in_chars;
											token_length_in_chars = _tmp523_ + 1;
											break;
										}
										case 'x':
										{
											gchar* _tmp524_;
											gint _tmp525_;
											_tmp524_ = self->priv->current;
											self->priv->current = _tmp524_ + 1;
											_tmp525_ = token_length_in_chars;
											token_length_in_chars = _tmp525_ + 1;
											while (TRUE) {
												gboolean _tmp526_ = FALSE;
												gchar* _tmp527_;
												gchar* _tmp528_;
												gboolean _tmp532_;
												gchar* _tmp533_;
												gint _tmp534_;
												_tmp527_ = self->priv->current;
												_tmp528_ = self->priv->end;
												if (_tmp527_ < _tmp528_) {
													gchar* _tmp529_;
													gchar _tmp530_;
													gboolean _tmp531_ = FALSE;
													_tmp529_ = self->priv->current;
													_tmp530_ = _tmp529_[0];
													_tmp531_ = g_ascii_isxdigit (_tmp530_);
													_tmp526_ = _tmp531_;
												} else {
													_tmp526_ = FALSE;
												}
												_tmp532_ = _tmp526_;
												if (!_tmp532_) {
													break;
												}
												_tmp533_ = self->priv->current;
												self->priv->current = _tmp533_ + 1;
												_tmp534_ = token_length_in_chars;
												token_length_in_chars = _tmp534_ + 1;
											}
											break;
										}
										default:
										{
											ValaSourceFile* _tmp535_;
											gint _tmp536_;
											gint _tmp537_;
											gint _tmp538_;
											gint _tmp539_;
											gint _tmp540_;
											gint _tmp541_;
											ValaSourceReference* _tmp542_;
											ValaSourceReference* _tmp543_;
											_tmp535_ = self->priv->_source_file;
											_tmp536_ = self->priv->line;
											_tmp537_ = self->priv->column;
											_tmp538_ = token_length_in_chars;
											_tmp539_ = self->priv->line;
											_tmp540_ = self->priv->column;
											_tmp541_ = token_length_in_chars;
											_tmp542_ = vala_source_reference_new (_tmp535_, _tmp536_, _tmp537_ + _tmp538_, _tmp539_, _tmp540_ + _tmp541_);
											_tmp543_ = _tmp542_;
											vala_report_error (_tmp543_, "invalid escape sequence");
											_vala_source_reference_unref0 (_tmp543_);
											break;
										}
									}
								} else {
									gchar* _tmp544_;
									gchar _tmp545_;
									_tmp544_ = self->priv->current;
									_tmp545_ = _tmp544_[0];
									if (_tmp545_ == '\n') {
										break;
									} else {
										gchar* _tmp546_;
										gchar* _tmp547_;
										gchar* _tmp548_;
										gunichar _tmp549_ = 0U;
										gunichar u;
										gunichar _tmp550_;
										_tmp546_ = self->priv->current;
										_tmp547_ = self->priv->end;
										_tmp548_ = self->priv->current;
										_tmp549_ = g_utf8_get_char_validated ((const gchar*) _tmp546_, (gssize) ((glong) (_tmp547_ - _tmp548_)));
										u = _tmp549_;
										_tmp550_ = u;
										if (_tmp550_ != ((gunichar) (-1))) {
											gchar* _tmp551_;
											gunichar _tmp552_;
											gint _tmp553_ = 0;
											gint _tmp554_;
											_tmp551_ = self->priv->current;
											_tmp552_ = u;
											_tmp553_ = g_unichar_to_utf8 (_tmp552_, NULL);
											self->priv->current = _tmp551_ + _tmp553_;
											_tmp554_ = token_length_in_chars;
											token_length_in_chars = _tmp554_ + 1;
										} else {
											gchar* _tmp555_;
											ValaSourceFile* _tmp556_;
											gint _tmp557_;
											gint _tmp558_;
											gint _tmp559_;
											gint _tmp560_;
											gint _tmp561_;
											gint _tmp562_;
											ValaSourceReference* _tmp563_;
											ValaSourceReference* _tmp564_;
											_tmp555_ = self->priv->current;
											self->priv->current = _tmp555_ + 1;
											_tmp556_ = self->priv->_source_file;
											_tmp557_ = self->priv->line;
											_tmp558_ = self->priv->column;
											_tmp559_ = token_length_in_chars;
											_tmp560_ = self->priv->line;
											_tmp561_ = self->priv->column;
											_tmp562_ = token_length_in_chars;
											_tmp563_ = vala_source_reference_new (_tmp556_, _tmp557_, _tmp558_ + _tmp559_, _tmp560_, _tmp561_ + _tmp562_);
											_tmp564_ = _tmp563_;
											vala_report_error (_tmp564_, "invalid UTF-8 character");
											_vala_source_reference_unref0 (_tmp564_);
										}
									}
								}
							}
							_tmp566_ = self->priv->current;
							_tmp567_ = self->priv->end;
							if (_tmp566_ < _tmp567_) {
								gchar* _tmp568_;
								gchar _tmp569_;
								_tmp568_ = self->priv->current;
								_tmp569_ = _tmp568_[0];
								_tmp565_ = _tmp569_ != '\n';
							} else {
								_tmp565_ = FALSE;
							}
							_tmp570_ = _tmp565_;
							if (_tmp570_) {
								gchar* _tmp571_;
								_tmp571_ = self->priv->current;
								self->priv->current = _tmp571_ + 1;
							} else {
								ValaSourceFile* _tmp572_;
								gint _tmp573_;
								gint _tmp574_;
								gint _tmp575_;
								gint _tmp576_;
								gint _tmp577_;
								gint _tmp578_;
								ValaSourceReference* _tmp579_;
								ValaSourceReference* _tmp580_;
								gchar* _tmp581_;
								gchar _tmp582_;
								gchar* _tmp583_ = NULL;
								gchar* _tmp584_;
								_tmp572_ = self->priv->_source_file;
								_tmp573_ = self->priv->line;
								_tmp574_ = self->priv->column;
								_tmp575_ = token_length_in_chars;
								_tmp576_ = self->priv->line;
								_tmp577_ = self->priv->column;
								_tmp578_ = token_length_in_chars;
								_tmp579_ = vala_source_reference_new (_tmp572_, _tmp573_, _tmp574_ + _tmp575_, _tmp576_, _tmp577_ + _tmp578_);
								_tmp580_ = _tmp579_;
								_tmp581_ = begin;
								_tmp582_ = _tmp581_[0];
								_tmp583_ = g_strdup_printf ("syntax error, expected %c", (gint) _tmp582_);
								_tmp584_ = _tmp583_;
								vala_report_error (_tmp580_, _tmp584_);
								_g_free0 (_tmp584_);
								_vala_source_reference_unref0 (_tmp580_);
							}
							break;
						}
						default:
						{
							gchar* _tmp585_;
							gchar* _tmp586_;
							gchar* _tmp587_;
							gunichar _tmp588_ = 0U;
							gunichar u;
							gunichar _tmp589_;
							gint _tmp608_;
							ValaSourceLocation _tmp609_ = {0};
							ValaSourceLocation _tmp610_ = {0};
							ValaGenieTokenType _tmp611_ = 0;
							_tmp585_ = self->priv->current;
							_tmp586_ = self->priv->end;
							_tmp587_ = self->priv->current;
							_tmp588_ = g_utf8_get_char_validated ((const gchar*) _tmp585_, (gssize) ((glong) (_tmp586_ - _tmp587_)));
							u = _tmp588_;
							_tmp589_ = u;
							if (_tmp589_ != ((gunichar) (-1))) {
								gchar* _tmp590_;
								gunichar _tmp591_;
								gint _tmp592_ = 0;
								ValaSourceFile* _tmp593_;
								gint _tmp594_;
								gint _tmp595_;
								gint _tmp596_;
								gint _tmp597_;
								ValaSourceReference* _tmp598_;
								ValaSourceReference* _tmp599_;
								_tmp590_ = self->priv->current;
								_tmp591_ = u;
								_tmp592_ = g_unichar_to_utf8 (_tmp591_, NULL);
								self->priv->current = _tmp590_ + _tmp592_;
								_tmp593_ = self->priv->_source_file;
								_tmp594_ = self->priv->line;
								_tmp595_ = self->priv->column;
								_tmp596_ = self->priv->line;
								_tmp597_ = self->priv->column;
								_tmp598_ = vala_source_reference_new (_tmp593_, _tmp594_, _tmp595_, _tmp596_, _tmp597_);
								_tmp599_ = _tmp598_;
								vala_report_error (_tmp599_, "syntax error, unexpected character");
								_vala_source_reference_unref0 (_tmp599_);
							} else {
								gchar* _tmp600_;
								ValaSourceFile* _tmp601_;
								gint _tmp602_;
								gint _tmp603_;
								gint _tmp604_;
								gint _tmp605_;
								ValaSourceReference* _tmp606_;
								ValaSourceReference* _tmp607_;
								_tmp600_ = self->priv->current;
								self->priv->current = _tmp600_ + 1;
								_tmp601_ = self->priv->_source_file;
								_tmp602_ = self->priv->line;
								_tmp603_ = self->priv->column;
								_tmp604_ = self->priv->line;
								_tmp605_ = self->priv->column;
								_tmp606_ = vala_source_reference_new (_tmp601_, _tmp602_, _tmp603_, _tmp604_, _tmp605_);
								_tmp607_ = _tmp606_;
								vala_report_error (_tmp607_, "invalid UTF-8 character");
								_vala_source_reference_unref0 (_tmp607_);
							}
							_tmp608_ = self->priv->column;
							self->priv->column = _tmp608_ + 1;
							self->priv->last_token = VALA_GENIE_TOKEN_TYPE_STRING_LITERAL;
							_tmp611_ = vala_genie_scanner_read_token (self, &_tmp609_, &_tmp610_);
							_vala_token_begin = _tmp609_;
							_vala_token_end = _tmp610_;
							result = _tmp611_;
							if (token_begin) {
								*token_begin = _vala_token_begin;
							}
							if (token_end) {
								*token_end = _vala_token_end;
							}
							return result;
						}
					}
				}
			}
		}
	}
	_tmp612_ = token_length_in_chars;
	if (_tmp612_ < 0) {
		gint _tmp613_;
		gchar* _tmp614_;
		gchar* _tmp615_;
		_tmp613_ = self->priv->column;
		_tmp614_ = self->priv->current;
		_tmp615_ = begin;
		self->priv->column = _tmp613_ + ((gint) (_tmp614_ - _tmp615_));
	} else {
		gint _tmp616_;
		gint _tmp617_;
		_tmp616_ = self->priv->column;
		_tmp617_ = token_length_in_chars;
		self->priv->column = _tmp616_ + _tmp617_;
	}
	_tmp618_ = self->priv->current;
	_tmp619_ = self->priv->line;
	_tmp620_ = self->priv->column;
	vala_source_location_init (&_tmp621_, _tmp618_, _tmp619_, _tmp620_ - 1);
	_vala_token_end = _tmp621_;
	_tmp622_ = type;
	self->priv->last_token = _tmp622_;
	result = type;
	if (token_begin) {
		*token_begin = _vala_token_begin;
	}
	if (token_end) {
		*token_end = _vala_token_end;
	}
	return result;
}


static gint vala_genie_scanner_count_tabs (ValaGenieScanner* self) {
	gint result = 0;
	gint tab_count;
	gint _tmp0_;
	gboolean _tmp21_ = FALSE;
	gchar* _tmp22_;
	gchar* _tmp23_;
	gboolean _tmp26_;
	g_return_val_if_fail (self != NULL, 0);
	tab_count = 0;
	_tmp0_ = self->priv->_indent_spaces;
	if (_tmp0_ == 0) {
		while (TRUE) {
			gboolean _tmp1_ = FALSE;
			gchar* _tmp2_;
			gchar* _tmp3_;
			gboolean _tmp6_;
			gchar* _tmp7_;
			gint _tmp8_;
			gint _tmp9_;
			_tmp2_ = self->priv->current;
			_tmp3_ = self->priv->end;
			if (_tmp2_ < _tmp3_) {
				gchar* _tmp4_;
				gchar _tmp5_;
				_tmp4_ = self->priv->current;
				_tmp5_ = _tmp4_[0];
				_tmp1_ = _tmp5_ == '\t';
			} else {
				_tmp1_ = FALSE;
			}
			_tmp6_ = _tmp1_;
			if (!_tmp6_) {
				break;
			}
			_tmp7_ = self->priv->current;
			self->priv->current = _tmp7_ + 1;
			_tmp8_ = self->priv->column;
			self->priv->column = _tmp8_ + 1;
			_tmp9_ = tab_count;
			tab_count = _tmp9_ + 1;
		}
	} else {
		gint space_count;
		gint _tmp19_;
		gint _tmp20_;
		space_count = 0;
		while (TRUE) {
			gboolean _tmp10_ = FALSE;
			gchar* _tmp11_;
			gchar* _tmp12_;
			gboolean _tmp15_;
			gchar* _tmp16_;
			gint _tmp17_;
			gint _tmp18_;
			_tmp11_ = self->priv->current;
			_tmp12_ = self->priv->end;
			if (_tmp11_ < _tmp12_) {
				gchar* _tmp13_;
				gchar _tmp14_;
				_tmp13_ = self->priv->current;
				_tmp14_ = _tmp13_[0];
				_tmp10_ = _tmp14_ == ' ';
			} else {
				_tmp10_ = FALSE;
			}
			_tmp15_ = _tmp10_;
			if (!_tmp15_) {
				break;
			}
			_tmp16_ = self->priv->current;
			self->priv->current = _tmp16_ + 1;
			_tmp17_ = self->priv->column;
			self->priv->column = _tmp17_ + 1;
			_tmp18_ = space_count;
			space_count = _tmp18_ + 1;
		}
		_tmp19_ = space_count;
		_tmp20_ = self->priv->_indent_spaces;
		tab_count = _tmp19_ / _tmp20_;
	}
	vala_genie_scanner_space (self);
	_tmp22_ = self->priv->current;
	_tmp23_ = self->priv->end;
	if (_tmp22_ < _tmp23_) {
		gchar* _tmp24_;
		gchar _tmp25_;
		_tmp24_ = self->priv->current;
		_tmp25_ = _tmp24_[0];
		_tmp21_ = _tmp25_ == '\n';
	} else {
		_tmp21_ = FALSE;
	}
	_tmp26_ = _tmp21_;
	if (_tmp26_) {
		result = -1;
		return result;
	}
	result = tab_count;
	return result;
}


static gboolean vala_genie_scanner_matches (ValaGenieScanner* self, gchar* begin, const gchar* keyword) {
	gboolean result = FALSE;
	const gchar* _tmp0_;
	gchar* keyword_array;
	const gchar* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	glong len;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (keyword != NULL, FALSE);
	_tmp0_ = keyword;
	keyword_array = (gchar*) _tmp0_;
	_tmp1_ = keyword;
	_tmp2_ = strlen (_tmp1_);
	_tmp3_ = _tmp2_;
	len = (glong) _tmp3_;
	{
		gint i;
		i = 0;
		{
			gboolean _tmp4_;
			_tmp4_ = TRUE;
			while (TRUE) {
				gboolean _tmp5_;
				gint _tmp7_;
				glong _tmp8_;
				gchar* _tmp9_;
				gint _tmp10_;
				gchar _tmp11_;
				gchar* _tmp12_;
				gint _tmp13_;
				gchar _tmp14_;
				_tmp5_ = _tmp4_;
				if (!_tmp5_) {
					gint _tmp6_;
					_tmp6_ = i;
					i = _tmp6_ + 1;
				}
				_tmp4_ = FALSE;
				_tmp7_ = i;
				_tmp8_ = len;
				if (!(((glong) _tmp7_) < _tmp8_)) {
					break;
				}
				_tmp9_ = begin;
				_tmp10_ = i;
				_tmp11_ = _tmp9_[_tmp10_];
				_tmp12_ = keyword_array;
				_tmp13_ = i;
				_tmp14_ = _tmp12_[_tmp13_];
				if (_tmp11_ != _tmp14_) {
					result = FALSE;
					return result;
				}
			}
		}
	}
	result = TRUE;
	return result;
}


static gboolean vala_genie_scanner_whitespace (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean found;
	gboolean _tmp13_ = FALSE;
	gboolean _tmp14_ = FALSE;
	gint _tmp15_;
	gboolean _tmp18_;
	gboolean _tmp21_;
	g_return_val_if_fail (self != NULL, FALSE);
	found = FALSE;
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp1_ = FALSE;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gboolean _tmp7_;
		gboolean _tmp10_;
		gchar* _tmp11_;
		gint _tmp12_;
		_tmp2_ = self->priv->current;
		_tmp3_ = self->priv->end;
		if (_tmp2_ < _tmp3_) {
			gchar* _tmp4_;
			gchar _tmp5_;
			gboolean _tmp6_ = FALSE;
			_tmp4_ = self->priv->current;
			_tmp5_ = _tmp4_[0];
			_tmp6_ = g_ascii_isspace (_tmp5_);
			_tmp1_ = _tmp6_;
		} else {
			_tmp1_ = FALSE;
		}
		_tmp7_ = _tmp1_;
		if (_tmp7_) {
			gchar* _tmp8_;
			gchar _tmp9_;
			_tmp8_ = self->priv->current;
			_tmp9_ = _tmp8_[0];
			_tmp0_ = _tmp9_ != '\n';
		} else {
			_tmp0_ = FALSE;
		}
		_tmp10_ = _tmp0_;
		if (!_tmp10_) {
			break;
		}
		found = TRUE;
		_tmp11_ = self->priv->current;
		self->priv->current = _tmp11_ + 1;
		_tmp12_ = self->priv->column;
		self->priv->column = _tmp12_ + 1;
	}
	_tmp15_ = self->priv->column;
	if (_tmp15_ == 1) {
		gchar* _tmp16_;
		gchar* _tmp17_;
		_tmp16_ = self->priv->current;
		_tmp17_ = self->priv->end;
		_tmp14_ = _tmp16_ < _tmp17_;
	} else {
		_tmp14_ = FALSE;
	}
	_tmp18_ = _tmp14_;
	if (_tmp18_) {
		gchar* _tmp19_;
		gchar _tmp20_;
		_tmp19_ = self->priv->current;
		_tmp20_ = _tmp19_[0];
		_tmp13_ = _tmp20_ == '#';
	} else {
		_tmp13_ = FALSE;
	}
	_tmp21_ = _tmp13_;
	if (_tmp21_) {
		vala_genie_scanner_pp_directive (self);
		result = TRUE;
		return result;
	}
	result = found;
	return result;
}


static inline gboolean vala_genie_scanner_newline (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gchar* _tmp0_;
	gchar _tmp1_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->current;
	_tmp1_ = _tmp0_[0];
	if (_tmp1_ == '\n') {
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}


static gboolean vala_genie_scanner_skip_newlines (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean new_lines;
	g_return_val_if_fail (self != NULL, FALSE);
	new_lines = FALSE;
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gchar* _tmp1_;
		gint _tmp2_;
		_tmp0_ = vala_genie_scanner_newline (self);
		if (!_tmp0_) {
			break;
		}
		_tmp1_ = self->priv->current;
		self->priv->current = _tmp1_ + 1;
		_tmp2_ = self->priv->line;
		self->priv->line = _tmp2_ + 1;
		self->priv->column = 1;
		self->priv->current_indent_level = 0;
		new_lines = TRUE;
	}
	result = new_lines;
	return result;
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* _tmp0_;
	glong _tmp1_;
	gchar* _tmp2_ = NULL;
	gchar* end;
	gchar* _tmp3_;
	_tmp0_ = str;
	_tmp1_ = maxlen;
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
	end = _tmp2_;
	_tmp3_ = end;
	if (_tmp3_ == NULL) {
		glong _tmp4_;
		_tmp4_ = maxlen;
		result = _tmp4_;
		return result;
	} else {
		gchar* _tmp5_;
		gchar* _tmp6_;
		_tmp5_ = end;
		_tmp6_ = str;
		result = (glong) (_tmp5_ - _tmp6_);
		return result;
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_;
	gboolean _tmp3_;
	glong _tmp9_;
	glong _tmp15_;
	glong _tmp18_;
	glong _tmp19_;
	glong _tmp20_;
	glong _tmp21_;
	glong _tmp22_;
	gchar* _tmp23_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp1_ = offset;
	if (_tmp1_ >= ((glong) 0)) {
		glong _tmp2_;
		_tmp2_ = len;
		_tmp0_ = _tmp2_ >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	_tmp3_ = _tmp0_;
	if (_tmp3_) {
		glong _tmp4_;
		glong _tmp5_;
		glong _tmp6_ = 0L;
		_tmp4_ = offset;
		_tmp5_ = len;
		_tmp6_ = string_strnlen ((gchar*) self, _tmp4_ + _tmp5_);
		string_length = _tmp6_;
	} else {
		gint _tmp7_;
		gint _tmp8_;
		_tmp7_ = strlen (self);
		_tmp8_ = _tmp7_;
		string_length = (glong) _tmp8_;
	}
	_tmp9_ = offset;
	if (_tmp9_ < ((glong) 0)) {
		glong _tmp10_;
		glong _tmp11_;
		glong _tmp12_;
		_tmp10_ = string_length;
		_tmp11_ = offset;
		offset = _tmp10_ + _tmp11_;
		_tmp12_ = offset;
		g_return_val_if_fail (_tmp12_ >= ((glong) 0), NULL);
	} else {
		glong _tmp13_;
		glong _tmp14_;
		_tmp13_ = offset;
		_tmp14_ = string_length;
		g_return_val_if_fail (_tmp13_ <= _tmp14_, NULL);
	}
	_tmp15_ = len;
	if (_tmp15_ < ((glong) 0)) {
		glong _tmp16_;
		glong _tmp17_;
		_tmp16_ = string_length;
		_tmp17_ = offset;
		len = _tmp16_ - _tmp17_;
	}
	_tmp18_ = offset;
	_tmp19_ = len;
	_tmp20_ = string_length;
	g_return_val_if_fail ((_tmp18_ + _tmp19_) <= _tmp20_, NULL);
	_tmp21_ = offset;
	_tmp22_ = len;
	_tmp23_ = g_strndup (((gchar*) self) + _tmp21_, (gsize) _tmp22_);
	result = _tmp23_;
	return result;
}


static gboolean vala_genie_scanner_comment (ValaGenieScanner* self, gboolean file_comment) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gboolean _tmp6_;
	gboolean _tmp13_;
	gchar* _tmp14_;
	gchar _tmp15_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp2_ = self->priv->current;
	_tmp3_ = self->priv->end;
	if (_tmp2_ > (_tmp3_ - 2)) {
		_tmp1_ = TRUE;
	} else {
		gchar* _tmp4_;
		gchar _tmp5_;
		_tmp4_ = self->priv->current;
		_tmp5_ = _tmp4_[0];
		_tmp1_ = _tmp5_ != '/';
	}
	_tmp6_ = _tmp1_;
	if (_tmp6_) {
		_tmp0_ = TRUE;
	} else {
		gboolean _tmp7_ = FALSE;
		gchar* _tmp8_;
		gchar _tmp9_;
		gboolean _tmp12_;
		_tmp8_ = self->priv->current;
		_tmp9_ = _tmp8_[1];
		if (_tmp9_ != '/') {
			gchar* _tmp10_;
			gchar _tmp11_;
			_tmp10_ = self->priv->current;
			_tmp11_ = _tmp10_[1];
			_tmp7_ = _tmp11_ != '*';
		} else {
			_tmp7_ = FALSE;
		}
		_tmp12_ = _tmp7_;
		_tmp0_ = _tmp12_;
	}
	_tmp13_ = _tmp0_;
	if (_tmp13_) {
		result = FALSE;
		return result;
	}
	_tmp14_ = self->priv->current;
	_tmp15_ = _tmp14_[1];
	if (_tmp15_ == '/') {
		ValaSourceReference* source_reference;
		gboolean _tmp16_;
		gchar* _tmp23_;
		gboolean _tmp31_ = FALSE;
		gchar* _tmp32_;
		gchar _tmp33_;
		gboolean _tmp35_;
		ValaSourceReference* _tmp38_;
		source_reference = NULL;
		_tmp16_ = file_comment;
		if (_tmp16_) {
			ValaSourceFile* _tmp17_;
			gint _tmp18_;
			gint _tmp19_;
			gint _tmp20_;
			gint _tmp21_;
			ValaSourceReference* _tmp22_;
			_tmp17_ = self->priv->_source_file;
			_tmp18_ = self->priv->line;
			_tmp19_ = self->priv->column;
			_tmp20_ = self->priv->line;
			_tmp21_ = self->priv->column;
			_tmp22_ = vala_source_reference_new (_tmp17_, _tmp18_, _tmp19_, _tmp20_, _tmp21_);
			_vala_source_reference_unref0 (source_reference);
			source_reference = _tmp22_;
		}
		_tmp23_ = self->priv->current;
		self->priv->current = _tmp23_ + 2;
		while (TRUE) {
			gboolean _tmp24_ = FALSE;
			gchar* _tmp25_;
			gchar* _tmp26_;
			gboolean _tmp29_;
			gchar* _tmp30_;
			_tmp25_ = self->priv->current;
			_tmp26_ = self->priv->end;
			if (_tmp25_ < _tmp26_) {
				gchar* _tmp27_;
				gchar _tmp28_;
				_tmp27_ = self->priv->current;
				_tmp28_ = _tmp27_[0];
				_tmp24_ = _tmp28_ != '\n';
			} else {
				_tmp24_ = FALSE;
			}
			_tmp29_ = _tmp24_;
			if (!_tmp29_) {
				break;
			}
			_tmp30_ = self->priv->current;
			self->priv->current = _tmp30_ + 1;
		}
		_tmp32_ = self->priv->current;
		_tmp33_ = _tmp32_[0];
		if (_tmp33_ == '\n') {
			ValaGenieTokenType _tmp34_;
			_tmp34_ = self->priv->last_token;
			_tmp31_ = _tmp34_ == VALA_GENIE_TOKEN_TYPE_EOL;
		} else {
			_tmp31_ = FALSE;
		}
		_tmp35_ = _tmp31_;
		if (_tmp35_) {
			gchar* _tmp36_;
			gint _tmp37_;
			_tmp36_ = self->priv->current;
			self->priv->current = _tmp36_ + 1;
			_tmp37_ = self->priv->line;
			self->priv->line = _tmp37_ + 1;
			self->priv->column = 1;
			self->priv->current_indent_level = 0;
		}
		_tmp38_ = source_reference;
		if (_tmp38_ != NULL) {
			gchar* _tmp39_;
			gchar* _tmp40_;
			gchar* _tmp41_;
			gchar* _tmp42_ = NULL;
			gchar* _tmp43_;
			ValaSourceReference* _tmp44_;
			gboolean _tmp45_;
			_tmp39_ = self->priv->begin;
			_tmp40_ = self->priv->current;
			_tmp41_ = self->priv->begin;
			_tmp42_ = string_substring ((const gchar*) _tmp39_, (glong) 0, (glong) (_tmp40_ - _tmp41_));
			_tmp43_ = _tmp42_;
			_tmp44_ = source_reference;
			_tmp45_ = file_comment;
			vala_genie_scanner_push_comment (self, _tmp43_, _tmp44_, _tmp45_);
			_g_free0 (_tmp43_);
		}
		_vala_source_reference_unref0 (source_reference);
	} else {
		ValaSourceReference* source_reference;
		gboolean _tmp46_ = FALSE;
		gboolean _tmp47_;
		gboolean _tmp50_;
		gboolean _tmp51_ = FALSE;
		gchar* _tmp52_;
		gchar _tmp53_;
		gboolean _tmp55_;
		gchar* _tmp62_;
		gchar* _tmp63_;
		gchar* begin;
		gchar* _tmp79_;
		gchar* _tmp80_;
		ValaSourceReference* _tmp88_;
		gchar* _tmp96_;
		gint _tmp97_;
		source_reference = NULL;
		_tmp47_ = file_comment;
		if (_tmp47_) {
			gchar* _tmp48_;
			gchar _tmp49_;
			_tmp48_ = self->priv->current;
			_tmp49_ = _tmp48_[2];
			_tmp46_ = _tmp49_ == '*';
		} else {
			_tmp46_ = FALSE;
		}
		_tmp50_ = _tmp46_;
		if (_tmp50_) {
			result = FALSE;
			_vala_source_reference_unref0 (source_reference);
			return result;
		}
		_tmp52_ = self->priv->current;
		_tmp53_ = _tmp52_[2];
		if (_tmp53_ == '*') {
			_tmp51_ = TRUE;
		} else {
			gboolean _tmp54_;
			_tmp54_ = file_comment;
			_tmp51_ = _tmp54_;
		}
		_tmp55_ = _tmp51_;
		if (_tmp55_) {
			ValaSourceFile* _tmp56_;
			gint _tmp57_;
			gint _tmp58_;
			gint _tmp59_;
			gint _tmp60_;
			ValaSourceReference* _tmp61_;
			_tmp56_ = self->priv->_source_file;
			_tmp57_ = self->priv->line;
			_tmp58_ = self->priv->column;
			_tmp59_ = self->priv->line;
			_tmp60_ = self->priv->column;
			_tmp61_ = vala_source_reference_new (_tmp56_, _tmp57_, _tmp58_, _tmp59_, _tmp60_);
			_vala_source_reference_unref0 (source_reference);
			source_reference = _tmp61_;
		}
		_tmp62_ = self->priv->current;
		self->priv->current = _tmp62_ + 2;
		_tmp63_ = self->priv->current;
		begin = _tmp63_;
		while (TRUE) {
			gboolean _tmp64_ = FALSE;
			gchar* _tmp65_;
			gchar* _tmp66_;
			gboolean _tmp73_;
			gchar* _tmp74_;
			gchar _tmp75_;
			gchar* _tmp77_;
			gint _tmp78_;
			_tmp65_ = self->priv->current;
			_tmp66_ = self->priv->end;
			if (_tmp65_ < (_tmp66_ - 1)) {
				gboolean _tmp67_ = FALSE;
				gchar* _tmp68_;
				gchar _tmp69_;
				gboolean _tmp72_;
				_tmp68_ = self->priv->current;
				_tmp69_ = _tmp68_[0];
				if (_tmp69_ != '*') {
					_tmp67_ = TRUE;
				} else {
					gchar* _tmp70_;
					gchar _tmp71_;
					_tmp70_ = self->priv->current;
					_tmp71_ = _tmp70_[1];
					_tmp67_ = _tmp71_ != '/';
				}
				_tmp72_ = _tmp67_;
				_tmp64_ = _tmp72_;
			} else {
				_tmp64_ = FALSE;
			}
			_tmp73_ = _tmp64_;
			if (!_tmp73_) {
				break;
			}
			_tmp74_ = self->priv->current;
			_tmp75_ = _tmp74_[0];
			if (_tmp75_ == '\n') {
				gint _tmp76_;
				_tmp76_ = self->priv->line;
				self->priv->line = _tmp76_ + 1;
				self->priv->column = 0;
			}
			_tmp77_ = self->priv->current;
			self->priv->current = _tmp77_ + 1;
			_tmp78_ = self->priv->column;
			self->priv->column = _tmp78_ + 1;
		}
		_tmp79_ = self->priv->current;
		_tmp80_ = self->priv->end;
		if (_tmp79_ == (_tmp80_ - 1)) {
			ValaSourceFile* _tmp81_;
			gint _tmp82_;
			gint _tmp83_;
			gint _tmp84_;
			gint _tmp85_;
			ValaSourceReference* _tmp86_;
			ValaSourceReference* _tmp87_;
			_tmp81_ = self->priv->_source_file;
			_tmp82_ = self->priv->line;
			_tmp83_ = self->priv->column;
			_tmp84_ = self->priv->line;
			_tmp85_ = self->priv->column;
			_tmp86_ = vala_source_reference_new (_tmp81_, _tmp82_, _tmp83_, _tmp84_, _tmp85_);
			_tmp87_ = _tmp86_;
			vala_report_error (_tmp87_, "syntax error, expected */");
			_vala_source_reference_unref0 (_tmp87_);
			result = TRUE;
			_vala_source_reference_unref0 (source_reference);
			return result;
		}
		_tmp88_ = source_reference;
		if (_tmp88_ != NULL) {
			gchar* _tmp89_;
			gchar* _tmp90_;
			gchar* _tmp91_;
			gchar* _tmp92_ = NULL;
			gchar* comment;
			const gchar* _tmp93_;
			ValaSourceReference* _tmp94_;
			gboolean _tmp95_;
			_tmp89_ = begin;
			_tmp90_ = self->priv->current;
			_tmp91_ = begin;
			_tmp92_ = string_substring ((const gchar*) _tmp89_, (glong) 0, (glong) (_tmp90_ - _tmp91_));
			comment = _tmp92_;
			_tmp93_ = comment;
			_tmp94_ = source_reference;
			_tmp95_ = file_comment;
			vala_genie_scanner_push_comment (self, _tmp93_, _tmp94_, _tmp95_);
			_g_free0 (comment);
		}
		_tmp96_ = self->priv->current;
		self->priv->current = _tmp96_ + 2;
		_tmp97_ = self->priv->column;
		self->priv->column = _tmp97_ + 2;
		_vala_source_reference_unref0 (source_reference);
	}
	result = TRUE;
	return result;
}


static gboolean vala_genie_scanner_skip_tabs (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean found;
	g_return_val_if_fail (self != NULL, FALSE);
	found = FALSE;
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gboolean _tmp5_;
		gchar* _tmp6_;
		gint _tmp7_;
		_tmp1_ = self->priv->current;
		_tmp2_ = self->priv->end;
		if (_tmp1_ < _tmp2_) {
			gchar* _tmp3_;
			gchar _tmp4_;
			_tmp3_ = self->priv->current;
			_tmp4_ = _tmp3_[0];
			_tmp0_ = _tmp4_ == '\t';
		} else {
			_tmp0_ = FALSE;
		}
		_tmp5_ = _tmp0_;
		if (!_tmp5_) {
			break;
		}
		_tmp6_ = self->priv->current;
		self->priv->current = _tmp6_ + 1;
		_tmp7_ = self->priv->column;
		self->priv->column = _tmp7_ + 1;
		found = TRUE;
	}
	result = found;
	return result;
}


static void vala_genie_scanner_skip_space_tabs (ValaGenieScanner* self) {
	g_return_if_fail (self != NULL);
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp1_ = FALSE;
		gboolean _tmp2_ = FALSE;
		gboolean _tmp4_;
		gboolean _tmp6_;
		_tmp2_ = vala_genie_scanner_whitespace (self);
		if (_tmp2_) {
			_tmp1_ = TRUE;
		} else {
			gboolean _tmp3_ = FALSE;
			_tmp3_ = vala_genie_scanner_skip_tabs (self);
			_tmp1_ = _tmp3_;
		}
		_tmp4_ = _tmp1_;
		if (_tmp4_) {
			_tmp0_ = TRUE;
		} else {
			gboolean _tmp5_ = FALSE;
			_tmp5_ = vala_genie_scanner_comment (self, FALSE);
			_tmp0_ = _tmp5_;
		}
		_tmp6_ = _tmp0_;
		if (!_tmp6_) {
			break;
		}
	}
}


static void vala_genie_scanner_space (ValaGenieScanner* self) {
	g_return_if_fail (self != NULL);
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp1_ = FALSE;
		gboolean _tmp3_;
		_tmp1_ = vala_genie_scanner_whitespace (self);
		if (_tmp1_) {
			_tmp0_ = TRUE;
		} else {
			gboolean _tmp2_ = FALSE;
			_tmp2_ = vala_genie_scanner_comment (self, FALSE);
			_tmp0_ = _tmp2_;
		}
		_tmp3_ = _tmp0_;
		if (!_tmp3_) {
			break;
		}
	}
}


void vala_genie_scanner_parse_file_comments (ValaGenieScanner* self) {
	g_return_if_fail (self != NULL);
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp1_ = FALSE;
		gboolean _tmp3_;
		_tmp1_ = vala_genie_scanner_whitespace (self);
		if (_tmp1_) {
			_tmp0_ = TRUE;
		} else {
			gboolean _tmp2_ = FALSE;
			_tmp2_ = vala_genie_scanner_comment (self, TRUE);
			_tmp0_ = _tmp2_;
		}
		_tmp3_ = _tmp0_;
		if (!_tmp3_) {
			break;
		}
	}
}


static gchar string_get (const gchar* self, glong index) {
	gchar result = '\0';
	glong _tmp0_;
	gchar _tmp1_;
	g_return_val_if_fail (self != NULL, '\0');
	_tmp0_ = index;
	_tmp1_ = ((gchar*) self)[_tmp0_];
	result = _tmp1_;
	return result;
}


static void vala_genie_scanner_push_comment (ValaGenieScanner* self, const gchar* comment_item, ValaSourceReference* source_reference, gboolean file_comment) {
	const gchar* _tmp0_;
	gchar _tmp1_ = '\0';
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (comment_item != NULL);
	g_return_if_fail (source_reference != NULL);
	_tmp0_ = comment_item;
	_tmp1_ = string_get (_tmp0_, (glong) 0);
	if (_tmp1_ == '*') {
		const gchar* _tmp2_;
		ValaSourceReference* _tmp3_;
		ValaComment* _tmp4_;
		_tmp2_ = comment_item;
		_tmp3_ = source_reference;
		_tmp4_ = vala_comment_new (_tmp2_, _tmp3_);
		_vala_comment_unref0 (self->priv->_comment);
		self->priv->_comment = _tmp4_;
	}
	_tmp5_ = file_comment;
	if (_tmp5_) {
		ValaSourceFile* _tmp6_;
		const gchar* _tmp7_;
		ValaSourceReference* _tmp8_;
		ValaComment* _tmp9_;
		ValaComment* _tmp10_;
		_tmp6_ = self->priv->_source_file;
		_tmp7_ = comment_item;
		_tmp8_ = source_reference;
		_tmp9_ = vala_comment_new (_tmp7_, _tmp8_);
		_tmp10_ = _tmp9_;
		vala_source_file_add_comment (_tmp6_, _tmp10_);
		_vala_comment_unref0 (_tmp10_);
		_vala_comment_unref0 (self->priv->_comment);
		self->priv->_comment = NULL;
	}
}


/**
 * Clears and returns the content of the comment stack.
 *
 * @return saved comment
 */
static gpointer _vala_comment_ref0 (gpointer self) {
	return self ? vala_comment_ref (self) : NULL;
}


ValaComment* vala_genie_scanner_pop_comment (ValaGenieScanner* self) {
	ValaComment* result = NULL;
	ValaComment* _tmp0_;
	ValaComment* _tmp1_;
	ValaComment* _tmp2_;
	ValaComment* comment;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_comment;
	if (_tmp0_ == NULL) {
		result = NULL;
		return result;
	}
	_tmp1_ = self->priv->_comment;
	_tmp2_ = _vala_comment_ref0 (_tmp1_);
	comment = _tmp2_;
	_vala_comment_unref0 (self->priv->_comment);
	self->priv->_comment = NULL;
	result = comment;
	return result;
}


static gboolean vala_genie_scanner_pp_whitespace (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean found;
	g_return_val_if_fail (self != NULL, FALSE);
	found = FALSE;
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp1_ = FALSE;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gboolean _tmp7_;
		gboolean _tmp10_;
		gchar* _tmp11_;
		gint _tmp12_;
		_tmp2_ = self->priv->current;
		_tmp3_ = self->priv->end;
		if (_tmp2_ < _tmp3_) {
			gchar* _tmp4_;
			gchar _tmp5_;
			gboolean _tmp6_ = FALSE;
			_tmp4_ = self->priv->current;
			_tmp5_ = _tmp4_[0];
			_tmp6_ = g_ascii_isspace (_tmp5_);
			_tmp1_ = _tmp6_;
		} else {
			_tmp1_ = FALSE;
		}
		_tmp7_ = _tmp1_;
		if (_tmp7_) {
			gchar* _tmp8_;
			gchar _tmp9_;
			_tmp8_ = self->priv->current;
			_tmp9_ = _tmp8_[0];
			_tmp0_ = _tmp9_ != '\n';
		} else {
			_tmp0_ = FALSE;
		}
		_tmp10_ = _tmp0_;
		if (!_tmp10_) {
			break;
		}
		found = TRUE;
		_tmp11_ = self->priv->current;
		self->priv->current = _tmp11_ + 1;
		_tmp12_ = self->priv->column;
		self->priv->column = _tmp12_ + 1;
	}
	result = found;
	return result;
}


static void vala_genie_scanner_pp_directive (ValaGenieScanner* self) {
	gchar* _tmp0_;
	gint _tmp1_;
	gchar* _tmp2_;
	gchar* begin;
	gint len;
	gboolean _tmp13_ = FALSE;
	gint _tmp14_;
	gboolean _tmp17_;
	gboolean _tmp41_ = FALSE;
	ValaGenieScannerConditional* _tmp42_;
	gint _tmp42__length1;
	gboolean _tmp47_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->current;
	self->priv->current = _tmp0_ + 1;
	_tmp1_ = self->priv->column;
	self->priv->column = _tmp1_ + 1;
	vala_genie_scanner_pp_whitespace (self);
	_tmp2_ = self->priv->current;
	begin = _tmp2_;
	len = 0;
	while (TRUE) {
		gboolean _tmp3_ = FALSE;
		gchar* _tmp4_;
		gchar* _tmp5_;
		gboolean _tmp9_;
		gchar* _tmp10_;
		gint _tmp11_;
		gint _tmp12_;
		_tmp4_ = self->priv->current;
		_tmp5_ = self->priv->end;
		if (_tmp4_ < _tmp5_) {
			gchar* _tmp6_;
			gchar _tmp7_;
			gboolean _tmp8_ = FALSE;
			_tmp6_ = self->priv->current;
			_tmp7_ = _tmp6_[0];
			_tmp8_ = g_ascii_isalnum (_tmp7_);
			_tmp3_ = _tmp8_;
		} else {
			_tmp3_ = FALSE;
		}
		_tmp9_ = _tmp3_;
		if (!_tmp9_) {
			break;
		}
		_tmp10_ = self->priv->current;
		self->priv->current = _tmp10_ + 1;
		_tmp11_ = self->priv->column;
		self->priv->column = _tmp11_ + 1;
		_tmp12_ = len;
		len = _tmp12_ + 1;
	}
	_tmp14_ = len;
	if (_tmp14_ == 2) {
		gchar* _tmp15_;
		gboolean _tmp16_ = FALSE;
		_tmp15_ = begin;
		_tmp16_ = vala_genie_scanner_matches (self, _tmp15_, "if");
		_tmp13_ = _tmp16_;
	} else {
		_tmp13_ = FALSE;
	}
	_tmp17_ = _tmp13_;
	if (_tmp17_) {
		vala_genie_scanner_parse_pp_if (self);
	} else {
		gboolean _tmp18_ = FALSE;
		gint _tmp19_;
		gboolean _tmp22_;
		_tmp19_ = len;
		if (_tmp19_ == 4) {
			gchar* _tmp20_;
			gboolean _tmp21_ = FALSE;
			_tmp20_ = begin;
			_tmp21_ = vala_genie_scanner_matches (self, _tmp20_, "elif");
			_tmp18_ = _tmp21_;
		} else {
			_tmp18_ = FALSE;
		}
		_tmp22_ = _tmp18_;
		if (_tmp22_) {
			vala_genie_scanner_parse_pp_elif (self);
		} else {
			gboolean _tmp23_ = FALSE;
			gint _tmp24_;
			gboolean _tmp27_;
			_tmp24_ = len;
			if (_tmp24_ == 4) {
				gchar* _tmp25_;
				gboolean _tmp26_ = FALSE;
				_tmp25_ = begin;
				_tmp26_ = vala_genie_scanner_matches (self, _tmp25_, "else");
				_tmp23_ = _tmp26_;
			} else {
				_tmp23_ = FALSE;
			}
			_tmp27_ = _tmp23_;
			if (_tmp27_) {
				vala_genie_scanner_parse_pp_else (self);
			} else {
				gboolean _tmp28_ = FALSE;
				gint _tmp29_;
				gboolean _tmp32_;
				_tmp29_ = len;
				if (_tmp29_ == 5) {
					gchar* _tmp30_;
					gboolean _tmp31_ = FALSE;
					_tmp30_ = begin;
					_tmp31_ = vala_genie_scanner_matches (self, _tmp30_, "endif");
					_tmp28_ = _tmp31_;
				} else {
					_tmp28_ = FALSE;
				}
				_tmp32_ = _tmp28_;
				if (_tmp32_) {
					vala_genie_scanner_parse_pp_endif (self);
				} else {
					ValaSourceFile* _tmp33_;
					gint _tmp34_;
					gint _tmp35_;
					gint _tmp36_;
					gint _tmp37_;
					gint _tmp38_;
					ValaSourceReference* _tmp39_;
					ValaSourceReference* _tmp40_;
					_tmp33_ = self->priv->_source_file;
					_tmp34_ = self->priv->line;
					_tmp35_ = self->priv->column;
					_tmp36_ = len;
					_tmp37_ = self->priv->line;
					_tmp38_ = self->priv->column;
					_tmp39_ = vala_source_reference_new (_tmp33_, _tmp34_, _tmp35_ - _tmp36_, _tmp37_, _tmp38_);
					_tmp40_ = _tmp39_;
					vala_report_error (_tmp40_, "syntax error, invalid preprocessing directive");
					_vala_source_reference_unref0 (_tmp40_);
				}
			}
		}
	}
	_tmp42_ = self->priv->conditional_stack;
	_tmp42__length1 = self->priv->conditional_stack_length1;
	if (_tmp42__length1 > 0) {
		ValaGenieScannerConditional* _tmp43_;
		gint _tmp43__length1;
		ValaGenieScannerConditional* _tmp44_;
		gint _tmp44__length1;
		ValaGenieScannerConditional _tmp45_;
		gboolean _tmp46_;
		_tmp43_ = self->priv->conditional_stack;
		_tmp43__length1 = self->priv->conditional_stack_length1;
		_tmp44_ = self->priv->conditional_stack;
		_tmp44__length1 = self->priv->conditional_stack_length1;
		_tmp45_ = _tmp43_[_tmp44__length1 - 1];
		_tmp46_ = _tmp45_.skip_section;
		_tmp41_ = _tmp46_;
	} else {
		_tmp41_ = FALSE;
	}
	_tmp47_ = _tmp41_;
	if (_tmp47_) {
		gboolean bol;
		bol = FALSE;
		while (TRUE) {
			gchar* _tmp48_;
			gchar* _tmp49_;
			gboolean _tmp50_ = FALSE;
			gboolean _tmp51_;
			gboolean _tmp54_;
			gchar* _tmp57_;
			gchar _tmp58_;
			gchar* _tmp63_;
			gint _tmp64_;
			_tmp48_ = self->priv->current;
			_tmp49_ = self->priv->end;
			if (!(_tmp48_ < _tmp49_)) {
				break;
			}
			_tmp51_ = bol;
			if (_tmp51_) {
				gchar* _tmp52_;
				gchar _tmp53_;
				_tmp52_ = self->priv->current;
				_tmp53_ = _tmp52_[0];
				_tmp50_ = _tmp53_ == '#';
			} else {
				_tmp50_ = FALSE;
			}
			_tmp54_ = _tmp50_;
			if (_tmp54_) {
				gchar* _tmp55_;
				gint _tmp56_;
				_tmp55_ = self->priv->current;
				_tmp56_ = self->priv->column;
				self->priv->current = _tmp55_ - (_tmp56_ - 1);
				self->priv->column = 1;
				return;
			}
			_tmp57_ = self->priv->current;
			_tmp58_ = _tmp57_[0];
			if (_tmp58_ == '\n') {
				gint _tmp59_;
				_tmp59_ = self->priv->line;
				self->priv->line = _tmp59_ + 1;
				self->priv->column = 0;
				bol = TRUE;
			} else {
				gchar* _tmp60_;
				gchar _tmp61_;
				gboolean _tmp62_ = FALSE;
				_tmp60_ = self->priv->current;
				_tmp61_ = _tmp60_[0];
				_tmp62_ = g_ascii_isspace (_tmp61_);
				if (!_tmp62_) {
					bol = FALSE;
				}
			}
			_tmp63_ = self->priv->current;
			self->priv->current = _tmp63_ + 1;
			_tmp64_ = self->priv->column;
			self->priv->column = _tmp64_ + 1;
		}
	}
}


static void vala_genie_scanner_pp_eol (ValaGenieScanner* self) {
	gboolean _tmp0_ = FALSE;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	vala_genie_scanner_pp_whitespace (self);
	_tmp1_ = self->priv->current;
	_tmp2_ = self->priv->end;
	if (_tmp1_ >= _tmp2_) {
		_tmp0_ = TRUE;
	} else {
		gchar* _tmp3_;
		gchar _tmp4_;
		_tmp3_ = self->priv->current;
		_tmp4_ = _tmp3_[0];
		_tmp0_ = _tmp4_ != '\n';
	}
	_tmp5_ = _tmp0_;
	if (_tmp5_) {
		ValaSourceFile* _tmp6_;
		gint _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		gint _tmp10_;
		ValaSourceReference* _tmp11_;
		ValaSourceReference* _tmp12_;
		_tmp6_ = self->priv->_source_file;
		_tmp7_ = self->priv->line;
		_tmp8_ = self->priv->column;
		_tmp9_ = self->priv->line;
		_tmp10_ = self->priv->column;
		_tmp11_ = vala_source_reference_new (_tmp6_, _tmp7_, _tmp8_, _tmp9_, _tmp10_);
		_tmp12_ = _tmp11_;
		vala_report_error (_tmp12_, "syntax error, expected newline");
		_vala_source_reference_unref0 (_tmp12_);
	}
}


static void _vala_array_add11 (ValaGenieScannerConditional** array, int* length, int* size, const ValaGenieScannerConditional* value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (ValaGenieScannerConditional, *array, *size);
	}
	(*array)[(*length)++] = *value;
}


static void vala_genie_scanner_parse_pp_if (ValaGenieScanner* self) {
	gboolean _tmp0_ = FALSE;
	gboolean condition;
	ValaGenieScannerConditional* _tmp1_;
	gint _tmp1__length1;
	ValaGenieScannerConditional _tmp2_ = {0};
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_;
	gboolean _tmp12_;
	g_return_if_fail (self != NULL);
	vala_genie_scanner_pp_whitespace (self);
	_tmp0_ = vala_genie_scanner_parse_pp_expression (self);
	condition = _tmp0_;
	vala_genie_scanner_pp_eol (self);
	_tmp1_ = self->priv->conditional_stack;
	_tmp1__length1 = self->priv->conditional_stack_length1;
	memset (&_tmp2_, 0, sizeof (ValaGenieScannerConditional));
	_vala_array_add11 (&self->priv->conditional_stack, &self->priv->conditional_stack_length1, &self->priv->_conditional_stack_size_, &_tmp2_);
	_tmp4_ = condition;
	if (_tmp4_) {
		gboolean _tmp5_ = FALSE;
		ValaGenieScannerConditional* _tmp6_;
		gint _tmp6__length1;
		gboolean _tmp11_;
		_tmp6_ = self->priv->conditional_stack;
		_tmp6__length1 = self->priv->conditional_stack_length1;
		if (_tmp6__length1 == 1) {
			_tmp5_ = TRUE;
		} else {
			ValaGenieScannerConditional* _tmp7_;
			gint _tmp7__length1;
			ValaGenieScannerConditional* _tmp8_;
			gint _tmp8__length1;
			ValaGenieScannerConditional _tmp9_;
			gboolean _tmp10_;
			_tmp7_ = self->priv->conditional_stack;
			_tmp7__length1 = self->priv->conditional_stack_length1;
			_tmp8_ = self->priv->conditional_stack;
			_tmp8__length1 = self->priv->conditional_stack_length1;
			_tmp9_ = _tmp7_[_tmp8__length1 - 2];
			_tmp10_ = _tmp9_.skip_section;
			_tmp5_ = !_tmp10_;
		}
		_tmp11_ = _tmp5_;
		_tmp3_ = _tmp11_;
	} else {
		_tmp3_ = FALSE;
	}
	_tmp12_ = _tmp3_;
	if (_tmp12_) {
		ValaGenieScannerConditional* _tmp13_;
		gint _tmp13__length1;
		ValaGenieScannerConditional* _tmp14_;
		gint _tmp14__length1;
		_tmp13_ = self->priv->conditional_stack;
		_tmp13__length1 = self->priv->conditional_stack_length1;
		_tmp14_ = self->priv->conditional_stack;
		_tmp14__length1 = self->priv->conditional_stack_length1;
		_tmp13_[_tmp14__length1 - 1].matched = TRUE;
	} else {
		ValaGenieScannerConditional* _tmp15_;
		gint _tmp15__length1;
		ValaGenieScannerConditional* _tmp16_;
		gint _tmp16__length1;
		_tmp15_ = self->priv->conditional_stack;
		_tmp15__length1 = self->priv->conditional_stack_length1;
		_tmp16_ = self->priv->conditional_stack;
		_tmp16__length1 = self->priv->conditional_stack_length1;
		_tmp15_[_tmp16__length1 - 1].skip_section = TRUE;
	}
}


static void vala_genie_scanner_parse_pp_elif (ValaGenieScanner* self) {
	gboolean _tmp0_ = FALSE;
	gboolean condition;
	gboolean _tmp1_ = FALSE;
	ValaGenieScannerConditional* _tmp2_;
	gint _tmp2__length1;
	gboolean _tmp7_;
	gboolean _tmp15_ = FALSE;
	gboolean _tmp16_ = FALSE;
	gboolean _tmp17_;
	gboolean _tmp22_;
	gboolean _tmp30_;
	g_return_if_fail (self != NULL);
	vala_genie_scanner_pp_whitespace (self);
	_tmp0_ = vala_genie_scanner_parse_pp_expression (self);
	condition = _tmp0_;
	vala_genie_scanner_pp_eol (self);
	_tmp2_ = self->priv->conditional_stack;
	_tmp2__length1 = self->priv->conditional_stack_length1;
	if (_tmp2__length1 == 0) {
		_tmp1_ = TRUE;
	} else {
		ValaGenieScannerConditional* _tmp3_;
		gint _tmp3__length1;
		ValaGenieScannerConditional* _tmp4_;
		gint _tmp4__length1;
		ValaGenieScannerConditional _tmp5_;
		gboolean _tmp6_;
		_tmp3_ = self->priv->conditional_stack;
		_tmp3__length1 = self->priv->conditional_stack_length1;
		_tmp4_ = self->priv->conditional_stack;
		_tmp4__length1 = self->priv->conditional_stack_length1;
		_tmp5_ = _tmp3_[_tmp4__length1 - 1];
		_tmp6_ = _tmp5_.else_found;
		_tmp1_ = _tmp6_;
	}
	_tmp7_ = _tmp1_;
	if (_tmp7_) {
		ValaSourceFile* _tmp8_;
		gint _tmp9_;
		gint _tmp10_;
		gint _tmp11_;
		gint _tmp12_;
		ValaSourceReference* _tmp13_;
		ValaSourceReference* _tmp14_;
		_tmp8_ = self->priv->_source_file;
		_tmp9_ = self->priv->line;
		_tmp10_ = self->priv->column;
		_tmp11_ = self->priv->line;
		_tmp12_ = self->priv->column;
		_tmp13_ = vala_source_reference_new (_tmp8_, _tmp9_, _tmp10_, _tmp11_, _tmp12_);
		_tmp14_ = _tmp13_;
		vala_report_error (_tmp14_, "syntax error, unexpected #elif");
		_vala_source_reference_unref0 (_tmp14_);
		return;
	}
	_tmp17_ = condition;
	if (_tmp17_) {
		ValaGenieScannerConditional* _tmp18_;
		gint _tmp18__length1;
		ValaGenieScannerConditional* _tmp19_;
		gint _tmp19__length1;
		ValaGenieScannerConditional _tmp20_;
		gboolean _tmp21_;
		_tmp18_ = self->priv->conditional_stack;
		_tmp18__length1 = self->priv->conditional_stack_length1;
		_tmp19_ = self->priv->conditional_stack;
		_tmp19__length1 = self->priv->conditional_stack_length1;
		_tmp20_ = _tmp18_[_tmp19__length1 - 1];
		_tmp21_ = _tmp20_.matched;
		_tmp16_ = !_tmp21_;
	} else {
		_tmp16_ = FALSE;
	}
	_tmp22_ = _tmp16_;
	if (_tmp22_) {
		gboolean _tmp23_ = FALSE;
		ValaGenieScannerConditional* _tmp24_;
		gint _tmp24__length1;
		gboolean _tmp29_;
		_tmp24_ = self->priv->conditional_stack;
		_tmp24__length1 = self->priv->conditional_stack_length1;
		if (_tmp24__length1 == 1) {
			_tmp23_ = TRUE;
		} else {
			ValaGenieScannerConditional* _tmp25_;
			gint _tmp25__length1;
			ValaGenieScannerConditional* _tmp26_;
			gint _tmp26__length1;
			ValaGenieScannerConditional _tmp27_;
			gboolean _tmp28_;
			_tmp25_ = self->priv->conditional_stack;
			_tmp25__length1 = self->priv->conditional_stack_length1;
			_tmp26_ = self->priv->conditional_stack;
			_tmp26__length1 = self->priv->conditional_stack_length1;
			_tmp27_ = _tmp25_[_tmp26__length1 - 2];
			_tmp28_ = _tmp27_.skip_section;
			_tmp23_ = !_tmp28_;
		}
		_tmp29_ = _tmp23_;
		_tmp15_ = _tmp29_;
	} else {
		_tmp15_ = FALSE;
	}
	_tmp30_ = _tmp15_;
	if (_tmp30_) {
		ValaGenieScannerConditional* _tmp31_;
		gint _tmp31__length1;
		ValaGenieScannerConditional* _tmp32_;
		gint _tmp32__length1;
		ValaGenieScannerConditional* _tmp33_;
		gint _tmp33__length1;
		ValaGenieScannerConditional* _tmp34_;
		gint _tmp34__length1;
		_tmp31_ = self->priv->conditional_stack;
		_tmp31__length1 = self->priv->conditional_stack_length1;
		_tmp32_ = self->priv->conditional_stack;
		_tmp32__length1 = self->priv->conditional_stack_length1;
		_tmp31_[_tmp32__length1 - 1].matched = TRUE;
		_tmp33_ = self->priv->conditional_stack;
		_tmp33__length1 = self->priv->conditional_stack_length1;
		_tmp34_ = self->priv->conditional_stack;
		_tmp34__length1 = self->priv->conditional_stack_length1;
		_tmp33_[_tmp34__length1 - 1].skip_section = FALSE;
	} else {
		ValaGenieScannerConditional* _tmp35_;
		gint _tmp35__length1;
		ValaGenieScannerConditional* _tmp36_;
		gint _tmp36__length1;
		_tmp35_ = self->priv->conditional_stack;
		_tmp35__length1 = self->priv->conditional_stack_length1;
		_tmp36_ = self->priv->conditional_stack;
		_tmp36__length1 = self->priv->conditional_stack_length1;
		_tmp35_[_tmp36__length1 - 1].skip_section = TRUE;
	}
}


static void vala_genie_scanner_parse_pp_else (ValaGenieScanner* self) {
	gboolean _tmp0_ = FALSE;
	ValaGenieScannerConditional* _tmp1_;
	gint _tmp1__length1;
	gboolean _tmp6_;
	gboolean _tmp14_ = FALSE;
	ValaGenieScannerConditional* _tmp15_;
	gint _tmp15__length1;
	ValaGenieScannerConditional* _tmp16_;
	gint _tmp16__length1;
	ValaGenieScannerConditional _tmp17_;
	gboolean _tmp18_;
	gboolean _tmp26_;
	g_return_if_fail (self != NULL);
	vala_genie_scanner_pp_eol (self);
	_tmp1_ = self->priv->conditional_stack;
	_tmp1__length1 = self->priv->conditional_stack_length1;
	if (_tmp1__length1 == 0) {
		_tmp0_ = TRUE;
	} else {
		ValaGenieScannerConditional* _tmp2_;
		gint _tmp2__length1;
		ValaGenieScannerConditional* _tmp3_;
		gint _tmp3__length1;
		ValaGenieScannerConditional _tmp4_;
		gboolean _tmp5_;
		_tmp2_ = self->priv->conditional_stack;
		_tmp2__length1 = self->priv->conditional_stack_length1;
		_tmp3_ = self->priv->conditional_stack;
		_tmp3__length1 = self->priv->conditional_stack_length1;
		_tmp4_ = _tmp2_[_tmp3__length1 - 1];
		_tmp5_ = _tmp4_.else_found;
		_tmp0_ = _tmp5_;
	}
	_tmp6_ = _tmp0_;
	if (_tmp6_) {
		ValaSourceFile* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		gint _tmp10_;
		gint _tmp11_;
		ValaSourceReference* _tmp12_;
		ValaSourceReference* _tmp13_;
		_tmp7_ = self->priv->_source_file;
		_tmp8_ = self->priv->line;
		_tmp9_ = self->priv->column;
		_tmp10_ = self->priv->line;
		_tmp11_ = self->priv->column;
		_tmp12_ = vala_source_reference_new (_tmp7_, _tmp8_, _tmp9_, _tmp10_, _tmp11_);
		_tmp13_ = _tmp12_;
		vala_report_error (_tmp13_, "syntax error, unexpected #else");
		_vala_source_reference_unref0 (_tmp13_);
		return;
	}
	_tmp15_ = self->priv->conditional_stack;
	_tmp15__length1 = self->priv->conditional_stack_length1;
	_tmp16_ = self->priv->conditional_stack;
	_tmp16__length1 = self->priv->conditional_stack_length1;
	_tmp17_ = _tmp15_[_tmp16__length1 - 1];
	_tmp18_ = _tmp17_.matched;
	if (!_tmp18_) {
		gboolean _tmp19_ = FALSE;
		ValaGenieScannerConditional* _tmp20_;
		gint _tmp20__length1;
		gboolean _tmp25_;
		_tmp20_ = self->priv->conditional_stack;
		_tmp20__length1 = self->priv->conditional_stack_length1;
		if (_tmp20__length1 == 1) {
			_tmp19_ = TRUE;
		} else {
			ValaGenieScannerConditional* _tmp21_;
			gint _tmp21__length1;
			ValaGenieScannerConditional* _tmp22_;
			gint _tmp22__length1;
			ValaGenieScannerConditional _tmp23_;
			gboolean _tmp24_;
			_tmp21_ = self->priv->conditional_stack;
			_tmp21__length1 = self->priv->conditional_stack_length1;
			_tmp22_ = self->priv->conditional_stack;
			_tmp22__length1 = self->priv->conditional_stack_length1;
			_tmp23_ = _tmp21_[_tmp22__length1 - 2];
			_tmp24_ = _tmp23_.skip_section;
			_tmp19_ = !_tmp24_;
		}
		_tmp25_ = _tmp19_;
		_tmp14_ = _tmp25_;
	} else {
		_tmp14_ = FALSE;
	}
	_tmp26_ = _tmp14_;
	if (_tmp26_) {
		ValaGenieScannerConditional* _tmp27_;
		gint _tmp27__length1;
		ValaGenieScannerConditional* _tmp28_;
		gint _tmp28__length1;
		ValaGenieScannerConditional* _tmp29_;
		gint _tmp29__length1;
		ValaGenieScannerConditional* _tmp30_;
		gint _tmp30__length1;
		_tmp27_ = self->priv->conditional_stack;
		_tmp27__length1 = self->priv->conditional_stack_length1;
		_tmp28_ = self->priv->conditional_stack;
		_tmp28__length1 = self->priv->conditional_stack_length1;
		_tmp27_[_tmp28__length1 - 1].matched = TRUE;
		_tmp29_ = self->priv->conditional_stack;
		_tmp29__length1 = self->priv->conditional_stack_length1;
		_tmp30_ = self->priv->conditional_stack;
		_tmp30__length1 = self->priv->conditional_stack_length1;
		_tmp29_[_tmp30__length1 - 1].skip_section = FALSE;
	} else {
		ValaGenieScannerConditional* _tmp31_;
		gint _tmp31__length1;
		ValaGenieScannerConditional* _tmp32_;
		gint _tmp32__length1;
		_tmp31_ = self->priv->conditional_stack;
		_tmp31__length1 = self->priv->conditional_stack_length1;
		_tmp32_ = self->priv->conditional_stack;
		_tmp32__length1 = self->priv->conditional_stack_length1;
		_tmp31_[_tmp32__length1 - 1].skip_section = TRUE;
	}
}


static void vala_genie_scanner_parse_pp_endif (ValaGenieScanner* self) {
	ValaGenieScannerConditional* _tmp0_;
	gint _tmp0__length1;
	gint _tmp8_;
	g_return_if_fail (self != NULL);
	vala_genie_scanner_pp_eol (self);
	_tmp0_ = self->priv->conditional_stack;
	_tmp0__length1 = self->priv->conditional_stack_length1;
	if (_tmp0__length1 == 0) {
		ValaSourceFile* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		ValaSourceReference* _tmp6_;
		ValaSourceReference* _tmp7_;
		_tmp1_ = self->priv->_source_file;
		_tmp2_ = self->priv->line;
		_tmp3_ = self->priv->column;
		_tmp4_ = self->priv->line;
		_tmp5_ = self->priv->column;
		_tmp6_ = vala_source_reference_new (_tmp1_, _tmp2_, _tmp3_, _tmp4_, _tmp5_);
		_tmp7_ = _tmp6_;
		vala_report_error (_tmp7_, "syntax error, unexpected #endif");
		_vala_source_reference_unref0 (_tmp7_);
		return;
	}
	_tmp8_ = self->priv->conditional_stack_length1;
	self->priv->conditional_stack_length1 = _tmp8_ - 1;
}


static gboolean vala_genie_scanner_parse_pp_symbol (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gint len;
	gint _tmp10_;
	gchar* _tmp18_;
	gint _tmp19_;
	gint _tmp20_;
	gchar* _tmp21_ = NULL;
	gchar* identifier;
	gboolean defined = FALSE;
	const gchar* _tmp22_;
	g_return_val_if_fail (self != NULL, FALSE);
	len = 0;
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gboolean _tmp6_;
		gchar* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		_tmp1_ = self->priv->current;
		_tmp2_ = self->priv->end;
		if (_tmp1_ < _tmp2_) {
			gchar* _tmp3_;
			gchar _tmp4_;
			gboolean _tmp5_ = FALSE;
			_tmp3_ = self->priv->current;
			_tmp4_ = _tmp3_[0];
			_tmp5_ = vala_genie_scanner_is_ident_char (self, _tmp4_);
			_tmp0_ = _tmp5_;
		} else {
			_tmp0_ = FALSE;
		}
		_tmp6_ = _tmp0_;
		if (!_tmp6_) {
			break;
		}
		_tmp7_ = self->priv->current;
		self->priv->current = _tmp7_ + 1;
		_tmp8_ = self->priv->column;
		self->priv->column = _tmp8_ + 1;
		_tmp9_ = len;
		len = _tmp9_ + 1;
	}
	_tmp10_ = len;
	if (_tmp10_ == 0) {
		ValaSourceFile* _tmp11_;
		gint _tmp12_;
		gint _tmp13_;
		gint _tmp14_;
		gint _tmp15_;
		ValaSourceReference* _tmp16_;
		ValaSourceReference* _tmp17_;
		_tmp11_ = self->priv->_source_file;
		_tmp12_ = self->priv->line;
		_tmp13_ = self->priv->column;
		_tmp14_ = self->priv->line;
		_tmp15_ = self->priv->column;
		_tmp16_ = vala_source_reference_new (_tmp11_, _tmp12_, _tmp13_, _tmp14_, _tmp15_);
		_tmp17_ = _tmp16_;
		vala_report_error (_tmp17_, "syntax error, expected identifier");
		_vala_source_reference_unref0 (_tmp17_);
		result = FALSE;
		return result;
	}
	_tmp18_ = self->priv->current;
	_tmp19_ = len;
	_tmp20_ = len;
	_tmp21_ = string_substring ((const gchar*) (_tmp18_ - _tmp19_), (glong) 0, (glong) _tmp20_);
	identifier = _tmp21_;
	_tmp22_ = identifier;
	if (g_strcmp0 (_tmp22_, "true") == 0) {
		defined = TRUE;
	} else {
		const gchar* _tmp23_;
		_tmp23_ = identifier;
		if (g_strcmp0 (_tmp23_, "false") == 0) {
			defined = FALSE;
		} else {
			ValaSourceFile* _tmp24_;
			ValaCodeContext* _tmp25_;
			ValaCodeContext* _tmp26_;
			const gchar* _tmp27_;
			gboolean _tmp28_ = FALSE;
			_tmp24_ = self->priv->_source_file;
			_tmp25_ = vala_source_file_get_context (_tmp24_);
			_tmp26_ = _tmp25_;
			_tmp27_ = identifier;
			_tmp28_ = vala_code_context_is_defined (_tmp26_, _tmp27_);
			defined = _tmp28_;
		}
	}
	result = defined;
	_g_free0 (identifier);
	return result;
}


static gboolean vala_genie_scanner_parse_pp_primary_expression (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gchar* _tmp0_;
	gchar* _tmp1_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->current;
	_tmp1_ = self->priv->end;
	if (_tmp0_ >= _tmp1_) {
		ValaSourceFile* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		gint _tmp6_;
		ValaSourceReference* _tmp7_;
		ValaSourceReference* _tmp8_;
		_tmp2_ = self->priv->_source_file;
		_tmp3_ = self->priv->line;
		_tmp4_ = self->priv->column;
		_tmp5_ = self->priv->line;
		_tmp6_ = self->priv->column;
		_tmp7_ = vala_source_reference_new (_tmp2_, _tmp3_, _tmp4_, _tmp5_, _tmp6_);
		_tmp8_ = _tmp7_;
		vala_report_error (_tmp8_, "syntax error, expected identifier");
		_vala_source_reference_unref0 (_tmp8_);
	} else {
		gchar* _tmp9_;
		gchar _tmp10_;
		gboolean _tmp11_ = FALSE;
		_tmp9_ = self->priv->current;
		_tmp10_ = _tmp9_[0];
		_tmp11_ = vala_genie_scanner_is_ident_char (self, _tmp10_);
		if (_tmp11_) {
			gboolean _tmp12_ = FALSE;
			_tmp12_ = vala_genie_scanner_parse_pp_symbol (self);
			result = _tmp12_;
			return result;
		} else {
			gchar* _tmp13_;
			gchar _tmp14_;
			_tmp13_ = self->priv->current;
			_tmp14_ = _tmp13_[0];
			if (_tmp14_ == '(') {
				gchar* _tmp15_;
				gint _tmp16_;
				gboolean _tmp17_ = FALSE;
				gboolean _result_;
				gboolean _tmp18_ = FALSE;
				gchar* _tmp19_;
				gchar* _tmp20_;
				gboolean _tmp23_;
				_tmp15_ = self->priv->current;
				self->priv->current = _tmp15_ + 1;
				_tmp16_ = self->priv->column;
				self->priv->column = _tmp16_ + 1;
				vala_genie_scanner_pp_whitespace (self);
				_tmp17_ = vala_genie_scanner_parse_pp_expression (self);
				_result_ = _tmp17_;
				vala_genie_scanner_pp_whitespace (self);
				_tmp19_ = self->priv->current;
				_tmp20_ = self->priv->end;
				if (_tmp19_ < _tmp20_) {
					gchar* _tmp21_;
					gchar _tmp22_;
					_tmp21_ = self->priv->current;
					_tmp22_ = _tmp21_[0];
					_tmp18_ = _tmp22_ == ')';
				} else {
					_tmp18_ = FALSE;
				}
				_tmp23_ = _tmp18_;
				if (_tmp23_) {
					gchar* _tmp24_;
					gint _tmp25_;
					_tmp24_ = self->priv->current;
					self->priv->current = _tmp24_ + 1;
					_tmp25_ = self->priv->column;
					self->priv->column = _tmp25_ + 1;
				} else {
					ValaSourceFile* _tmp26_;
					gint _tmp27_;
					gint _tmp28_;
					gint _tmp29_;
					gint _tmp30_;
					ValaSourceReference* _tmp31_;
					ValaSourceReference* _tmp32_;
					_tmp26_ = self->priv->_source_file;
					_tmp27_ = self->priv->line;
					_tmp28_ = self->priv->column;
					_tmp29_ = self->priv->line;
					_tmp30_ = self->priv->column;
					_tmp31_ = vala_source_reference_new (_tmp26_, _tmp27_, _tmp28_, _tmp29_, _tmp30_);
					_tmp32_ = _tmp31_;
					vala_report_error (_tmp32_, "syntax error, expected `)'");
					_vala_source_reference_unref0 (_tmp32_);
				}
				result = _result_;
				return result;
			} else {
				ValaSourceFile* _tmp33_;
				gint _tmp34_;
				gint _tmp35_;
				gint _tmp36_;
				gint _tmp37_;
				ValaSourceReference* _tmp38_;
				ValaSourceReference* _tmp39_;
				_tmp33_ = self->priv->_source_file;
				_tmp34_ = self->priv->line;
				_tmp35_ = self->priv->column;
				_tmp36_ = self->priv->line;
				_tmp37_ = self->priv->column;
				_tmp38_ = vala_source_reference_new (_tmp33_, _tmp34_, _tmp35_, _tmp36_, _tmp37_);
				_tmp39_ = _tmp38_;
				vala_report_error (_tmp39_, "syntax error, expected identifier");
				_vala_source_reference_unref0 (_tmp39_);
			}
		}
	}
	result = FALSE;
	return result;
}


static gboolean vala_genie_scanner_parse_pp_unary_expression (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp5_;
	gboolean _tmp9_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = self->priv->current;
	_tmp2_ = self->priv->end;
	if (_tmp1_ < _tmp2_) {
		gchar* _tmp3_;
		gchar _tmp4_;
		_tmp3_ = self->priv->current;
		_tmp4_ = _tmp3_[0];
		_tmp0_ = _tmp4_ == '!';
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = _tmp0_;
	if (_tmp5_) {
		gchar* _tmp6_;
		gint _tmp7_;
		gboolean _tmp8_ = FALSE;
		_tmp6_ = self->priv->current;
		self->priv->current = _tmp6_ + 1;
		_tmp7_ = self->priv->column;
		self->priv->column = _tmp7_ + 1;
		vala_genie_scanner_pp_whitespace (self);
		_tmp8_ = vala_genie_scanner_parse_pp_unary_expression (self);
		result = !_tmp8_;
		return result;
	}
	_tmp9_ = vala_genie_scanner_parse_pp_primary_expression (self);
	result = _tmp9_;
	return result;
}


static gboolean vala_genie_scanner_parse_pp_equality_expression (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean left;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = vala_genie_scanner_parse_pp_unary_expression (self);
	left = _tmp0_;
	vala_genie_scanner_pp_whitespace (self);
	while (TRUE) {
		gboolean _tmp1_ = FALSE;
		gboolean _tmp2_ = FALSE;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gboolean _tmp7_;
		gboolean _tmp10_;
		_tmp3_ = self->priv->current;
		_tmp4_ = self->priv->end;
		if (_tmp3_ < (_tmp4_ - 1)) {
			gchar* _tmp5_;
			gchar _tmp6_;
			_tmp5_ = self->priv->current;
			_tmp6_ = _tmp5_[0];
			_tmp2_ = _tmp6_ == '=';
		} else {
			_tmp2_ = FALSE;
		}
		_tmp7_ = _tmp2_;
		if (_tmp7_) {
			gchar* _tmp8_;
			gchar _tmp9_;
			_tmp8_ = self->priv->current;
			_tmp9_ = _tmp8_[1];
			_tmp1_ = _tmp9_ == '=';
		} else {
			_tmp1_ = FALSE;
		}
		_tmp10_ = _tmp1_;
		if (_tmp10_) {
			gchar* _tmp11_;
			gint _tmp12_;
			gboolean _tmp13_ = FALSE;
			gboolean right;
			gboolean _tmp14_;
			gboolean _tmp15_;
			_tmp11_ = self->priv->current;
			self->priv->current = _tmp11_ + 2;
			_tmp12_ = self->priv->column;
			self->priv->column = _tmp12_ + 2;
			vala_genie_scanner_pp_whitespace (self);
			_tmp13_ = vala_genie_scanner_parse_pp_unary_expression (self);
			right = _tmp13_;
			_tmp14_ = left;
			_tmp15_ = right;
			left = _tmp14_ == _tmp15_;
		} else {
			gboolean _tmp16_ = FALSE;
			gboolean _tmp17_ = FALSE;
			gchar* _tmp18_;
			gchar* _tmp19_;
			gboolean _tmp22_;
			gboolean _tmp25_;
			_tmp18_ = self->priv->current;
			_tmp19_ = self->priv->end;
			if (_tmp18_ < (_tmp19_ - 1)) {
				gchar* _tmp20_;
				gchar _tmp21_;
				_tmp20_ = self->priv->current;
				_tmp21_ = _tmp20_[0];
				_tmp17_ = _tmp21_ == '!';
			} else {
				_tmp17_ = FALSE;
			}
			_tmp22_ = _tmp17_;
			if (_tmp22_) {
				gchar* _tmp23_;
				gchar _tmp24_;
				_tmp23_ = self->priv->current;
				_tmp24_ = _tmp23_[1];
				_tmp16_ = _tmp24_ == '=';
			} else {
				_tmp16_ = FALSE;
			}
			_tmp25_ = _tmp16_;
			if (_tmp25_) {
				gchar* _tmp26_;
				gint _tmp27_;
				gboolean _tmp28_ = FALSE;
				gboolean right;
				gboolean _tmp29_;
				gboolean _tmp30_;
				_tmp26_ = self->priv->current;
				self->priv->current = _tmp26_ + 2;
				_tmp27_ = self->priv->column;
				self->priv->column = _tmp27_ + 2;
				vala_genie_scanner_pp_whitespace (self);
				_tmp28_ = vala_genie_scanner_parse_pp_unary_expression (self);
				right = _tmp28_;
				_tmp29_ = left;
				_tmp30_ = right;
				left = _tmp29_ != _tmp30_;
			} else {
				break;
			}
		}
	}
	result = left;
	return result;
}


static gboolean vala_genie_scanner_parse_pp_and_expression (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean left;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = vala_genie_scanner_parse_pp_equality_expression (self);
	left = _tmp0_;
	vala_genie_scanner_pp_whitespace (self);
	while (TRUE) {
		gboolean _tmp1_ = FALSE;
		gboolean _tmp2_ = FALSE;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gboolean _tmp7_;
		gboolean _tmp10_;
		gchar* _tmp11_;
		gint _tmp12_;
		gboolean _tmp13_ = FALSE;
		gboolean right;
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_;
		gboolean _tmp17_;
		_tmp3_ = self->priv->current;
		_tmp4_ = self->priv->end;
		if (_tmp3_ < (_tmp4_ - 1)) {
			gchar* _tmp5_;
			gchar _tmp6_;
			_tmp5_ = self->priv->current;
			_tmp6_ = _tmp5_[0];
			_tmp2_ = _tmp6_ == '&';
		} else {
			_tmp2_ = FALSE;
		}
		_tmp7_ = _tmp2_;
		if (_tmp7_) {
			gchar* _tmp8_;
			gchar _tmp9_;
			_tmp8_ = self->priv->current;
			_tmp9_ = _tmp8_[1];
			_tmp1_ = _tmp9_ == '&';
		} else {
			_tmp1_ = FALSE;
		}
		_tmp10_ = _tmp1_;
		if (!_tmp10_) {
			break;
		}
		_tmp11_ = self->priv->current;
		self->priv->current = _tmp11_ + 2;
		_tmp12_ = self->priv->column;
		self->priv->column = _tmp12_ + 2;
		vala_genie_scanner_pp_whitespace (self);
		_tmp13_ = vala_genie_scanner_parse_pp_equality_expression (self);
		right = _tmp13_;
		_tmp15_ = left;
		if (_tmp15_) {
			gboolean _tmp16_;
			_tmp16_ = right;
			_tmp14_ = _tmp16_;
		} else {
			_tmp14_ = FALSE;
		}
		_tmp17_ = _tmp14_;
		left = _tmp17_;
	}
	result = left;
	return result;
}


static gboolean vala_genie_scanner_parse_pp_or_expression (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean left;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = vala_genie_scanner_parse_pp_and_expression (self);
	left = _tmp0_;
	vala_genie_scanner_pp_whitespace (self);
	while (TRUE) {
		gboolean _tmp1_ = FALSE;
		gboolean _tmp2_ = FALSE;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gboolean _tmp7_;
		gboolean _tmp10_;
		gchar* _tmp11_;
		gint _tmp12_;
		gboolean _tmp13_ = FALSE;
		gboolean right;
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_;
		gboolean _tmp17_;
		_tmp3_ = self->priv->current;
		_tmp4_ = self->priv->end;
		if (_tmp3_ < (_tmp4_ - 1)) {
			gchar* _tmp5_;
			gchar _tmp6_;
			_tmp5_ = self->priv->current;
			_tmp6_ = _tmp5_[0];
			_tmp2_ = _tmp6_ == '|';
		} else {
			_tmp2_ = FALSE;
		}
		_tmp7_ = _tmp2_;
		if (_tmp7_) {
			gchar* _tmp8_;
			gchar _tmp9_;
			_tmp8_ = self->priv->current;
			_tmp9_ = _tmp8_[1];
			_tmp1_ = _tmp9_ == '|';
		} else {
			_tmp1_ = FALSE;
		}
		_tmp10_ = _tmp1_;
		if (!_tmp10_) {
			break;
		}
		_tmp11_ = self->priv->current;
		self->priv->current = _tmp11_ + 2;
		_tmp12_ = self->priv->column;
		self->priv->column = _tmp12_ + 2;
		vala_genie_scanner_pp_whitespace (self);
		_tmp13_ = vala_genie_scanner_parse_pp_and_expression (self);
		right = _tmp13_;
		_tmp15_ = left;
		if (_tmp15_) {
			_tmp14_ = TRUE;
		} else {
			gboolean _tmp16_;
			_tmp16_ = right;
			_tmp14_ = _tmp16_;
		}
		_tmp17_ = _tmp14_;
		left = _tmp17_;
	}
	result = left;
	return result;
}


static gboolean vala_genie_scanner_parse_pp_expression (ValaGenieScanner* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = vala_genie_scanner_parse_pp_or_expression (self);
	result = _tmp0_;
	return result;
}


ValaSourceFile* vala_genie_scanner_get_source_file (ValaGenieScanner* self) {
	ValaSourceFile* result;
	ValaSourceFile* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_source_file;
	result = _tmp0_;
	return result;
}


static gpointer _vala_source_file_ref0 (gpointer self) {
	return self ? vala_source_file_ref (self) : NULL;
}


static void vala_genie_scanner_set_source_file (ValaGenieScanner* self, ValaSourceFile* value) {
	ValaSourceFile* _tmp0_;
	ValaSourceFile* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = _vala_source_file_ref0 (_tmp0_);
	_vala_source_file_unref0 (self->priv->_source_file);
	self->priv->_source_file = _tmp1_;
}


gint vala_genie_scanner_get_indent_spaces (ValaGenieScanner* self) {
	gint result;
	gint _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_indent_spaces;
	result = _tmp0_;
	return result;
}


void vala_genie_scanner_set_indent_spaces (ValaGenieScanner* self, gint value) {
	gint _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_indent_spaces = _tmp0_;
}


static ValaGenieScannerConditional* vala_genie_scanner_conditional_dup (const ValaGenieScannerConditional* self) {
	ValaGenieScannerConditional* dup;
	dup = g_new0 (ValaGenieScannerConditional, 1);
	memcpy (dup, self, sizeof (ValaGenieScannerConditional));
	return dup;
}


static void vala_genie_scanner_conditional_free (ValaGenieScannerConditional* self) {
	g_free (self);
}


static GType vala_genie_scanner_conditional_get_type (void) {
	static volatile gsize vala_genie_scanner_conditional_type_id__volatile = 0;
	if (g_once_init_enter (&vala_genie_scanner_conditional_type_id__volatile)) {
		GType vala_genie_scanner_conditional_type_id;
		vala_genie_scanner_conditional_type_id = g_boxed_type_register_static ("ValaGenieScannerConditional", (GBoxedCopyFunc) vala_genie_scanner_conditional_dup, (GBoxedFreeFunc) vala_genie_scanner_conditional_free);
		g_once_init_leave (&vala_genie_scanner_conditional_type_id__volatile, vala_genie_scanner_conditional_type_id);
	}
	return vala_genie_scanner_conditional_type_id__volatile;
}


static void vala_genie_value_scanner_init (GValue* value) {
	value->data[0].v_pointer = NULL;
}


static void vala_genie_value_scanner_free_value (GValue* value) {
	if (value->data[0].v_pointer) {
		vala_genie_scanner_unref (value->data[0].v_pointer);
	}
}


static void vala_genie_value_scanner_copy_value (const GValue* src_value, GValue* dest_value) {
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = vala_genie_scanner_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}


static gpointer vala_genie_value_scanner_peek_pointer (const GValue* value) {
	return value->data[0].v_pointer;
}


static gchar* vala_genie_value_scanner_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	if (collect_values[0].v_pointer) {
		ValaGenieScanner* object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = vala_genie_scanner_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}


static gchar* vala_genie_value_scanner_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	ValaGenieScanner** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = vala_genie_scanner_ref (value->data[0].v_pointer);
	}
	return NULL;
}


GParamSpec* vala_genie_param_spec_scanner (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ValaGenieParamSpecScanner* spec;
	g_return_val_if_fail (g_type_is_a (object_type, VALA_GENIE_TYPE_SCANNER), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}


gpointer vala_genie_value_get_scanner (const GValue* value) {
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALA_GENIE_TYPE_SCANNER), NULL);
	return value->data[0].v_pointer;
}


void vala_genie_value_set_scanner (GValue* value, gpointer v_object) {
	ValaGenieScanner* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALA_GENIE_TYPE_SCANNER));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VALA_GENIE_TYPE_SCANNER));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		vala_genie_scanner_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		vala_genie_scanner_unref (old);
	}
}


void vala_genie_value_take_scanner (GValue* value, gpointer v_object) {
	ValaGenieScanner* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALA_GENIE_TYPE_SCANNER));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VALA_GENIE_TYPE_SCANNER));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		vala_genie_scanner_unref (old);
	}
}


static void vala_genie_scanner_class_init (ValaGenieScannerClass * klass) {
	vala_genie_scanner_parent_class = g_type_class_peek_parent (klass);
	VALA_GENIE_SCANNER_CLASS (klass)->finalize = vala_genie_scanner_finalize;
	g_type_class_add_private (klass, sizeof (ValaGenieScannerPrivate));
}


static void vala_genie_scanner_instance_init (ValaGenieScanner * self) {
	self->priv = VALA_GENIE_SCANNER_GET_PRIVATE (self);
	self->ref_count = 1;
}


static void vala_genie_scanner_finalize (ValaGenieScanner* obj) {
	ValaGenieScanner * self;
	self = VALA_GENIE_SCANNER (obj);
	_vala_source_file_unref0 (self->priv->_source_file);
	_vala_comment_unref0 (self->priv->_comment);
	self->priv->conditional_stack = (g_free (self->priv->conditional_stack), NULL);
	self->priv->state_stack = (g_free (self->priv->state_stack), NULL);
}


/**
 * Lexical scanner for Genie source files.
 */
GType vala_genie_scanner_get_type (void) {
	static volatile gsize vala_genie_scanner_type_id__volatile = 0;
	if (g_once_init_enter (&vala_genie_scanner_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { vala_genie_value_scanner_init, vala_genie_value_scanner_free_value, vala_genie_value_scanner_copy_value, vala_genie_value_scanner_peek_pointer, "p", vala_genie_value_scanner_collect_value, "p", vala_genie_value_scanner_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ValaGenieScannerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_genie_scanner_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValaGenieScanner), 0, (GInstanceInitFunc) vala_genie_scanner_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType vala_genie_scanner_type_id;
		vala_genie_scanner_type_id = g_type_register_fundamental (g_type_fundamental_next (), "ValaGenieScanner", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&vala_genie_scanner_type_id__volatile, vala_genie_scanner_type_id);
	}
	return vala_genie_scanner_type_id__volatile;
}


gpointer vala_genie_scanner_ref (gpointer instance) {
	ValaGenieScanner* self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}


void vala_genie_scanner_unref (gpointer instance) {
	ValaGenieScanner* self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		VALA_GENIE_SCANNER_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}



